const logger = require('hgi-logger')
const env = require('dotenv')

module.exports.debugMiddleware = (req, res, next) => {
  if(process.env.DEBUG) {
    console.log('[hgi-debug]', req.method, req.originalUrl)
    if(req.method == 'POST') {
      if (!req.is('application/json'))
        console.log('[hgi-debug]', JSON.stringify(req.body))
      else 
        console.log('[hgi-debug]', req.body)
    }
  }
  return next()
}

module.exports.log = (...msg) => {
  if(process.env.DEBUG) {
      console.log(...msg)
  }
}