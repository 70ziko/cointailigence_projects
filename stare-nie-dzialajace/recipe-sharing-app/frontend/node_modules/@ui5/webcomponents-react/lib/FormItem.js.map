{"version":3,"file":"FormItem.js","sources":["../src/components/FormItem/index.tsx"],"sourcesContent":["import { CssSizeVariables } from '@ui5/webcomponents-react-base/lib/CssSizeVariables';\nimport { FlexBox } from '@ui5/webcomponents-react/lib/FlexBox';\nimport { FlexBoxAlignItems } from '@ui5/webcomponents-react/lib/FlexBoxAlignItems';\nimport { FlexBoxDirection } from '@ui5/webcomponents-react/lib/FlexBoxDirection';\nimport { Label, LabelPropTypes } from '@ui5/webcomponents-react/lib/Label';\nimport React, { cloneElement, CSSProperties, FC, isValidElement, ReactElement, ReactNode, ReactNodeArray } from 'react';\nimport { createUseStyles } from 'react-jss';\n\nexport interface FormItemProps {\n  /**\n   * Label of the FormItem. Can be either a string or a `Label` component.\n   */\n  label?: string | ReactElement;\n  /**\n   * Content of the FormItem. Can be an arbitrary React Node.\n   */\n  children: ReactNode | ReactNodeArray;\n}\n\ninterface InternalProps extends FormItemProps {\n  columnIndex?: number;\n  labelSpan?: number;\n  rowIndex?: number;\n  lastGroupItem?: boolean;\n}\n\nconst useStyles = createUseStyles(\n  {\n    label: {\n      gridColumnEnd: 'span var(--ui5wcr_form_label_span)',\n      justifySelf: 'var(--ui5wcr_form_label_text_align)',\n      textAlign: 'var(--ui5wcr_form_label_text_align)'\n    },\n    content: {\n      display: 'flex',\n      gridColumnEnd: 'span var(--ui5wcr_form_content_span)'\n    }\n  },\n  { name: 'FormItem' }\n);\n\nconst renderLabel = (\n  label: string | ReactElement,\n  classes: Record<'label' | 'content', string>,\n  styles: CSSProperties\n) => {\n  if (typeof label === 'string') {\n    return (\n      <Label className={classes.label} style={styles} wrap>\n        {label ? `${label}:` : ''}\n      </Label>\n    );\n  }\n\n  if (isValidElement(label)) {\n    return cloneElement<LabelPropTypes>(\n      label,\n      {\n        wrap: (label as ReactElement<LabelPropTypes>).props.wrap ?? true,\n        className: `${classes.label} ${(label as ReactElement<LabelPropTypes>).props.className ?? ''}`,\n        style: {\n          gridColumnStart: styles.gridColumnStart,\n          gridRowStart: styles.gridRowStart,\n          ...((label as ReactElement<LabelPropTypes>).props.style || {})\n        }\n      },\n      (label as ReactElement<LabelPropTypes>).props.children\n        ? // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n          `${(label as ReactElement<LabelPropTypes>).props.children}:`\n        : ''\n    );\n  }\n\n  return null;\n};\n/**\n * The `FormItem` is only used for calculating the final layout of the `Form`, thus it doesn't accept any other props than `label` and `children`, especially no `className`, `style` or `ref`.\n */\nconst FormItem: FC<FormItemProps> = (props: FormItemProps) => {\n  const { label, children, columnIndex, rowIndex, labelSpan, lastGroupItem } = props as InternalProps;\n\n  const classes = useStyles();\n\n  const gridColumnStart = (columnIndex ?? 0) * 12 + 1;\n  const gridRowStart = rowIndex ?? 0;\n\n  const contentGridColumnStart =\n    columnIndex != null ? (labelSpan === 12 ? gridColumnStart : gridColumnStart + (labelSpan ?? 0)) : undefined;\n\n  if (labelSpan === 12) {\n    return (\n      <FlexBox\n        direction={FlexBoxDirection.Column}\n        alignItems={FlexBoxAlignItems.Start}\n        style={{ gridColumnStart, gridRowStart, gridColumnEnd: 'span 12', placeItems: 'flex-start' }}\n      >\n        {renderLabel(label, classes, {})}\n        {children}\n      </FlexBox>\n    );\n  }\n\n  return (\n    <>\n      {renderLabel(label, classes, { gridColumnStart, gridRowStart })}\n      <div\n        className={classes.content}\n        style={{\n          gridColumnStart: contentGridColumnStart,\n          gridRowStart: labelSpan === 12 ? gridRowStart + 1 : gridRowStart,\n          paddingBottom: lastGroupItem ? '1rem' : 0\n        }}\n      >\n        {children}\n      </div>\n    </>\n  );\n};\n\nFormItem.displayName = 'FormItem';\n\nexport { FormItem };\n"],"names":["useStyles","createUseStyles","label","gridColumnEnd","justifySelf","textAlign","content","display","name","renderLabel","classes","styles","isValidElement","cloneElement","wrap","props","className","style","gridColumnStart","gridRowStart","children","FormItem","columnIndex","rowIndex","labelSpan","lastGroupItem","contentGridColumnStart","undefined","FlexBoxDirection","Column","FlexBoxAlignItems","Start","placeItems","paddingBottom","displayName"],"mappings":"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"}