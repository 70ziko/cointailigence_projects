{"version":3,"file":"AnalyticalTable.js","sources":["../src/components/AnalyticalTable/AnayticalTable.jss.ts","../src/internal/stopPropagation.ts","../src/components/AnalyticalTable/ColumnHeader/ColumnHeaderModal.tsx","../src/components/AnalyticalTable/ColumnHeader/index.tsx","../src/components/AnalyticalTable/ColumnHeader/ColumnHeaderContainer.tsx","../src/components/AnalyticalTable/defaults/FilterComponent/index.tsx","../src/components/AnalyticalTable/defaults/Column/Cell.tsx","../src/components/AnalyticalTable/defaults/Column/Expandable.tsx","../src/components/AnalyticalTable/defaults/Column/Grouped.tsx","../src/components/AnalyticalTable/defaults/Column/PopIn.tsx","../src/components/AnalyticalTable/defaults/Column/RepeatedValue.tsx","../src/components/AnalyticalTable/defaults/Column/index.tsx","../src/components/AnalyticalTable/defaults/LoadingComponent/index.tsx","../src/components/AnalyticalTable/defaults/LoadingComponent/TablePlaceholder.tsx","../src/components/AnalyticalTable/defaults/NoDataComponent/index.tsx","../src/components/AnalyticalTable/hooks/useDragAndDrop.ts","../src/components/AnalyticalTable/hooks/useDynamicColumnWidths.ts","../src/components/AnalyticalTable/hooks/usePopIn.ts","../src/components/AnalyticalTable/hooks/useRowHighlight.tsx","../src/components/AnalyticalTable/hooks/useRowNavigationIndicator.tsx","../src/components/AnalyticalTable/hooks/useRowSelectionColumn.tsx","../src/components/AnalyticalTable/hooks/useSingleRowStateSelection.ts","../src/components/AnalyticalTable/hooks/useStyling.ts","../src/components/AnalyticalTable/hooks/useTableScrollHandles.ts","../src/components/AnalyticalTable/hooks/useToggleRowExpand.ts","../src/components/AnalyticalTable/hooks/useVisibleColumnsWidth.ts","../src/components/AnalyticalTable/scrollbars/VerticalScrollbar.tsx","../src/components/AnalyticalTable/TableBody/VirtualTableBody.tsx","../src/components/AnalyticalTable/TableBody/VirtualTableBodyContainer.tsx","../src/components/AnalyticalTable/tableReducer/stateReducer.ts","../src/components/AnalyticalTable/TitleBar/index.tsx","../src/components/AnalyticalTable/util/index.ts","../src/components/AnalyticalTable/VerticalResizer.tsx","../src/components/AnalyticalTable/index.tsx"],"sourcesContent":["import { CssSizeVariables } from '@ui5/webcomponents-react-base/lib/CssSizeVariables';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\n\nconst styles = {\n  table: {\n    position: 'relative',\n    width: '100%',\n    maxWidth: '100%',\n    overflowY: 'hidden',\n    overflowX: 'auto',\n    height: '100%',\n    minHeight: '3rem',\n    fontFamily: ThemingParameters.sapFontFamily,\n    fontSize: ThemingParameters.sapFontSize,\n    fontWeight: 'normal',\n    backgroundColor: ThemingParameters.sapList_Background\n  },\n  tableHeaderRow: {\n    height: CssSizeVariables.sapWcrAnalyticalTableRowHeight,\n    display: 'inline-flex',\n    '& div:first-child $th': {\n      borderLeft: `1px solid ${ThemingParameters.sapList_BorderColor}`\n    }\n  },\n  hasNavigationIndicator: {\n    '& $tableHeaderRow :nth-last-child(2) $th': {\n      borderRight: 'none'\n    },\n    '& $tr :nth-last-child(2)': {\n      borderRight: 'none'\n    }\n  },\n  tableHeaderBackgroundElement: {\n    boxSizing: 'border-box',\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    height: CssSizeVariables.sapWcrAnalyticalTableRowHeight,\n    backgroundColor: ThemingParameters.sapList_HeaderBackground,\n    borderTop: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    borderBottom: `1px solid ${ThemingParameters.sapList_BorderColor}`\n  },\n  th: {\n    height: CssSizeVariables.sapWcrAnalyticalTableRowHeight,\n    color: ThemingParameters.sapList_HeaderTextColor,\n    backgroundColor: ThemingParameters.sapList_HeaderBackground,\n    borderTop: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    borderBottom: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    borderRight: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    padding: `0 0.5rem`,\n    textAlign: 'start',\n    boxSizing: 'border-box',\n    '&[data-column-id=\"__ui5wcr__internal_highlight_column\"]': {\n      borderRight: 'none'\n    },\n    '&:last-child': {\n      '& [data-resizer]': {\n        transform: 'translateX(0px)'\n      }\n    }\n  },\n  tbody: {\n    position: 'relative',\n    overflowX: 'hidden',\n    overflowY: 'auto',\n    scrollBarWidth: 'none !important',\n    '-ms-overflow-style': 'none',\n    '&::-webkit-scrollbar': {\n      width: 0,\n      height: 0\n    }\n  },\n  alternateRowColor: {\n    backgroundColor: ThemingParameters.sapList_AlternatingBackground\n  },\n  tr: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    color: ThemingParameters.sapList_TextColor,\n    borderBottom: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    boxSizing: 'border-box',\n    display: 'flex',\n    willChange: 'transform',\n    '&:hover': {\n      backgroundColor: ThemingParameters.sapList_Hover_Background\n    },\n    '&[data-is-selected]': {\n      borderBottom: `1px solid ${ThemingParameters.sapList_SelectionBorderColor}`,\n      backgroundColor: ThemingParameters.sapList_SelectionBackgroundColor\n    },\n    '&[data-is-selected]:hover': {\n      backgroundColor: ThemingParameters.sapList_Hover_SelectionBackground\n    }\n  },\n  trActive: {\n    '&:hover': {\n      cursor: 'pointer'\n    },\n    '&:active': {\n      backgroundColor: ThemingParameters.sapList_Active_Background,\n      '& $tableCell': {\n        borderRight: `1px solid ${ThemingParameters.sapList_Active_Background}`,\n        color: `${ThemingParameters.sapList_Active_TextColor}`,\n        '--sapTextColor': ThemingParameters.sapList_Active_TextColor\n      }\n    }\n  },\n  tableGroupHeader: {\n    '&$tr': {\n      backgroundColor: `${ThemingParameters.sapList_TableGroupHeaderBackground}`,\n      border: `1px solid ${ThemingParameters.sapList_TableGroupHeaderBorderColor}`,\n      color: ThemingParameters.sapList_TextColor,\n      '& $tableCell': {\n        borderRight: 'none'\n      }\n    }\n  },\n  tableCell: {\n    height: '100%',\n    boxSizing: 'border-box',\n    borderRight: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    display: 'inline-flex',\n    padding: '0 0.5rem',\n    '&:first-child': {\n      borderLeft: `1px solid ${ThemingParameters.sapList_BorderColor}`\n    },\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    alignItems: 'center',\n    position: 'relative',\n    '&:focus': {\n      outlineOffset: '-2px',\n      outline: `1px dotted ${ThemingParameters.sapContent_FocusColor}`\n    }\n  },\n  noDataContainer: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100%',\n    backgroundColor: ThemingParameters.sapList_Background,\n    width: '100%',\n    boxSizing: 'border-box',\n    color: ThemingParameters.sapList_TextColor,\n    fontFamily: ThemingParameters.sapFontFamily,\n    fontSize: ThemingParameters.sapFontSize,\n    fontWeight: 'normal',\n    borderBottom: `1px solid ${ThemingParameters.sapList_BorderColor}`\n  },\n  valueStateSuccess: {\n    backgroundColor: ThemingParameters.sapSuccessColor\n  },\n  valueStateError: {\n    backgroundColor: ThemingParameters.sapErrorColor\n  },\n  valueStateWarning: {\n    backgroundColor: ThemingParameters.sapWarningColor\n  },\n  valueStateInformation: {\n    backgroundColor: ThemingParameters.sapInformationColor\n  }\n};\n\nexport default styles;\n","export const stopPropagation = (e) => {\n  e.stopPropagation();\n  e.stopImmediatePropagation();\n};\n","import '@ui5/webcomponents-icons/dist/decline';\nimport { useI18nBundle } from '@ui5/webcomponents-react-base/lib/hooks';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\nimport { enrichEventWithDetails } from '@ui5/webcomponents-react-base/lib/Utils';\nimport {\n  CLEAR_SORTING,\n  GROUP,\n  SORT_ASCENDING,\n  SORT_DESCENDING,\n  UNGROUP\n} from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport { FlexBox } from '@ui5/webcomponents-react/lib/FlexBox';\nimport { FlexBoxAlignItems } from '@ui5/webcomponents-react/lib/FlexBoxAlignItems';\nimport { Icon } from '@ui5/webcomponents-react/lib/Icon';\nimport { List } from '@ui5/webcomponents-react/lib/List';\nimport { ListItemTypes } from '@ui5/webcomponents-react/lib/ListItemTypes';\nimport { PlacementType } from '@ui5/webcomponents-react/lib/PlacementType';\nimport { Popover } from '@ui5/webcomponents-react/lib/Popover';\nimport { PopoverHorizontalAlign } from '@ui5/webcomponents-react/lib/PopoverHorizontalAlign';\nimport { StandardListItem } from '@ui5/webcomponents-react/lib/StandardListItem';\nimport React, { RefObject, useCallback, useEffect, useRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport { createUseStyles } from 'react-jss';\nimport { Ui5PopoverDomRef } from '../../../interfaces/Ui5PopoverDomRef';\nimport { stopPropagation } from '../../../internal/stopPropagation';\nimport { ColumnType } from '../types/ColumnType';\n\nexport interface ColumnHeaderModalProperties {\n  column: ColumnType;\n  onSort?: (e: CustomEvent<{ column: unknown; sortDirection: string }>) => void;\n  onGroupBy?: (e: CustomEvent<{ column: unknown; isGrouped: boolean }>) => void;\n  open: boolean;\n  setPopoverOpen: (open: boolean) => void;\n  targetRef: RefObject<any>;\n}\n\nconst styles = {\n  popover: {\n    fontWeight: 'normal'\n  },\n  filter: {\n    padding: '0px 1rem',\n    height: 'var(--_ui5_custom_list_item_height)',\n    borderBottom: `1px solid ${ThemingParameters.sapList_BorderColor}`\n  },\n  filterIcon: { paddingRight: '0.5rem', minWidth: '1rem', minHeight: '1rem' }\n};\nconst useStyles = createUseStyles(styles, { name: 'ColumnHeaderModal' });\n\nexport const ColumnHeaderModal = (props: ColumnHeaderModalProperties) => {\n  const { column, onSort, onGroupBy, open, setPopoverOpen, targetRef } = props;\n  const classes = useStyles();\n  const showFilter = column.canFilter;\n  const showGroup = column.canGroupBy;\n  const showSort = column.canSort;\n\n  const ref = useRef<Ui5PopoverDomRef>(null);\n\n  const { Filter } = column;\n\n  const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n\n  const clearSortingText = i18nBundle.getText(CLEAR_SORTING);\n  const sortAscendingText = i18nBundle.getText(SORT_ASCENDING);\n  const sortDescendingText = i18nBundle.getText(SORT_DESCENDING);\n  const groupText = i18nBundle.getText(GROUP);\n  const ungroupText = i18nBundle.getText(UNGROUP);\n\n  const handleSort = useCallback(\n    (e) => {\n      const sortType = e.detail.item.getAttribute('data-sort');\n\n      switch (sortType) {\n        case 'asc':\n          column.toggleSortBy(false);\n          if (typeof onSort === 'function') {\n            onSort(\n              enrichEventWithDetails(e, {\n                column,\n                sortDirection: sortType\n              })\n            );\n          }\n          break;\n        case 'desc':\n          column.toggleSortBy(true);\n          if (typeof onSort === 'function') {\n            onSort(\n              enrichEventWithDetails(e, {\n                column,\n                sortDirection: sortType\n              })\n            );\n          }\n          break;\n        case 'clear':\n          column.clearSortBy();\n          if (typeof onSort === 'function') {\n            onSort(\n              enrichEventWithDetails(e, {\n                column,\n                sortDirection: sortType\n              })\n            );\n          }\n          break;\n        case 'group':\n          const willGroup = !column.isGrouped;\n          column.toggleGroupBy(willGroup);\n          if (typeof onGroupBy === 'function') {\n            onGroupBy(\n              enrichEventWithDetails(e, {\n                column,\n                isGrouped: willGroup\n              })\n            );\n          }\n          break;\n      }\n      if (ref.current) {\n        ref.current.close();\n      }\n    },\n    [column, ref, onGroupBy, onSort]\n  );\n\n  const isSortedAscending = column.isSorted && column.isSortedDesc === false;\n  const isSortedDescending = column.isSorted && column.isSortedDesc === true;\n\n  useEffect(() => {\n    const popoverInstance = ref.current;\n    if (open) {\n      popoverInstance?.openBy(targetRef.current);\n    }\n  }, [open, targetRef.current, ref.current]);\n\n  const onAfterClose = useCallback(\n    (e) => {\n      stopPropagation(e);\n      ref?.current?.close();\n      setPopoverOpen(false);\n    },\n    [setPopoverOpen]\n  );\n\n  if (!open) return null;\n  return createPortal(\n    <Popover\n      noArrow\n      horizontalAlign={PopoverHorizontalAlign.Left}\n      placementType={PlacementType.Bottom}\n      ref={ref}\n      className={classes.popover}\n      onAfterClose={onAfterClose}\n    >\n      <List onItemClick={handleSort}>\n        {isSortedAscending && (\n          <StandardListItem type={ListItemTypes.Active} icon=\"decline\" data-sort=\"clear\">\n            {clearSortingText}\n          </StandardListItem>\n        )}\n        {showSort && !isSortedAscending && (\n          <StandardListItem type={ListItemTypes.Active} icon=\"sort-ascending\" data-sort=\"asc\">\n            {sortAscendingText}\n          </StandardListItem>\n        )}\n        {showSort && !isSortedDescending && (\n          <StandardListItem type={ListItemTypes.Active} icon=\"sort-descending\" data-sort=\"desc\">\n            {sortDescendingText}\n          </StandardListItem>\n        )}\n        {isSortedDescending && (\n          <StandardListItem type={ListItemTypes.Active} icon=\"decline\" data-sort=\"clear\">\n            {clearSortingText}\n          </StandardListItem>\n        )}\n        {showFilter && !column.isGrouped && (\n          <FlexBox alignItems={FlexBoxAlignItems.Center} className={classes.filter}>\n            <Icon name=\"filter\" className={classes.filterIcon} />\n            <Filter column={column} popoverRef={ref} />\n          </FlexBox>\n        )}\n        {showGroup && (\n          <StandardListItem type={ListItemTypes.Active} icon=\"group-2\" data-sort={'group'}>\n            {column.isGrouped ? ungroupText : groupText}\n          </StandardListItem>\n        )}\n      </List>\n    </Popover>,\n    document.body\n  );\n};\nColumnHeaderModal.displayName = 'ColumnHeaderModal';\n","import '@ui5/webcomponents-icons/dist/filter';\nimport '@ui5/webcomponents-icons/dist/group-2';\nimport '@ui5/webcomponents-icons/dist/sort-ascending';\nimport '@ui5/webcomponents-icons/dist/sort-descending';\nimport { createUseStyles } from 'react-jss';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\nimport { Icon } from '@ui5/webcomponents-react/lib/Icon';\nimport { Text } from '@ui5/webcomponents-react/lib/Text';\nimport React, {\n  CSSProperties,\n  DragEventHandler,\n  FC,\n  ReactNode,\n  ReactNodeArray,\n  useCallback,\n  useMemo,\n  useRef,\n  useState\n} from 'react';\nimport { VirtualItem } from 'react-virtual';\nimport { ColumnType } from '../types/ColumnType';\nimport { ColumnHeaderModal } from './ColumnHeaderModal';\n\nexport interface ColumnHeaderProps {\n  id: string;\n  defaultSortDesc: boolean;\n  children: ReactNode | ReactNodeArray;\n  grouping: string;\n  className: string;\n  column: ColumnType;\n  style: CSSProperties;\n  onSort?: (e: CustomEvent<{ column: unknown; sortDirection: string }>) => void;\n  onGroupBy?: (e: CustomEvent<{ column: unknown; isGrouped: boolean }>) => void;\n  onDragStart: DragEventHandler<HTMLDivElement>;\n  onDragOver: DragEventHandler<HTMLDivElement>;\n  onDrop: DragEventHandler<HTMLDivElement>;\n  onDragEnter: DragEventHandler<HTMLDivElement>;\n  onDragEnd: DragEventHandler<HTMLDivElement>;\n  dragOver: boolean;\n  isResizing: boolean;\n  headerTooltip: string;\n  isDraggable: boolean;\n  role: string;\n  isLastColumn: boolean;\n  virtualColumn: VirtualItem;\n  isRtl: boolean;\n}\n\nconst styles = {\n  header: {\n    height: '100%',\n    display: 'flex',\n    justifyContent: 'begin',\n    alignItems: 'center',\n    textAlign: 'left',\n    fontFamily: ThemingParameters.sapFontFamily,\n    fontSize: ThemingParameters.sapFontSize,\n    fontWeight: 'normal',\n    color: ThemingParameters.sapList_TextColor,\n    background: ThemingParameters.sapList_HeaderBackground,\n    textOverflow: 'ellipsis',\n    whiteSpace: 'nowrap',\n    maxWidth: '100%',\n    position: 'relative',\n    width: '100%',\n    overflowX: 'hidden',\n    overflowY: 'hidden',\n    boxSizing: 'border-box',\n    '&[data-h-align=\"End\"]': {\n      '& $text': {\n        textAlign: 'end'\n      }\n    }\n  },\n  text: {\n    width: '100%',\n    textAlign: 'start'\n  },\n  iconContainer: {\n    display: 'inline-block',\n    position: 'absolute',\n    color: ThemingParameters.sapContent_IconColor\n  }\n};\n\nconst useStyles = createUseStyles(styles, { name: 'TableColumnHeader' });\n\nexport const ColumnHeader: FC<ColumnHeaderProps> = (props: ColumnHeaderProps) => {\n  const classes = useStyles(props);\n  const {\n    id,\n    children,\n    column,\n    className,\n    style,\n    onSort,\n    onGroupBy,\n    onDragEnter,\n    onDragOver,\n    onDragStart,\n    onDrop,\n    onDragEnd,\n    headerTooltip,\n    isDraggable,\n    dragOver,\n    role,\n    virtualColumn,\n    isRtl\n  } = props;\n\n  const isFiltered = column.filterValue && column.filterValue.length > 0;\n  const [popoverOpen, setPopoverOpen] = useState(false);\n\n  const tooltip = useMemo(() => {\n    if (headerTooltip) {\n      return headerTooltip;\n    }\n    if (typeof children === 'string') {\n      return children;\n    }\n    return null;\n  }, [children, headerTooltip]);\n\n  const textStyle = useMemo(() => {\n    let margin = 0;\n\n    if (column.isSorted) margin++;\n    if (column.isGrouped) margin++;\n    if (isFiltered) margin++;\n\n    if (margin === 0) {\n      return {};\n    }\n\n    if (margin > 0) margin += 0.5;\n\n    if (isRtl) {\n      return {\n        marginLeft: `${margin}rem`\n      };\n    }\n    return {\n      marginRight: `${margin}rem`\n    };\n  }, [column.isSorted, column.isGrouped, isFiltered, isRtl]);\n\n  const hasPopover = column.canGroupBy || column.canSort || column.canFilter;\n\n  const onOpenPopover = useCallback(() => {\n    if (hasPopover) {\n      setPopoverOpen(true);\n    }\n  }, [hasPopover]);\n  const directionStyles = isRtl\n    ? { right: 0, transform: `translateX(-${virtualColumn.start}px)` }\n    : { left: 0, transform: `translateX(${virtualColumn.start}px)` };\n\n  const iconContainerDirectionStyles = isRtl ? { left: '0.5rem' } : { right: '0.5rem' };\n\n  const targetRef = useRef();\n  if (!column) return null;\n  return (\n    <div\n      ref={targetRef}\n      style={{\n        position: 'absolute',\n        top: 0,\n        width: `${virtualColumn.size}px`,\n        ...directionStyles\n      }}\n    >\n      <div\n        id={id}\n        className={className}\n        style={{\n          ...style,\n          cursor: hasPopover ? 'pointer' : 'auto',\n          borderLeft: dragOver ? `3px solid ${ThemingParameters.sapSelectedColor}` : undefined\n        }}\n        role={role}\n        draggable={isDraggable}\n        onDragEnter={onDragEnter}\n        onDragOver={onDragOver}\n        onDragStart={onDragStart}\n        onDrop={onDrop}\n        onDragEnd={onDragEnd}\n        data-column-id={id}\n        onClick={onOpenPopover}\n      >\n        <div className={classes.header} data-h-align={column.hAlign}>\n          <Text tooltip={tooltip} wrapping={false} style={textStyle} className={classes.text}>\n            {children}\n          </Text>\n          <div className={classes.iconContainer} style={iconContainerDirectionStyles}>\n            {isFiltered && <Icon name=\"filter\" />}\n            {column.isSorted && <Icon name={column.isSortedDesc ? 'sort-descending' : 'sort-ascending'} />}\n            {column.isGrouped && <Icon name=\"group-2\" />}\n          </div>\n        </div>\n        {hasPopover && targetRef.current && (\n          <ColumnHeaderModal\n            column={column}\n            onSort={onSort}\n            onGroupBy={onGroupBy}\n            targetRef={targetRef}\n            open={popoverOpen}\n            setPopoverOpen={setPopoverOpen}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n","import { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\nimport React, { forwardRef, Fragment, MutableRefObject, Ref, useCallback } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { useVirtual, VirtualItem } from 'react-virtual';\nimport { ColumnHeader } from './index';\n\nconst styles = {\n  resizer: {\n    display: 'inline-block',\n    width: '3px',\n    height: '100%',\n    position: 'absolute',\n    bottom: 0,\n    top: 0,\n    zIndex: 1,\n    cursor: 'col-resize',\n    willChange: 'transform',\n    '&:hover, &:active': {\n      backgroundColor: ThemingParameters.sapContent_DragAndDropActiveColor\n    }\n  }\n};\n\ninterface ColumnHeaderContainerProps {\n  headerProps: Record<string, unknown>;\n  headerGroup: Record<string, any>;\n  onSort: (e: CustomEvent<{ column: unknown; sortDirection: string }>) => void;\n  onGroupByChanged: (e: CustomEvent<{ column?: any; isGrouped?: boolean }>) => void;\n  onDragStart: any;\n  onDragOver: any;\n  onDrop: any;\n  onDragEnter: any;\n  onDragEnd: any;\n  dragOver: any;\n  tableRef: MutableRefObject<any>;\n  visibleColumnsWidth: any[];\n  overscanCountHorizontal: number;\n  resizeInfo: Record<string, unknown>;\n  reactWindowRef: MutableRefObject<any>;\n  isRtl: boolean;\n}\n\nconst useStyles = createUseStyles(styles, { name: 'Resizer' });\n\nexport const ColumnHeaderContainer = forwardRef((props: ColumnHeaderContainerProps, ref: Ref<HTMLDivElement>) => {\n  const {\n    headerProps,\n    headerGroup,\n    onSort,\n    onGroupByChanged,\n    onDragStart,\n    onDragOver,\n    onDrop,\n    onDragEnter,\n    onDragEnd,\n    dragOver,\n    tableRef,\n    visibleColumnsWidth,\n    overscanCountHorizontal,\n    resizeInfo,\n    reactWindowRef,\n    isRtl\n  } = props;\n  const columnVirtualizer = useVirtual({\n    size: visibleColumnsWidth.length,\n    parentRef: tableRef,\n    estimateSize: useCallback(\n      (index) => {\n        return visibleColumnsWidth[index];\n      },\n      [visibleColumnsWidth]\n    ),\n    horizontal: true,\n    overscan: overscanCountHorizontal\n  });\n\n  reactWindowRef.current = {\n    ...reactWindowRef.current,\n    horizontalScrollToOffset: columnVirtualizer.scrollToOffset,\n    horizontalScrollToIndex: columnVirtualizer.scrollToIndex\n  };\n\n  const classes = useStyles();\n\n  return (\n    <div {...headerProps} style={{ width: `${columnVirtualizer.totalSize}px` }} ref={ref}>\n      {columnVirtualizer.virtualItems.map((virtualColumn: VirtualItem) => {\n        const column = headerGroup.headers[virtualColumn.index];\n        if (!column) {\n          return null;\n        }\n        const isLastColumn = !column.disableResizing && virtualColumn.index + 1 === headerGroup.headers.length;\n        const resizerDirectionStyle = isRtl\n          ? {\n              right: `${column.totalFlexWidth + column.totalLeft - (isLastColumn ? 3 : 0)}px`,\n              transform: 'translateX(50%)'\n            }\n          : {\n              left: `${column.totalFlexWidth + column.totalLeft - (isLastColumn ? 3 : 0)}px`,\n              transform: 'translateX(-50%)'\n            };\n\n        const { key, ...rest } = column.getHeaderProps();\n        return (\n          <Fragment key={key}>\n            {column.canResize && column.getResizerProps && (\n              <div\n                {...column.getResizerProps()}\n                data-resizer\n                className={classes.resizer}\n                style={resizerDirectionStyle}\n              />\n            )}\n            <ColumnHeader\n              {...rest}\n              onSort={onSort}\n              onGroupBy={onGroupByChanged}\n              onDragStart={onDragStart}\n              onDragOver={onDragOver}\n              onDrop={onDrop}\n              onDragEnter={onDragEnter}\n              onDragEnd={onDragEnd}\n              dragOver={column.id === dragOver}\n              headerTooltip={column.headerTooltip}\n              isDraggable={column.canReorder && !resizeInfo.isResizingColumn}\n              virtualColumn={virtualColumn}\n              isRtl={isRtl}\n            >\n              {column.render('Header')}\n            </ColumnHeader>\n          </Fragment>\n        );\n      })}\n    </div>\n  );\n});\n","import { Input } from '@ui5/webcomponents-react/lib/Input';\nimport React, { FC, useCallback } from 'react';\n\nexport const DefaultFilterComponent: FC<any> = ({ column }) => {\n  const handleChange = useCallback(\n    (e) => {\n      column.setFilter(e.target.value || undefined);\n    },\n    [column.setFilter]\n  );\n  return <Input onInput={handleChange} value={column.filterValue} />;\n};\n","import { Text } from '@ui5/webcomponents-react/lib/Text';\nimport React from 'react';\n\nexport const Cell = ({ cell: { value = '', isGrouped }, row }) => {\n  let cellContent = `${value ?? ''}`;\n  if (isGrouped) {\n    cellContent += ` (${row.subRows.length})`;\n  }\n  return (\n    <Text wrapping={false} tooltip={cellContent}>\n      {cellContent}\n    </Text>\n  );\n};\n","import { CssSizeVariables } from '@ui5/webcomponents-react-base/lib/CssSizeVariables';\nimport { isIE } from '@ui5/webcomponents-react-base/lib/Device';\nimport { Icon } from '@ui5/webcomponents-react/lib/Icon';\nimport React, { CSSProperties } from 'react';\n\nconst tableGroupExpandCollapseIcon = {\n  color: 'var(--sapContent_IconColor)',\n  height: '0.75rem',\n  width: '0.75rem',\n  padding: '0.625rem',\n  display: 'block'\n};\nconst isBrowserIe = isIE();\nconst getPadding = (level) => {\n  switch (level) {\n    case 0:\n      return 0;\n    case 1:\n      return isBrowserIe ? '1rem' : CssSizeVariables.sapWcrAnalyticalTableTreePaddingLevel1;\n    case 2:\n      return isBrowserIe ? '1.5rem' : CssSizeVariables.sapWcrAnalyticalTableTreePaddingLevel2;\n    case 3:\n      return isBrowserIe ? '2rem' : CssSizeVariables.sapWcrAnalyticalTableTreePaddingLevel3;\n    default:\n      return isBrowserIe\n        ? `calc(2rem + ${level - 3}rem * 0.5)`\n        : `calc(${CssSizeVariables.sapWcrAnalyticalTableTreePaddingLevel3} + ${level - 3}rem * 0.5)`;\n  }\n};\n\nexport const Expandable = (props) => {\n  const { cell, row, column, columns, webComponentsReactProperties } = props;\n\n  const tableColumns = columns.filter(\n    ({ id }) =>\n      id !== '__ui5wcr__internal_selection_column' &&\n      id !== '__ui5wcr__internal_highlight_column' &&\n      id !== '__ui5wcr__internal_navigation_column'\n  );\n\n  const columnIndex = tableColumns.findIndex((col) => col.id === column.id);\n\n  let paddingLeft;\n  if (row.canExpand) {\n    paddingLeft = columnIndex === 0 ? getPadding(row.depth) : 0;\n  } else {\n    paddingLeft = columnIndex === 0 ? `calc(${getPadding(row.depth)} + 2rem)` : 0;\n  }\n  const style: CSSProperties = {\n    paddingLeft\n  };\n  const rowProps = row.getToggleRowExpandedProps();\n  return (\n    <>\n      {columnIndex === 0 && (row.canExpand || !!webComponentsReactProperties.renderRowSubComponent) ? (\n        <span onClick={rowProps.onClick} title={rowProps.title} style={{ ...rowProps.style, ...style }}>\n          <Icon\n            name={`${row.isExpanded ? 'navigation-down-arrow' : 'navigation-right-arrow'}`}\n            style={tableGroupExpandCollapseIcon}\n          />\n        </span>\n      ) : (\n        <span style={style} />\n      )}\n      {cell.render('Cell')}\n    </>\n  );\n};\n","import { Icon } from '@ui5/webcomponents-react/lib/Icon';\nimport { TextAlign } from '@ui5/webcomponents-react/lib/TextAlign';\nimport React, { CSSProperties } from 'react';\n\nconst tableGroupExpandCollapseIcon = {\n  color: 'var(--sapContent_IconColor)',\n  height: '0.75rem',\n  width: '0.75rem',\n  padding: '0.625rem',\n  display: 'block'\n};\n\nexport const Grouped = (props) => {\n  const { cell, row } = props;\n\n  const style: CSSProperties = {};\n  if (cell.column.hAlign && (cell.column.hAlign !== TextAlign.Left || cell.column.hAlign !== TextAlign.Begin)) {\n    style.marginRight = 'auto';\n  }\n  return (\n    <>\n      <span {...row.getToggleRowExpandedProps({ style })}>\n        <Icon\n          name={`${row.isExpanded ? 'navigation-down-arrow' : 'navigation-right-arrow'}`}\n          style={tableGroupExpandCollapseIcon}\n        />\n      </span>\n      {cell.render('Cell')}\n    </>\n  );\n};\n","import { FlexBox } from '@ui5/webcomponents-react/lib/FlexBox';\nimport { FlexBoxAlignItems } from '@ui5/webcomponents-react/lib/FlexBoxAlignItems';\nimport { FlexBoxDirection } from '@ui5/webcomponents-react/lib/FlexBoxDirection';\nimport { FlexBoxWrap } from '@ui5/webcomponents-react/lib/FlexBoxWrap';\nimport { Text } from '@ui5/webcomponents-react/lib/Text';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\nimport React from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { makeRenderer } from 'react-table';\n\nconst PopInStyles = {\n  container: {\n    width: '100%'\n  },\n  defaultCell: {\n    fontFamily: `${ThemingParameters.sapFontBoldFamily}`,\n    '& *': {\n      fontFamily: `${ThemingParameters.sapFontBoldFamily}`\n    }\n  },\n  header: {\n    height: '16px'\n  }\n};\n\nconst useStyles = createUseStyles(PopInStyles, { name: 'PopIn' });\n\nexport const PopIn = (instance) => {\n  const { state, contentToRender, cell, row, internalRowHeight } = instance;\n\n  const classes = useStyles();\n  return (\n    <FlexBox direction={FlexBoxDirection.Column} className={classes.container}>\n      <FlexBox\n        alignItems={\n          contentToRender !== 'Grouped' && contentToRender !== 'Expandable'\n            ? FlexBoxAlignItems.Start\n            : FlexBoxAlignItems.Center\n        }\n        wrap={FlexBoxWrap.NoWrap}\n        className={classes.defaultCell}\n        style={{\n          height: internalRowHeight\n        }}\n      >\n        {cell.render(contentToRender)}\n      </FlexBox>\n      {contentToRender !== 'Grouped' &&\n        state.popInColumns?.map((item) => {\n          const popInInstanceProps = row.allCells.find((cell) => cell.column.id === item.id);\n          const renderHeader = () => {\n            if (item.column.PopInHeader) {\n              return typeof item.column.PopInHeader === 'function'\n                ? item.column.PopInHeader({ ...instance, ...popInInstanceProps })\n                : item.column.PopInHeader;\n            }\n            return typeof item.column.Header === 'function'\n              ? makeRenderer({ ...instance, ...popInInstanceProps }, item.column)(item.column.Header)\n              : item.column.Header;\n          };\n          const renderCell = () => {\n            if (item.column?.Cell) {\n              const cell = item.column.Cell;\n              if (typeof cell === 'string') {\n                return (\n                  <Text wrapping={false} tooltip={cell}>\n                    {cell}\n                  </Text>\n                );\n              }\n              return makeRenderer({ ...instance, ...popInInstanceProps, isPopIn: true }, item.column)(item.column.Cell);\n            }\n            return popInInstanceProps?.value ? (\n              <Text wrapping={false} tooltip={popInInstanceProps.value}>\n                {popInInstanceProps.value}\n              </Text>\n            ) : null;\n          };\n          return (\n            <FlexBox direction={FlexBoxDirection.Column} key={item.id}>\n              {item.column?.Header && <div className={classes.header}>{renderHeader()}:</div>}\n              <div style={{ height: internalRowHeight }}>{popInInstanceProps && renderCell()}</div>\n            </FlexBox>\n          );\n        })}\n    </FlexBox>\n  );\n};\n","export const RepeatedValue = () => null;\n","import { VerticalAlign } from '@ui5/webcomponents-react/lib/VerticalAlign';\nimport { DefaultFilterComponent } from '../FilterComponent';\nimport { Cell } from './Cell';\nimport { Expandable } from './Expandable';\nimport { Grouped } from './Grouped';\nimport { PopIn } from './PopIn';\nimport { RepeatedValue } from './RepeatedValue';\n\nexport const DEFAULT_COLUMN_WIDTH = 60;\n\nconst defaultFilterMethod = (filter, row) => {\n  return new RegExp(filter.value, 'gi').test(String(row[filter.id]));\n};\n\nexport const DefaultColumn = {\n  Filter: DefaultFilterComponent,\n  canResize: true,\n  canReorder: true,\n  minWidth: DEFAULT_COLUMN_WIDTH,\n  vAlign: VerticalAlign.Middle,\n  defaultFilter: defaultFilterMethod,\n  Grouped: Grouped,\n  Cell: Cell,\n  Expandable: Expandable,\n  RepeatedValue: RepeatedValue,\n  PopIn: PopIn\n};\n","import { CssSizeVariables } from '@ui5/webcomponents-react-base/lib/CssSizeVariables';\nimport { Loader } from '@ui5/webcomponents-react/lib/Loader';\nimport React from 'react';\nimport { createUseStyles } from 'react-jss';\n\nconst styles = {\n  loader: {\n    position: 'absolute',\n    top: CssSizeVariables.sapWcrAnalyticalTableRowHeight,\n    left: 0,\n    right: 0,\n    zIndex: 1\n  }\n};\nconst useStyles = createUseStyles(styles, { name: 'LoadingComponent' });\n\nconst DefaultLoadingComponent = ({ style }) => {\n  const classes = useStyles();\n  return <Loader delay={500} style={style} className={classes.loader} />;\n};\n\nDefaultLoadingComponent.displayName = 'DefaultLoadingComponent';\n\nexport { DefaultLoadingComponent };\n","import { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\nimport React, { CSSProperties, FC, useMemo } from 'react';\nimport ContentLoader from 'react-content-loader';\n\nconst getArrayOfLength = (len) => Array.from(Array(len).keys());\n\ntype RowProps = { columns: any[]; y: number; row: number };\nconst TableRow: FC<RowProps> = ({ columns, y, row }: RowProps) => {\n  let columnOffset = 0;\n  return (\n    <>\n      {columns.map((column, i) => {\n        const el = (\n          <rect\n            key={`column-${i}-row-${row}`}\n            x={columnOffset + 2}\n            y={y}\n            rx=\"2\"\n            ry=\"8\"\n            width={column.totalWidth - 4}\n            height=\"16\"\n          />\n        );\n        columnOffset += column.totalWidth;\n        return el;\n      })}\n    </>\n  );\n};\n\ntype Props = {\n  columns: any[];\n  rows: number;\n  style: CSSProperties;\n  rowHeight: number;\n  tableWidth: number;\n  isRtl: boolean;\n};\nexport const TablePlaceholder: FC<Props> = (props: Props) => {\n  const { columns, rows, style, rowHeight, tableWidth, isRtl } = props;\n\n  const height = rows * rowHeight;\n\n  const innerStyles = useMemo(() => {\n    return {\n      backgroundColor: ThemingParameters.sapList_Background,\n      ...style\n    };\n  }, [style, ThemingParameters.sapList_Background]);\n\n  return (\n    <ContentLoader\n      style={innerStyles}\n      height={height}\n      width={tableWidth}\n      rtl={isRtl}\n      speed={2}\n      backgroundColor={ThemingParameters.sapContent_ImagePlaceholderBackground}\n      foregroundColor={ThemingParameters.sapContent_ImagePlaceholderForegroundColor}\n      backgroundOpacity={ThemingParameters.sapContent_DisabledOpacity as any}\n    >\n      {getArrayOfLength(rows).map((_, index) => (\n        <TableRow key={index} columns={columns} y={rowHeight * index + rowHeight / 2} row={index} />\n      ))}\n    </ContentLoader>\n  );\n};\n\nTablePlaceholder.displayName = 'TablePlaceholder';\n\nTablePlaceholder.defaultProps = {\n  rows: 5\n};\n","import React from 'react';\n\nexport const DefaultNoDataComponent = ({ noDataText, className, style }) => {\n  return (\n    <div className={className} style={style}>\n      {noDataText}\n    </div>\n  );\n};\n","import { enrichEventWithDetails } from '@ui5/webcomponents-react-base/lib/Utils';\nimport { useCallback, useState } from 'react';\n\nconst getColumnId = (column) => {\n  return typeof column.accessor === 'string' ? column.accessor : column.id;\n};\n\nexport const useDragAndDrop = (props, isRtl, setColumnOrder, columnOrder, resizeInfo, columns: any[]) => {\n  const { onColumnsReordered } = props;\n\n  const [dragOver, setDragOver] = useState('');\n\n  const handleDragStart = useCallback(\n    (e) => {\n      if (resizeInfo.isResizingColumn) {\n        e.preventDefault();\n        return;\n      }\n      e.dataTransfer.setData('text', e.currentTarget.dataset.columnId);\n    },\n    [resizeInfo.isResizingColumn]\n  );\n\n  const handleDragOver = useCallback((e) => {\n    e.preventDefault();\n  }, []);\n\n  const handleDragEnter = useCallback((e) => {\n    setDragOver(e.currentTarget.dataset.columnId);\n  }, []);\n\n  const handleOnDrop = useCallback(\n    (e) => {\n      setDragOver('');\n\n      const droppedColId = e.currentTarget.dataset.columnId;\n      const draggedColId = e.dataTransfer.getData('text');\n      if (droppedColId === draggedColId) return;\n\n      const internalColumnOrder = columnOrder.length > 0 ? columnOrder : columns.map((col) => getColumnId(col));\n      const droppedColIdx = internalColumnOrder.findIndex((col) => col === droppedColId);\n      const draggedColIdx = internalColumnOrder.findIndex((col) => col === draggedColId);\n\n      const tempCols = [...internalColumnOrder];\n      const targetIndex = droppedColIdx > draggedColIdx ? (isRtl ? droppedColIdx : droppedColIdx - 1) : droppedColIdx;\n\n      tempCols.splice(targetIndex, 0, tempCols.splice(draggedColIdx, 1)[0]);\n      setColumnOrder(tempCols);\n\n      const columnsNewOrder = tempCols.map((tempColId) => columns.find((col) => getColumnId(col) === tempColId));\n      onColumnsReordered(\n        enrichEventWithDetails(e, {\n          columnsNewOrder,\n          column: columns[draggedColIdx]\n        })\n      );\n    },\n    [columnOrder, onColumnsReordered, columns]\n  );\n\n  const handleOnDragEnd = useCallback(() => {\n    setDragOver('');\n  }, [dragOver]);\n\n  return [dragOver, handleDragEnter, handleDragStart, handleDragOver, handleOnDrop, handleOnDragEnd];\n};\n","import { TableScaleWidthMode } from '@ui5/webcomponents-react/lib/TableScaleWidthMode';\nimport { DEFAULT_COLUMN_WIDTH } from '../defaults/Column';\n\nconst ROW_SAMPLE_SIZE = 20;\nconst DEFAULT_HEADER_NUM_CHAR = 10;\nconst MAX_WIDTH = 700;\n\n// a function, which approximates header px sizes given a character length\nconst approximateHeaderPxFromCharLength = (charLength) =>\n  charLength < 15 ? Math.sqrt(charLength * 1500) : 8 * charLength;\nconst approximateContentPxFromCharLength = (charLength) => 8 * charLength;\n\nconst columnsDeps = (deps, { instance: { state, webComponentsReactProperties, visibleColumns } }) => [\n  ...deps,\n  state.tableClientWidth,\n  visibleColumns?.length,\n  webComponentsReactProperties.scaleWidthMode,\n  webComponentsReactProperties.loading\n];\n\nconst columns = (columns, { instance }) => {\n  if (!instance.state || !instance.rows) {\n    return columns;\n  }\n  const { rows, state } = instance;\n\n  const { hiddenColumns, tableClientWidth: totalWidth } = state;\n  const { scaleWidthMode, loading } = instance.webComponentsReactProperties;\n\n  if (columns.length === 0 || !totalWidth) return columns;\n\n  //map columns to visibleColumns\n  const visibleColumns = instance.visibleColumns\n    .map((visCol) => {\n      const column = columns.find((col) => {\n        return (\n          col.id === visCol.id || (col.accessor !== undefined && visCol.id !== undefined && col.accessor === visCol.id)\n        );\n      });\n      if (column) {\n        return column;\n      }\n      return column ?? false;\n    })\n    .filter(Boolean);\n\n  const calculateDefaultTableWidth = () => {\n    const columnsWithWidthProperties = visibleColumns\n      .filter((column) => column.width ?? column.minWidth ?? column.maxWidth ?? false)\n      .map((column) => ({\n        accessor: column.id ?? column.accessor,\n        minWidth: column.minWidth,\n        width: column.width,\n        maxWidth: column.maxWidth\n      }));\n    let availableWidth = totalWidth;\n    let defaultColumnsCount = visibleColumns.length;\n\n    const columnsWithFixedWidth = columnsWithWidthProperties\n      .map((column) => {\n        const { width, minWidth, maxWidth, accessor } = column;\n        if (width) {\n          // necessary because of default minWidth\n          const acceptedWidth =\n            accessor !== '__ui5wcr__internal_highlight_column' &&\n            accessor !== '__ui5wcr__internal_selection_column' &&\n            accessor !== '__ui5wcr__internal_navigation_column' &&\n            width < 60\n              ? 60\n              : width;\n\n          availableWidth -= acceptedWidth;\n          defaultColumnsCount--;\n          return acceptedWidth;\n        }\n        const columnsWithMaxWidth = columnsWithWidthProperties.filter((item) => item.maxWidth);\n        const aggregatedColumnsMaxWidth = columnsWithMaxWidth.reduce((acc, cur) => acc + cur.maxWidth, 0);\n        const aggregatedColumnsMinWidth = columnsWithWidthProperties\n          .filter((item) => item.minWidth && !item.maxWidth)\n          .reduce((acc, cur) => acc + cur.minWidth, 0);\n\n        if (minWidth > availableWidth / defaultColumnsCount) {\n          // don't apply minWidth if enough space is available because of maxWidth properties\n          if (\n            availableWidth - aggregatedColumnsMaxWidth >\n            aggregatedColumnsMinWidth + (visibleColumns.length - columnsWithWidthProperties.length) * 60\n          ) {\n            // apply minWidth only if it's larger than the calculated available width\n            if (minWidth > (availableWidth - aggregatedColumnsMaxWidth) / columnsWithMaxWidth.length) {\n              availableWidth -= minWidth;\n              defaultColumnsCount--;\n              return minWidth;\n            }\n            return false;\n          }\n          availableWidth -= minWidth;\n          defaultColumnsCount--;\n          return minWidth;\n        }\n        if (maxWidth < availableWidth / defaultColumnsCount) {\n          availableWidth -= maxWidth;\n          defaultColumnsCount--;\n          return maxWidth;\n        }\n        return false;\n      })\n      .filter(Boolean);\n\n    const fixedWidth = columnsWithFixedWidth.reduce((acc, val) => acc + val, 0);\n    // check if columns are visible and table has width\n    if (visibleColumns.length > 0 && totalWidth > 0) {\n      // set fixedWidth as defaultWidth if all visible columns have fixed value\n      if (visibleColumns.length === columnsWithFixedWidth.length) {\n        return fixedWidth / visibleColumns.length;\n      }\n      // spread default columns\n      if (totalWidth >= fixedWidth + defaultColumnsCount * DEFAULT_COLUMN_WIDTH) {\n        return (totalWidth - fixedWidth) / defaultColumnsCount;\n      }\n    }\n    return DEFAULT_COLUMN_WIDTH;\n  };\n\n  const hasData = rows.some((row) => !row.original?.emptyRow);\n\n  if (scaleWidthMode === TableScaleWidthMode.Default || (!hasData && loading)) {\n    const defaultWidth = calculateDefaultTableWidth();\n    return columns.map((column) => ({ ...column, width: column.width ?? defaultWidth }));\n  }\n\n  const rowSample = rows.slice(0, ROW_SAMPLE_SIZE);\n\n  const columnMeta = visibleColumns.reduce((acc, column) => {\n    if (\n      column.id === '__ui5wcr__internal_selection_column' ||\n      column.id === '__ui5wcr__internal_highlight_column' ||\n      column.id === '__ui5wcr__internal_navigation_column'\n    ) {\n      acc[column.id ?? column.accessor] = {\n        minHeaderWidth: column.width,\n        fullWidth: column.width,\n        contentCharAvg: 0\n      };\n      return acc;\n    }\n\n    const headerLength = typeof column.Header === 'string' ? column.Header.length : DEFAULT_HEADER_NUM_CHAR;\n\n    // max character length\n    const contentMaxCharLength = Math.max(\n      headerLength,\n      ...rowSample.map((row) => {\n        const dataPoint = row.values?.[column.id ?? column.accessor];\n        if (dataPoint) {\n          if (typeof dataPoint === 'string') return dataPoint.length;\n          if (typeof dataPoint === 'number') return (dataPoint + '').length;\n        }\n        return 0;\n      })\n    );\n\n    // avg character length\n    const contentCharAvg =\n      rowSample.reduce((acc, item) => {\n        const dataPoint = item.values?.[column.id ?? column.accessor];\n        let val = 0;\n        if (dataPoint) {\n          if (typeof dataPoint === 'string') val = dataPoint.length;\n          if (typeof dataPoint === 'number') val = (dataPoint + '').length;\n        }\n        return acc + val;\n      }, 0) / rowSample.length;\n\n    const minHeaderWidth = approximateHeaderPxFromCharLength(headerLength);\n\n    acc[column.id ?? column.accessor] = {\n      minHeaderWidth,\n      fullWidth: Math.max(minHeaderWidth, approximateContentPxFromCharLength(contentMaxCharLength)),\n      contentCharAvg\n    };\n    return acc;\n  }, {});\n\n  const totalCharNum = Object.values(columnMeta).reduce(\n    (acc: number, item: any) => acc + item.contentCharAvg,\n    0\n  ) as number;\n\n  let reservedWidth = visibleColumns.reduce((acc, column) => {\n    const { minHeaderWidth, fullWidth } = columnMeta[column.id ?? column.accessor];\n    return (\n      acc +\n        Math.max(\n          column.minWidth || 0,\n          column.width || 0,\n          minHeaderWidth || 0,\n          scaleWidthMode === TableScaleWidthMode.Grow ? fullWidth : 0\n        ) || 0\n    );\n  }, 0);\n\n  let availableWidth = totalWidth - reservedWidth;\n\n  if (scaleWidthMode === TableScaleWidthMode.Smart || availableWidth > 0) {\n    if (scaleWidthMode === TableScaleWidthMode.Grow) {\n      reservedWidth = visibleColumns.reduce((acc, column) => {\n        const { minHeaderWidth } = columnMeta[column.id ?? column.accessor];\n        return acc + Math.max(column.minWidth || 0, column.width || 0, minHeaderWidth || 0) || 0;\n      }, 0);\n      availableWidth = totalWidth - reservedWidth;\n    }\n\n    return columns.map((column) => {\n      const isColumnVisible = (column.isVisible ?? true) && !hiddenColumns.includes(column.id ?? column.accessor);\n      const meta = columnMeta[column.id ?? column.accessor];\n      if (isColumnVisible && meta) {\n        const { minHeaderWidth, contentCharAvg } = meta;\n        const additionalSpaceFactor = totalCharNum > 0 ? contentCharAvg / totalCharNum : 1 / visibleColumns.length;\n\n        const targetWidth = additionalSpaceFactor * availableWidth + minHeaderWidth;\n\n        return {\n          ...column,\n          width: column.width ?? targetWidth,\n          minWidth: column.minWidth ?? minHeaderWidth\n        };\n      }\n\n      return column;\n    });\n  }\n\n  // TableScaleWidthMode Grow\n  return columns.map((column) => {\n    const isColumnVisible = (column.isVisible ?? true) && !hiddenColumns.includes(column.id ?? column.accessor);\n    const meta = columnMeta[column.id ?? column.accessor];\n    if (isColumnVisible && meta) {\n      const { fullWidth } = meta;\n      return {\n        ...column,\n        width: column.width ?? fullWidth,\n        maxWidth: MAX_WIDTH\n      };\n    }\n    return column;\n  });\n};\n\nexport const useDynamicColumnWidths = (hooks) => {\n  hooks.columns.push(columns);\n  hooks.columnsDeps.push(columnsDeps);\n};\n","const popInVisibleColumnsDeps = (deps, { instance: { state } }) => [...deps, state.tableClientWidth];\n\nconst popInVisibleColumns = (cols, { instance }) => {\n  const { state, dispatch } = instance;\n\n  const tableClientWidth = state.isScrollable\n    ? state?.tableClientWidth + 14 /*scrollbar width*/\n    : state?.tableClientWidth;\n\n  const popInColumns = cols\n    .filter((item) => item.responsivePopIn && tableClientWidth < item.responsiveMinWidth)\n    .map((item) => ({ id: item.id ?? item.accessor, column: item }));\n\n  dispatch({ type: 'SET_POPIN_COLUMNS', payload: popInColumns });\n\n  return cols.filter(\n    (col) =>\n      !popInColumns.some((item) => item.id === (col.id ?? col.accessor)) &&\n      (col.hasOwnProperty('responsiveMinWidth')\n        ? !tableClientWidth || tableClientWidth >= col.responsiveMinWidth\n        : true)\n  );\n};\n\nexport const usePopIn = (hooks) => {\n  hooks.visibleColumns.push(popInVisibleColumns);\n  hooks.visibleColumnsDeps.push(popInVisibleColumnsDeps);\n};\n","import { ValueState } from '@ui5/webcomponents-react/lib/ValueState';\nimport React from 'react';\n\nconst baseStyles = {\n  width: '100%',\n  height: '100%'\n};\n\nconst StyleClassMap = new Map();\nStyleClassMap.set(ValueState.None, undefined);\nStyleClassMap.set(ValueState.Success, 'valueStateSuccess');\nStyleClassMap.set(ValueState.Warning, 'valueStateWarning');\nStyleClassMap.set(ValueState.Error, 'valueStateError');\nStyleClassMap.set(ValueState.Information, 'valueStateInformation');\n\n/*\n * COMPONENTS\n */\nconst Header = () => <div style={{ width: '6px' }} />;\n\nconst Cell = (instance) => {\n  const { cell, webComponentsReactProperties } = instance;\n  const styleClass = StyleClassMap.get(cell.value)\n    ? webComponentsReactProperties.classes[StyleClassMap.get(cell.value)]\n    : undefined;\n  return <div style={baseStyles} className={styleClass} />;\n};\n\n/*\n * TABLE HOOKS\n */\nconst columnsDeps = (deps, { instance: { webComponentsReactProperties } }) => {\n  return [...deps, webComponentsReactProperties.withRowHighlight, webComponentsReactProperties.highlightField];\n};\nconst visibleColumnsDeps = (deps, { instance }) => [...deps, instance.webComponentsReactProperties.withRowHighlight];\nconst visibleColumns = (currentVisibleColumns, { instance: { webComponentsReactProperties } }) => {\n  if (!webComponentsReactProperties.withRowHighlight) {\n    return currentVisibleColumns.filter(({ id }) => id !== '__ui5wcr__internal_highlight_column');\n  }\n\n  const highlightColumn = currentVisibleColumns.find(({ id }) => id === '__ui5wcr__internal_highlight_column');\n  return [highlightColumn, ...currentVisibleColumns.filter(({ id }) => id !== '__ui5wcr__internal_highlight_column')];\n};\n\nconst columns = (currentColumns, { instance }) => {\n  const { withRowHighlight, highlightField } = instance.webComponentsReactProperties;\n\n  if (!withRowHighlight) {\n    return currentColumns;\n  }\n  return [\n    {\n      id: '__ui5wcr__internal_highlight_column',\n      accessor: highlightField,\n      disableFilters: true,\n      disableSortBy: true,\n      disableGroupBy: true,\n      disableResizing: true,\n      canReorder: false,\n      width: 6,\n      minWidth: 6,\n      maxWidth: 6,\n      Header,\n      Cell\n    },\n    ...currentColumns\n  ];\n};\n\nexport const useRowHighlight = (hooks) => {\n  hooks.columns.push(columns);\n  hooks.columnsDeps.push(columnsDeps);\n  hooks.visibleColumnsDeps.push(visibleColumnsDeps);\n  hooks.visibleColumns.push(visibleColumns);\n};\n\nuseRowHighlight.pluginName = 'useRowHighlight';\n","import React from 'react';\n\nconst baseStyles = {\n  width: '100%',\n  height: '100%'\n};\n\n/*\n * COMPONENTS\n */\nconst Header = () => <div style={{ width: '6px' }} />;\n\nconst Cell = (instance) => {\n  const { isNavigatedCell, webComponentsReactProperties } = instance;\n  if (isNavigatedCell) {\n    return <div style={baseStyles} className={webComponentsReactProperties.classes.valueStateInformation} />;\n  }\n  return <div style={baseStyles} />;\n};\n\n/*\n * TABLE HOOKS\n */\nconst columnsDeps = (deps, { instance: { webComponentsReactProperties } }) => {\n  return [...deps, webComponentsReactProperties.withNavigationHighlight];\n};\nconst visibleColumnsDeps = (deps, { instance }) => [\n  ...deps,\n  instance.webComponentsReactProperties.withNavigationHighlight\n];\nconst visibleColumns = (currentVisibleColumns, { instance: { webComponentsReactProperties } }) => {\n  if (!webComponentsReactProperties.withNavigationHighlight) {\n    return currentVisibleColumns.filter(({ id }) => id !== '__ui5wcr__internal_navigation_column');\n  }\n\n  const highlightColumn = currentVisibleColumns.find(({ id }) => id === '__ui5wcr__internal_navigation_column');\n  return [...currentVisibleColumns.filter(({ id }) => id !== '__ui5wcr__internal_navigation_column'), highlightColumn];\n};\n\nconst columns = (currentColumns, { instance }) => {\n  const { withNavigationHighlight } = instance.webComponentsReactProperties;\n\n  if (!withNavigationHighlight) {\n    return currentColumns;\n  }\n  return [\n    ...currentColumns,\n    {\n      id: '__ui5wcr__internal_navigation_column',\n      disableFilters: true,\n      disableSortBy: true,\n      disableGroupBy: true,\n      disableResizing: true,\n      canReorder: false,\n      width: 6,\n      minWidth: 6,\n      maxWidth: 6,\n      Header,\n      Cell\n    }\n  ];\n};\n\nexport const useRowNavigationIndicators = (hooks) => {\n  hooks.columns.push(columns);\n  hooks.columnsDeps.push(columnsDeps);\n  hooks.visibleColumnsDeps.push(visibleColumnsDeps);\n  hooks.visibleColumns.push(visibleColumns);\n};\n","import { CssSizeVariablesNames } from '@ui5/webcomponents-react-base/lib/CssSizeVariables';\nimport { enrichEventWithDetails } from '@ui5/webcomponents-react-base/lib/Utils';\nimport { CheckBox } from '@ui5/webcomponents-react/lib/CheckBox';\nimport { TableSelectionBehavior } from '@ui5/webcomponents-react/lib/TableSelectionBehavior';\nimport { TableSelectionMode } from '@ui5/webcomponents-react/lib/TableSelectionMode';\nimport React, { useCallback } from 'react';\n\nconst divStyle = { width: '100%', height: '100%', cursor: 'pointer' };\nconst customCheckBoxStyling = {\n  cursor: 'pointer',\n  verticalAlign: 'middle'\n};\n\n/*\n * COMPONENTS\n */\n\nconst Header = ({\n  getToggleAllRowsSelectedProps,\n  flatRows,\n  webComponentsReactProperties: { onRowSelected, selectionMode },\n  toggleAllRowsSelected\n}) => {\n  const onChange = useCallback(\n    (e) => {\n      const allRowsSelected = e.target.checked;\n      toggleAllRowsSelected(allRowsSelected);\n      if (typeof onRowSelected === 'function') {\n        onRowSelected(\n          // cannot use instance.selectedFlatRows here as it only returns all rows on the first level\n          enrichEventWithDetails(e, { allRowsSelected, selectedFlatRows: allRowsSelected ? flatRows : [] })\n        );\n      }\n    },\n    [toggleAllRowsSelected, flatRows]\n  );\n\n  if (selectionMode === TableSelectionMode.SINGLE_SELECT) {\n    return null;\n  }\n  return <CheckBox {...getToggleAllRowsSelectedProps()} style={customCheckBoxStyling} onChange={onChange} />;\n};\n\nconst Cell = ({ row, webComponentsReactProperties: { selectionBehavior, selectionMode } }) => {\n  const handleCellClick = useCallback(\n    (e) => {\n      if (TableSelectionBehavior.ROW_SELECTOR === selectionBehavior) {\n        row.getRowProps().onClick(e, true);\n      }\n    },\n    [selectionMode, row]\n  );\n  if (row.isGrouped && selectionMode === TableSelectionMode.SINGLE_SELECT) {\n    return null;\n  }\n  if (selectionMode === TableSelectionMode.SINGLE_SELECT) {\n    return <div style={divStyle} onClick={handleCellClick} data-name=\"internal_selection_column\" />;\n  }\n  return (\n    <CheckBox\n      {...row.getToggleRowSelectedProps()}\n      onChange={handleCellClick}\n      style={customCheckBoxStyling}\n      data-name=\"internal_selection_column\"\n    />\n  );\n};\n\n/*\n * TABLE HOOKS\n */\n\nconst columnDeps = (deps, { instance: { webComponentsReactProperties } }) => {\n  return [...deps, webComponentsReactProperties.selectionMode, webComponentsReactProperties.selectionBehavior];\n};\n\nconst visibleColumnsDeps = (deps, { instance }) => [\n  ...deps,\n  instance.webComponentsReactProperties.selectionMode,\n  instance.webComponentsReactProperties.selectionBehavior\n];\n\nconst visibleColumns = (currentVisibleColumns, { instance: { webComponentsReactProperties } }) => {\n  if (\n    webComponentsReactProperties.selectionMode === TableSelectionMode.NONE ||\n    webComponentsReactProperties.selectionBehavior === TableSelectionBehavior.ROW_ONLY\n  ) {\n    return currentVisibleColumns;\n  }\n\n  const selectionColumn = currentVisibleColumns.find(({ id }) => id === '__ui5wcr__internal_selection_column');\n  return [selectionColumn, ...currentVisibleColumns.filter(({ id }) => id !== '__ui5wcr__internal_selection_column')];\n};\nconst columns = (currentColumns, { instance }) => {\n  const { webComponentsReactProperties } = instance;\n  const { selectionMode, selectionBehavior, tableRef } = webComponentsReactProperties;\n\n  if (selectionMode === TableSelectionMode.NONE || selectionBehavior === TableSelectionBehavior.ROW_ONLY) {\n    return currentColumns;\n  }\n  const tableSelectionColumnWidth =\n    tableRef.current &&\n    parseInt(\n      getComputedStyle(tableRef.current).getPropertyValue(\n        `--${CssSizeVariablesNames.sapWcrAnalyticalTableSelectionColumnWidth}`\n      ),\n      10\n    );\n  const selectionColumnWidth = !isNaN(tableSelectionColumnWidth) ? tableSelectionColumnWidth : 47;\n\n  return [\n    {\n      id: '__ui5wcr__internal_selection_column',\n      accessor: '__ui5wcr__internal_selection_column',\n      disableFilters: true,\n      disableSortBy: true,\n      disableGroupBy: true,\n      disableResizing: true,\n      canReorder: false,\n      width: selectionColumnWidth,\n      minWidth: selectionColumnWidth,\n      maxWidth: selectionColumnWidth,\n      Header,\n      Cell\n    },\n    ...currentColumns\n  ];\n};\n\nexport const useRowSelectionColumn = (hooks) => {\n  hooks.columns.push(columns);\n  hooks.columnsDeps.push(columnDeps);\n  hooks.visibleColumnsDeps.push(visibleColumnsDeps);\n  hooks.visibleColumns.push(visibleColumns);\n};\nuseRowSelectionColumn.pluginName = 'useRowSelectionColumn';\n","import { enrichEventWithDetails } from '@ui5/webcomponents-react-base/lib/Utils';\nimport { TableSelectionBehavior } from '@ui5/webcomponents-react/lib/TableSelectionBehavior';\nimport { TableSelectionMode } from '@ui5/webcomponents-react/lib/TableSelectionMode';\n\nconst tagNamesWhichShouldNotSelectARow = new Set([\n  'UI5-INPUT',\n  'UI5-LINK',\n  'UI5-BUTTON',\n  'UI5-CHECKBOX',\n  'UI5-COMBOBOX',\n  'UI5-MULTI-COMBOBOX',\n  'UI5-SELECT',\n  'UI5-RADIOBUTTON',\n  'UI5-SEGMENTEDBUTTON',\n  'UI5-SWITCH',\n  'UI5-TOGGLEBUTTON',\n  'UI5-DATE-PICKER',\n  'UI5-DATERANGE-PICKER',\n  'UI5-DATETIME-PICKER',\n  'UI5-DURATION-PICKER',\n  'UI5-TIME-PICKER',\n  'UI5-FILE-UPLOADER'\n]);\n\nconst getRowProps = (rowProps, { row, instance }) => {\n  const { webComponentsReactProperties, toggleRowSelected, selectedFlatRows } = instance;\n  return [\n    rowProps,\n    {\n      onClick: (e, selectionCellClick = false) => {\n        if (\n          e.target?.dataset?.name !== 'internal_selection_column' &&\n          !(e.markerAllowTableRowSelection === true || e.nativeEvent?.markerAllowTableRowSelection === true) &&\n          tagNamesWhichShouldNotSelectARow.has(e.target.tagName)\n        ) {\n          return;\n        }\n\n        // dont select empty rows\n        const isEmptyRow = row.original?.emptyRow;\n        if (isEmptyRow) {\n          return;\n        }\n\n        // dont select grouped rows\n        if (row.isGrouped) {\n          return;\n        }\n\n        const { selectionBehavior, selectionMode, onRowSelected, onRowClick } = webComponentsReactProperties;\n\n        if (typeof onRowClick === 'function' && e.target?.dataset?.name !== 'internal_selection_column') {\n          onRowClick(enrichEventWithDetails(e, { row }));\n        }\n\n        if (webComponentsReactProperties.selectionMode === TableSelectionMode.NONE) {\n          return;\n        }\n\n        // dont continue if the row was clicked and selection mode is row selector only\n        if (selectionBehavior === TableSelectionBehavior.ROW_SELECTOR && !selectionCellClick) {\n          return;\n        }\n\n        if (selectionMode === TableSelectionMode.SINGLE_SELECT) {\n          for (const row of selectedFlatRows) {\n            toggleRowSelected(row.id, false);\n          }\n        }\n        instance.toggleRowSelected(row.id);\n\n        // fire event\n        if (typeof onRowSelected === 'function') {\n          const payload = {\n            row,\n            isSelected: !row.isSelected,\n            selectedFlatRows: !row.isSelected ? [row.id] : []\n          };\n          if (selectionMode === TableSelectionMode.MULTI_SELECT) {\n            payload.selectedFlatRows = !row.isSelected\n              ? [...selectedFlatRows, row]\n              : selectedFlatRows.filter((prevRow) => prevRow.id !== row.id);\n          }\n          onRowSelected(enrichEventWithDetails(e, payload));\n        }\n      }\n    }\n  ];\n};\n\nexport const useSingleRowStateSelection = (hooks) => {\n  hooks.getRowProps.push(getRowProps);\n};\nuseSingleRowStateSelection.pluginName = 'useSingleRowStateSelection';\n","import { TableSelectionBehavior } from '@ui5/webcomponents-react/lib/TableSelectionBehavior';\nimport { TableSelectionMode } from '@ui5/webcomponents-react/lib/TableSelectionMode';\nimport { TextAlign } from '@ui5/webcomponents-react/lib/TextAlign';\nimport { VerticalAlign } from '@ui5/webcomponents-react/lib/VerticalAlign';\nimport { CSSProperties } from 'react';\n\nconst getHeaderGroupProps = (headerGroupProps, { instance }) => {\n  const { classes } = instance.webComponentsReactProperties;\n  return [\n    headerGroupProps,\n    {\n      className: classes.tableHeaderRow\n    }\n  ];\n};\n\nconst getHeaderProps = (columnProps, { instance, column }) => {\n  const { classes } = instance.webComponentsReactProperties;\n  const style: CSSProperties = {\n    width: column.totalWidth\n  };\n\n  if (\n    column.id === '__ui5wcr__internal_highlight_column' ||\n    column.id === '__ui5wcr__internal_selection_column' ||\n    column.id === '__ui5wcr__internal_navigation_column'\n  ) {\n    style.padding = 0;\n  }\n\n  return [\n    columnProps,\n    {\n      className: classes.th,\n      column,\n      style: style,\n      id: column.id\n    }\n  ];\n};\n\nconst ROW_SELECTION_ATTRIBUTE = 'data-is-selected';\n\nconst getRowProps = (rowProps, { instance, row }) => {\n  const { webComponentsReactProperties } = instance;\n  const { classes, selectionBehavior, selectionMode, alternateRowColor } = webComponentsReactProperties;\n  const isEmptyRow = row.original?.emptyRow;\n  let className = classes.tr;\n  const rowCanBeSelected =\n    [TableSelectionMode.SINGLE_SELECT, TableSelectionMode.MULTI_SELECT].includes(selectionMode) && !isEmptyRow;\n\n  if (row.isGrouped) {\n    className += ` ${classes.tableGroupHeader}`;\n  }\n\n  if (alternateRowColor && row.index % 2 !== 0) {\n    className += ` ${classes.alternateRowColor}`;\n  }\n\n  const newRowProps = {\n    className,\n    role: 'row',\n    'aria-rowindex': row.index\n  };\n\n  if (rowCanBeSelected) {\n    if (TableSelectionBehavior.ROW_SELECTOR !== selectionBehavior) {\n      newRowProps.className += ` ${classes.trActive}`;\n    }\n    if (row.isSelected) {\n      newRowProps[ROW_SELECTION_ATTRIBUTE] = '';\n    }\n  }\n\n  return [rowProps, newRowProps];\n};\n\nconst getCellProps = (cellProps, { cell: { column }, instance }) => {\n  const columnIndex = instance.visibleColumns.findIndex(({ id }) => id === column.id);\n  const { classes } = instance.webComponentsReactProperties;\n  const style: CSSProperties = { width: `${column.totalWidth}px` };\n\n  switch (column.hAlign) {\n    case TextAlign.Begin:\n      style.justifyContent = 'flex-start';\n      style.textAlign = 'start';\n      break;\n    case TextAlign.Center:\n      style.justifyContent = 'center';\n      style.textAlign = 'center';\n      break;\n    case TextAlign.End:\n      style.justifyContent = 'flex-end';\n      style.textAlign = 'end';\n      break;\n    case TextAlign.Left:\n      style.justifyContent = 'left';\n      style.textAlign = 'left';\n      break;\n    case TextAlign.Right:\n      style.justifyContent = 'right';\n      style.textAlign = 'right';\n      break;\n  }\n  switch (column.vAlign) {\n    case VerticalAlign.Bottom:\n      style.alignItems = 'flex-end';\n      break;\n    case VerticalAlign.Middle:\n      style.alignItems = 'center';\n      break;\n    case VerticalAlign.Top:\n      style.alignItems = 'flex-start';\n      break;\n  }\n\n  let className = classes.tableCell;\n  if (column.className) {\n    className += ` ${column.className}`;\n  }\n\n  if (\n    column.id === '__ui5wcr__internal_highlight_column' ||\n    column.id === '__ui5wcr__internal_selection_column' ||\n    column.id === '__ui5wcr__internal_navigation_column'\n  ) {\n    style.padding = 0;\n  }\n\n  return [\n    cellProps,\n    {\n      className,\n      style,\n      tabIndex: -1,\n      'aria-colindex': columnIndex + 1 // aria index is 1 based, not 0\n    }\n  ];\n};\n\nexport const useStyling = (hooks) => {\n  hooks.getHeaderGroupProps.push(getHeaderGroupProps);\n  hooks.getHeaderProps.push(getHeaderProps);\n  hooks.getRowProps.push(getRowProps);\n  hooks.getCellProps.push(getCellProps);\n};\nuseStyling.pluginName = 'useStyling';\n","import { useConsolidatedRef } from '@ui5/webcomponents-react-base/lib/useConsolidatedRef';\nimport { RefObject, useEffect, useRef } from 'react';\nimport { AnalyticalTableDomRef } from '../../../interfaces/AnalyticalTableDomRef';\n\nexport const useTableScrollHandles = (ref) => {\n  const analyticalTableRef: RefObject<AnalyticalTableDomRef> = useConsolidatedRef(ref);\n  const reactWindowRef = useRef<any>({});\n\n  useEffect(() => {\n    if (analyticalTableRef.current) {\n      Object.assign(analyticalTableRef.current, {\n        scrollTo: (offset, align) => {\n          if (typeof reactWindowRef.current?.scrollToOffset === 'function') {\n            reactWindowRef.current.scrollToOffset(offset, { align });\n          }\n        },\n        scrollToItem: (index, align) => {\n          if (typeof reactWindowRef.current?.scrollToIndex === 'function') {\n            reactWindowRef.current.scrollToIndex(index, { align });\n          }\n        },\n        horizontalScrollTo: (offset, align) => {\n          if (typeof reactWindowRef.current?.horizontalScrollToOffset === 'function') {\n            reactWindowRef.current.horizontalScrollToOffset(offset, { align });\n          }\n        },\n        horizontalScrollToItem: (index, align) => {\n          if (typeof reactWindowRef.current?.horizontalScrollToIndex === 'function') {\n            reactWindowRef.current.horizontalScrollToIndex(index, { align });\n          }\n        }\n      });\n    }\n  }, [\n    analyticalTableRef.current,\n    reactWindowRef.current.scrollToIndex,\n    reactWindowRef.current.scrollToOffset,\n    reactWindowRef.current.horizontalScrollToIndex,\n    reactWindowRef.current.horizontalScrollToOffset\n  ]);\n\n  return [analyticalTableRef, reactWindowRef];\n};\n","import { enrichEventWithDetails } from '@ui5/webcomponents-react-base/lib/Utils';\nimport { useCallback } from 'react';\n\nconst getToggleRowExpandedProps = (rowProps, { row, instance }) => {\n  const { onRowExpandChange, isTreeTable, renderRowSubComponent } = instance.webComponentsReactProperties;\n  const onClick = useCallback(\n    (e) => {\n      e.stopPropagation();\n      e.persist();\n      row.toggleRowExpanded();\n      let column = null;\n      if (!isTreeTable && !renderRowSubComponent) {\n        column = row.cells.find((cell) => cell.column.id === row.groupByID).column;\n      }\n\n      onRowExpandChange(enrichEventWithDetails(e, { row, column }));\n    },\n    [row, isTreeTable, onRowExpandChange]\n  );\n  return [\n    rowProps,\n    {\n      onClick\n    }\n  ];\n};\n\nexport const useToggleRowExpand = (hooks) => {\n  hooks.getToggleRowExpandedProps.push(getToggleRowExpandedProps);\n};\nuseToggleRowExpand.pluginName = 'useToggleRowExpand';\n","const getVisibleColumnsWidth = (instance) => {\n  const visibleColumnsWidth = instance.visibleColumns.map((item) => item.totalWidth);\n  Object.assign(instance, { visibleColumnsWidth });\n};\n\nexport const useVisibleColumnsWidth = (hooks) => {\n  hooks.useInstance.push(getVisibleColumnsWidth);\n};\nuseVisibleColumnsWidth.pluginName = 'useVisibleColumnsWidth';\n","import { StyleClassHelper } from '@ui5/webcomponents-react-base/lib/StyleClassHelper';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\nimport { FlexBox } from '@ui5/webcomponents-react/lib/FlexBox';\nimport { FlexBoxDirection } from '@ui5/webcomponents-react/lib/FlexBoxDirection';\nimport { GlobalStyleClasses } from '@ui5/webcomponents-react/lib/GlobalStyleClasses';\nimport React, { forwardRef, Ref, RefObject } from 'react';\nimport { createUseStyles } from 'react-jss';\n\ninterface VerticalScrollbarProps {\n  internalRowHeight: number;\n  tableRef: RefObject<any>;\n  minRows: number;\n  rows: any[];\n  handleVerticalScrollBarScroll: any;\n  popInRowHeight: number;\n}\n\nconst styles = {\n  headerSection: {\n    boxSizing: 'border-box',\n    borderTop: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    borderRight: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    borderBottom: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    backgroundColor: ThemingParameters.sapList_HeaderBackground\n  },\n  scrollbar: {\n    overflowY: 'auto',\n    borderRight: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    borderBottom: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    boxSizing: 'border-box'\n  },\n  bottomSection: {\n    flexGrow: 1,\n    backgroundColor: ThemingParameters.sapList_HeaderBackground,\n    boxSizing: 'border-box',\n    borderRight: 'none',\n    borderBottom: 'none'\n  },\n  bottomSectionWithScrollbar: {\n    borderRight: `1px solid ${ThemingParameters.sapList_BorderColor}`,\n    borderBottom: `1px solid ${ThemingParameters.sapList_BorderColor}`\n  }\n};\n\nconst useStyles = createUseStyles(styles, { name: 'VerticalScrollbar' });\n\nexport const VerticalScrollbar = forwardRef((props: VerticalScrollbarProps, ref: Ref<HTMLDivElement>) => {\n  const { internalRowHeight, tableRef, minRows, rows, handleVerticalScrollBarScroll, popInRowHeight } = props;\n  const classes = useStyles();\n  const hasHorizontalScrollbar = tableRef?.current?.clientWidth !== tableRef?.current?.scrollWidth;\n\n  const horizontalScrollbarSectionStyles = StyleClassHelper.of(classes.bottomSection);\n  if (hasHorizontalScrollbar) {\n    horizontalScrollbarSectionStyles.put(classes.bottomSectionWithScrollbar);\n  }\n\n  return (\n    <FlexBox direction={FlexBoxDirection.Column} style={{ position: 'relative' }}>\n      <div\n        style={{\n          height: `${internalRowHeight}px`\n        }}\n        className={classes.headerSection}\n      />\n      <div\n        ref={ref}\n        style={{\n          height: tableRef.current ? `${tableRef.current.clientHeight - internalRowHeight}px` : '0'\n        }}\n        onScroll={handleVerticalScrollBarScroll}\n        className={`${GlobalStyleClasses.sapScrollBar} ${classes.scrollbar}`}\n      >\n        <div\n          style={{\n            height: `${Math.max(minRows, rows.length) * popInRowHeight}px`,\n            width: '1px'\n          }}\n        />\n      </div>\n      <div className={horizontalScrollbarSectionStyles.valueOf()} />\n    </FlexBox>\n  );\n});\n\nVerticalScrollbar.displayName = 'VerticalScrollbar';\n","import '@ui5/webcomponents-icons/dist/navigation-down-arrow';\nimport '@ui5/webcomponents-icons/dist/navigation-right-arrow';\nimport { useConsolidatedRef } from '@ui5/webcomponents-react-base/lib/useConsolidatedRef';\nimport React, { MutableRefObject, ReactNode, useCallback, useMemo, useRef } from 'react';\nimport { useVirtual } from 'react-virtual';\n\ninterface VirtualTableBodyProps {\n  classes: Record<string, string>;\n  prepareRow: (row: unknown) => void;\n  rows: any[];\n  minRows: number;\n  reactWindowRef: MutableRefObject<any>;\n  isTreeTable: boolean;\n  internalRowHeight: number;\n  visibleRows: number;\n  alternateRowColor: boolean;\n  overscanCount: number;\n  visibleColumns: any[];\n  tableRef: MutableRefObject<any>;\n  visibleColumnsWidth: any[];\n  parentRef: MutableRefObject<any>;\n  overscanCountHorizontal: number;\n  renderRowSubComponent: (row?: any) => ReactNode;\n  popInRowHeight: number;\n  isRtl: boolean;\n  markNavigatedRow?: (row?: Record<any, any>) => boolean;\n}\n\nexport const VirtualTableBody = (props: VirtualTableBodyProps) => {\n  const {\n    classes,\n    prepareRow,\n    rows,\n    minRows,\n    reactWindowRef,\n    isTreeTable,\n    internalRowHeight,\n    visibleRows,\n    overscanCount,\n    visibleColumns,\n    tableRef,\n    visibleColumnsWidth,\n    parentRef,\n    overscanCountHorizontal,\n    renderRowSubComponent,\n    popInRowHeight,\n    markNavigatedRow,\n    isRtl\n  } = props;\n\n  const rowSubComponentsHeight = useRef({});\n\n  const itemCount = Math.max(minRows, rows.length);\n  const overscan = overscanCount ? overscanCount : Math.floor(visibleRows / 2);\n  const consolidatedParentRef = useConsolidatedRef(parentRef);\n  const rowHeight = popInRowHeight !== internalRowHeight ? popInRowHeight : internalRowHeight;\n\n  const rowVirtualizer = useVirtual({\n    size: itemCount,\n    parentRef: consolidatedParentRef,\n    estimateSize: React.useCallback(\n      (index) => {\n        if (renderRowSubComponent && rows[index].isExpanded && rowSubComponentsHeight.current.hasOwnProperty(index)) {\n          return rowHeight + (rowSubComponentsHeight.current?.[index] ?? 0);\n        }\n        return rowHeight;\n      },\n      [rowHeight, rows, renderRowSubComponent]\n    ),\n    overscan\n  });\n\n  const columnVirtualizer = useVirtual({\n    size: visibleColumns.length,\n    parentRef: tableRef,\n    estimateSize: useCallback(\n      (index) => {\n        return visibleColumnsWidth[index];\n      },\n      [visibleColumnsWidth]\n    ),\n    horizontal: true,\n    overscan: overscanCountHorizontal\n  });\n\n  reactWindowRef.current = {\n    ...reactWindowRef.current,\n    scrollToOffset: rowVirtualizer.scrollToOffset,\n    scrollToIndex: rowVirtualizer.scrollToIndex\n  };\n\n  const currentlyFocusedCell = useRef<HTMLDivElement>(null);\n  const onTableFocus = useCallback(\n    (e) => {\n      const firstCell: HTMLDivElement = e.target.querySelector(\n        'div[role=\"row\"]:first-child div[role=\"cell\"]:first-child'\n      );\n      if (firstCell) {\n        firstCell.tabIndex = 0;\n        firstCell.focus();\n        currentlyFocusedCell.current = firstCell;\n      }\n    },\n    [currentlyFocusedCell]\n  );\n\n  const onKeyboardNavigation = useCallback(\n    (e) => {\n      if (currentlyFocusedCell.current) {\n        switch (e.key) {\n          case 'ArrowRight': {\n            const newElement = currentlyFocusedCell.current.nextElementSibling as HTMLDivElement;\n            if (newElement) {\n              currentlyFocusedCell.current.tabIndex = -1;\n              newElement.tabIndex = 0;\n              newElement.focus();\n              currentlyFocusedCell.current = newElement;\n            }\n            break;\n          }\n          case 'ArrowLeft': {\n            const newElement = currentlyFocusedCell.current.previousElementSibling as HTMLDivElement;\n            if (newElement) {\n              currentlyFocusedCell.current.tabIndex = -1;\n              newElement.tabIndex = 0;\n              newElement.focus();\n              currentlyFocusedCell.current = newElement;\n            }\n            break;\n          }\n          case 'ArrowDown': {\n            const nextRow = currentlyFocusedCell.current.parentElement.nextElementSibling as HTMLDivElement;\n            if (nextRow) {\n              currentlyFocusedCell.current.tabIndex = -1;\n              const currentColumnIndex = currentlyFocusedCell.current.getAttribute('aria-colindex');\n              const newElement: HTMLDivElement = nextRow.querySelector(`div[aria-colindex=\"${currentColumnIndex}\"]`);\n              newElement.tabIndex = 0;\n              newElement.focus();\n              currentlyFocusedCell.current = newElement;\n            }\n            break;\n          }\n          case 'ArrowUp': {\n            const previousRow = currentlyFocusedCell.current.parentElement.previousElementSibling as HTMLDivElement;\n            if (previousRow) {\n              currentlyFocusedCell.current.tabIndex = -1;\n              const currentColumnIndex = currentlyFocusedCell.current.getAttribute('aria-colindex');\n              const newElement: HTMLDivElement = previousRow.querySelector(\n                `div[aria-colindex=\"${currentColumnIndex}\"]`\n              );\n              newElement.tabIndex = 0;\n              newElement.focus();\n              currentlyFocusedCell.current = newElement;\n            }\n            break;\n          }\n        }\n      }\n    },\n    [currentlyFocusedCell]\n  );\n\n  const popInColumn = useMemo(\n    () =>\n      visibleColumns.filter(\n        (item) =>\n          item.id !== '__ui5wcr__internal_highlight_column' &&\n          item.id !== '__ui5wcr__internal_selection_column' &&\n          item.id !== '__ui5wcr__internal_navigation_column'\n      )[0],\n    [visibleColumns]\n  );\n\n  return (\n    <div\n      tabIndex={0}\n      onFocus={onTableFocus}\n      onKeyDown={onKeyboardNavigation}\n      style={{\n        position: 'relative',\n        height: `${rowVirtualizer.totalSize}px`,\n        width: `${columnVirtualizer.totalSize}px`\n      }}\n    >\n      {rowVirtualizer.virtualItems.map((virtualRow) => {\n        const row = rows[virtualRow.index];\n        const setSubcomponentsRefs = (el) => {\n          if (el?.offsetHeight) {\n            rowSubComponentsHeight.current[virtualRow.index] = el.offsetHeight;\n          }\n        };\n        if (!row) {\n          return (\n            <div\n              key={`empty_row_${virtualRow.index}`}\n              className={classes.tr}\n              style={{\n                height: `${virtualRow.size}px`,\n                transform: `translateY(${virtualRow.start}px)`\n              }}\n            />\n          );\n        }\n        prepareRow(row);\n        const rowProps = row.getRowProps();\n        const isNavigatedCell = markNavigatedRow(row);\n        const RowSubComponent = typeof renderRowSubComponent === 'function' ? renderRowSubComponent(row) : null;\n        return (\n          <div\n            {...rowProps}\n            style={{\n              height: `${rowHeight}px`,\n              transform: `translateY(${virtualRow.start}px)`,\n              position: 'absolute'\n            }}\n          >\n            {RowSubComponent && row.isExpanded && (\n              <div\n                ref={setSubcomponentsRefs}\n                style={{\n                  transform: `translateY(${rowHeight}px)`,\n                  position: 'absolute',\n                  width: '100%'\n                }}\n              >\n                {RowSubComponent}\n              </div>\n            )}\n            {columnVirtualizer.virtualItems.map((virtualColumn, index) => {\n              const cell = row.cells[virtualColumn.index];\n              const directionStyles = isRtl\n                ? {\n                    transform: `translateX(-${virtualColumn.start}px)`,\n                    right: 0\n                  }\n                : { transform: `translateX(${virtualColumn.start}px)`, left: 0 };\n\n              if (!cell) {\n                return null;\n              }\n              const cellProps = cell.getCellProps();\n              if (row.original?.emptyRow) {\n                return <div {...cellProps} />;\n              }\n              let contentToRender;\n              if (\n                cell.column.id === '__ui5wcr__internal_highlight_column' ||\n                cell.column.id === '__ui5wcr__internal_selection_column' ||\n                cell.column.id === '__ui5wcr__internal_navigation_column'\n              ) {\n                contentToRender = 'Cell';\n              } else if (isTreeTable || RowSubComponent) {\n                contentToRender = 'Expandable';\n              } else if (cell.isGrouped) {\n                contentToRender = 'Grouped';\n              } else if (cell.isAggregated) {\n                contentToRender = 'Aggregated';\n              } else if (cell.isPlaceholder) {\n                contentToRender = 'RepeatedValue';\n              } else {\n                contentToRender = 'Cell';\n              }\n              return (\n                <div\n                  {...cellProps}\n                  style={{\n                    ...cellProps.style,\n                    position: 'absolute',\n                    width: `${virtualColumn.size}px`,\n                    top: 0,\n                    ...directionStyles\n                  }}\n                >\n                  {popInRowHeight !== internalRowHeight && popInColumn.id === cell.column.id\n                    ? cell.render('PopIn', { contentToRender, internalRowHeight })\n                    : cell.render(contentToRender, isNavigatedCell === true ? { isNavigatedCell } : {})}\n                </div>\n              );\n            })}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n","import { StyleClassHelper } from '@ui5/webcomponents-react-base/lib/StyleClassHelper';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\n\nexport const VirtualTableBodyContainer = (props) => {\n  const {\n    tableBodyHeight,\n    totalColumnsWidth,\n    children,\n    parentRef,\n    classes,\n    infiniteScroll,\n    infiniteScrollThreshold,\n    onLoadMore,\n    rows,\n    internalRowHeight,\n    handleExternalScroll,\n    visibleRows,\n    popInRowHeight\n  } = props;\n  const [isMounted, setIsMounted] = useState(false);\n\n  useEffect(() => {\n    if (parentRef.current) {\n      setIsMounted(true);\n    }\n  }, [parentRef.current]);\n\n  const classNames = StyleClassHelper.of(classes.tbody).className;\n\n  const lastScrollTop = useRef(0);\n  const firedInfiniteLoadEvents = useRef(new Set());\n\n  const onScroll = useCallback(\n    (event) => {\n      handleExternalScroll();\n      const scrollOffset = event.target.scrollTop;\n      const isScrollingDown = lastScrollTop.current < scrollOffset;\n      if (isScrollingDown && infiniteScroll) {\n        lastScrollTop.current = scrollOffset;\n        const currentLastRow =\n          Math.floor(scrollOffset / popInRowHeight) +\n          (popInRowHeight === internalRowHeight ? visibleRows : Math.floor(tableBodyHeight / popInRowHeight));\n        if (rows.length - currentLastRow < infiniteScrollThreshold) {\n          if (!firedInfiniteLoadEvents.current.has(rows.length)) {\n            onLoadMore({\n              detail: {\n                rowCount: rows.length\n              }\n            });\n          }\n          firedInfiniteLoadEvents.current.add(rows.length);\n        }\n      }\n    },\n    [\n      infiniteScroll,\n      infiniteScrollThreshold,\n      onLoadMore,\n      rows.length,\n      internalRowHeight,\n      firedInfiniteLoadEvents,\n      lastScrollTop,\n      handleExternalScroll,\n      popInRowHeight,\n      tableBodyHeight\n    ]\n  );\n\n  return (\n    <div\n      className={classNames}\n      ref={parentRef}\n      onScroll={onScroll}\n      style={{\n        position: 'relative',\n        overflowY: 'auto',\n        height: `${tableBodyHeight}px`,\n        width: `${totalColumnsWidth}px`\n      }}\n    >\n      {isMounted && children}\n    </div>\n  );\n};\n","import { actions } from 'react-table';\n\nexport const stateReducer = (newState, action) => {\n  const { payload } = action;\n\n  if (newState.isRtl && action.type === actions.columnResizing) {\n    const { clientX } = action;\n    const { startX, columnWidth, headerIdWidths } = newState.columnResizing;\n\n    const deltaX = startX - clientX;\n    const percentageDeltaX = deltaX / columnWidth;\n\n    const newColumnWidths = {};\n\n    headerIdWidths.forEach(([headerId, headerWidth]) => {\n      newColumnWidths[headerId] = Math.max(headerWidth + headerWidth * percentageDeltaX, 0);\n    });\n\n    return {\n      ...newState,\n      columnResizing: {\n        ...newState.columnResizing,\n        columnWidths: {\n          ...newState.columnResizing.columnWidths,\n          ...newColumnWidths\n        }\n      }\n    };\n  }\n\n  switch (action.type) {\n    case 'TABLE_RESIZE':\n      return { ...newState, tableClientWidth: payload.tableClientWidth };\n    case 'VISIBLE_ROWS':\n      return { ...newState, visibleRows: payload.visibleRows };\n    case 'TABLE_SCROLLING_ENABLED':\n      return { ...newState, isScrollable: payload.isScrollable };\n    case 'SET_SELECTED_ROW_IDS':\n      return { ...newState, selectedRowIds: payload.selectedRowIds };\n    case 'SET_POPIN_COLUMNS':\n      return { ...newState, popInColumns: payload };\n    case 'INTERACTIVE_ROWS_HAVE_POPIN':\n      return { ...newState, interactiveRowsHavePopIn: payload };\n    case 'IS_RTL':\n      return { ...newState, isRtl: payload.isRtl };\n    default:\n      return newState;\n  }\n};\n","import { Title } from '@ui5/webcomponents-react/lib/Title';\nimport React, { forwardRef, isValidElement, ReactNode, ReactText, Ref } from 'react';\n\nconst styles = {\n  minHeight: '1.5rem',\n  display: 'flex',\n  alignItems: 'center'\n};\n\nexport interface TitleBarProps {\n  children: ReactText | ReactNode;\n}\n\nexport const TitleBar = forwardRef((props: TitleBarProps, ref: Ref<HTMLDivElement>) => {\n  const { children } = props;\n  return (\n    <div style={styles} ref={ref}>\n      {typeof children === 'string' && <Title>{children}</Title>}\n      {isValidElement(children) && children}\n    </div>\n  );\n});\n","import { defaultOrderByFn } from 'react-table';\n\nexport const orderByFn = (rows, functions, directions) => {\n  const wrapSortFn = (sortFn, index) => {\n    const desc = directions[index] === false || directions[index] === 'desc';\n\n    return (rowA, rowB) => {\n      if (rowA.original?.emptyRow && !rowB.original?.emptyRow) {\n        return desc ? -1 : 1;\n      }\n      if (!rowA.original?.emptyRow && rowB.original?.emptyRow) {\n        return desc ? 1 : -1;\n      }\n      if (rowA.original?.emptyRow && rowB.original?.emptyRow) {\n        return 0;\n      }\n      return sortFn(rowA, rowB);\n    };\n  };\n\n  const wrappedSortfunctions = functions.map(wrapSortFn);\n\n  return defaultOrderByFn(rows, wrappedSortfunctions, directions);\n};\n\n// copied from https://github.com/tannerlinsley/react-table/blob/f97fb98509d0b27cc0bebcf3137872afe4f2809e/src/utils.js#L320-L347 (13. Jan 2021)\nconst reOpenBracket = /\\[/g;\nconst reCloseBracket = /\\]/g;\n\nfunction makePathArray(obj) {\n  return (\n    flattenDeep(obj)\n      // remove all periods in parts\n      .map((d) => String(d).replace('.', '_'))\n      // join parts using period\n      .join('.')\n      // replace brackets with periods\n      .replace(reOpenBracket, '.')\n      .replace(reCloseBracket, '')\n      // split it back out on periods\n      .split('.')\n  );\n}\n\nfunction flattenDeep(arr, newArr = []) {\n  if (!Array.isArray(arr)) {\n    newArr.push(arr);\n  } else {\n    for (let i = 0; i < arr.length; i += 1) {\n      flattenDeep(arr[i], newArr);\n    }\n  }\n  return newArr;\n}\n\n// copied from https://github.com/tannerlinsley/react-table/blob/master/src/utils.js#L169-L191 (13.Jan 2021)\nconst pathObjCache = new Map();\n\nexport function getBy(obj, path, def) {\n  if (!path) {\n    return obj;\n  }\n  const cacheKey = typeof path === 'function' ? path : JSON.stringify(path);\n\n  const pathObj =\n    pathObjCache.get(cacheKey) ||\n    (() => {\n      const pathObj = makePathArray(path);\n      pathObjCache.set(cacheKey, pathObj);\n      return pathObj;\n    })();\n  let val;\n\n  try {\n    val = pathObj.reduce((cursor, pathPart) => {\n      return cursor[pathPart];\n    }, obj);\n  } catch (e) {\n    // continue regardless of error\n  }\n  return typeof val !== 'undefined' ? val : def;\n}\n","import { useI18nBundle } from '@ui5/webcomponents-react-base/lib/hooks';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\nimport { DRAG_TO_RESIZE } from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport React, { MutableRefObject, useCallback, useEffect, useRef, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { createUseStyles } from 'react-jss';\n\nconst verticalResizerStyles = {\n  container: {\n    overflow: 'hidden',\n    position: 'relative',\n    height: '5px',\n    textAlign: 'center',\n    cursor: 'row-resize',\n    boxSizing: 'border-box',\n    '&:hover': {\n      backgroundColor: ThemingParameters.sapContent_DragAndDropActiveColor,\n      color: ThemingParameters.sapHighlightTextColor\n    },\n    '&:before': {\n      fontSize: '10px',\n      fontFamily: ThemingParameters.sapFontFamily,\n      top: 0,\n      position: 'absolute',\n      content: '\"\\u2981\\u2981\\u2981\\u2981\"',\n      lineHeight: '5px',\n      pointerEvents: 'none'\n    }\n  },\n  resizer: {\n    position: 'absolute',\n    opacity: 0.5,\n    backgroundColor: ThemingParameters.sapContent_DragAndDropActiveColor,\n    height: '5px'\n  }\n};\n\nconst useStyles = createUseStyles(verticalResizerStyles, { name: 'VerticalResizer' });\n\ninterface VerticalResizerProps {\n  analyticalTableRef: MutableRefObject<any>;\n  dispatch: (e: { type: string; payload?: any }) => void;\n  extensionsHeight: number;\n  internalRowHeight: number;\n  hasPopInColumns: boolean;\n  popInRowHeight: number;\n}\n\nconst isTouchEvent = (e, touchEvent) => {\n  if (e.type === touchEvent) {\n    return !(e.touches && e.touches.length > 1);\n  }\n  return false;\n};\n\nexport const VerticalResizer = (props: VerticalResizerProps) => {\n  const { analyticalTableRef, dispatch, extensionsHeight, internalRowHeight, hasPopInColumns, popInRowHeight } = props;\n  const classes = useStyles();\n  const startY = useRef(null);\n  const verticalResizerRef = useRef(null);\n  const [resizerPosition, setResizerPosition] = useState(undefined);\n  const [isDragging, setIsDragging] = useState(false);\n  const [mountTouchEvents, setMountTouchEvents] = useState(false);\n\n  const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n\n  const handleResizeStart = useCallback(\n    (e) => {\n      e.preventDefault();\n      const touchEvent = isTouchEvent(e, 'touchstart');\n      startY.current = touchEvent ? Math.round(e.touches[0].pageY) : e.pageY;\n      setMountTouchEvents(touchEvent);\n      setIsDragging(true);\n    },\n    [startY.current, setIsDragging]\n  );\n\n  const handleMove = useCallback(\n    (e) => {\n      setResizerPosition((prev) => ({\n        ...prev,\n        top: isTouchEvent(e, 'touchmove') ? Math.round(e.touches[0].pageY) : e.pageY\n      }));\n    },\n    [setResizerPosition]\n  );\n  const handleResizeEnd = useCallback(\n    (e) => {\n      setIsDragging(false);\n      const rowCount = Math.floor(\n        (analyticalTableRef.current.clientHeight +\n          (isTouchEvent(e, 'touchend') ? Math.round(e.changedTouches[0].pageY) : e.pageY) -\n          startY.current -\n          extensionsHeight -\n          5) /*resizer height*/ /\n          popInRowHeight\n      );\n      if (hasPopInColumns) {\n        dispatch({ type: 'INTERACTIVE_ROWS_HAVE_POPIN', payload: true });\n      }\n      dispatch({\n        type: 'VISIBLE_ROWS',\n        payload: { visibleRows: rowCount }\n      });\n    },\n    [analyticalTableRef.current?.clientHeight, startY.current, extensionsHeight, internalRowHeight, dispatch]\n  );\n  useEffect(() => {\n    const removeEventListeners = () => {\n      if (mountTouchEvents) {\n        document.removeEventListener('touchmove', handleMove);\n        document.removeEventListener('touchend', handleResizeEnd);\n      } else {\n        document.removeEventListener('mouseup', handleResizeEnd);\n        document.removeEventListener('mousemove', handleMove);\n      }\n    };\n    if (isDragging) {\n      if (mountTouchEvents) {\n        document.addEventListener('touchmove', handleMove);\n        document.addEventListener('touchend', handleResizeEnd);\n      } else {\n        document.addEventListener('mousemove', handleMove);\n        document.addEventListener('mouseup', handleResizeEnd);\n      }\n    } else {\n      removeEventListeners();\n    }\n    return () => {\n      removeEventListeners();\n    };\n  }, [isDragging]);\n\n  useEffect(() => {\n    const resizerPosTop = verticalResizerRef.current?.getBoundingClientRect()?.top + window.scrollY;\n    const resizerPosLeft = verticalResizerRef.current?.getBoundingClientRect()?.left + window.scrollX;\n    const resizerPosWidth = verticalResizerRef.current?.getBoundingClientRect()?.width;\n    if (!isDragging && resizerPosTop > 0) {\n      setResizerPosition({ left: resizerPosLeft, top: resizerPosTop, width: resizerPosWidth });\n    }\n  }, [verticalResizerRef.current?.getBoundingClientRect()?.top, isDragging]);\n\n  useEffect(() => {\n    return () => {\n      dispatch({ type: 'WITH_POPIN', payload: false });\n    };\n  }, []);\n\n  return (\n    <div\n      className={classes.container}\n      ref={verticalResizerRef}\n      onMouseDown={handleResizeStart}\n      onTouchStart={handleResizeStart}\n      role=\"separator\"\n      title={i18nBundle.getText(DRAG_TO_RESIZE)}\n    >\n      {resizerPosition &&\n        isDragging &&\n        createPortal(\n          <div\n            className={classes.resizer}\n            style={{ top: resizerPosition.top, left: resizerPosition.left, width: resizerPosition.width }}\n          />,\n          document.body\n        )}\n    </div>\n  );\n};\n","import { createUseStyles } from 'react-jss';\nimport { useIsomorphicLayoutEffect, useIsRTL } from '@ui5/webcomponents-react-base/lib/hooks';\nimport { StyleClassHelper } from '@ui5/webcomponents-react-base/lib/StyleClassHelper';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\nimport { usePassThroughHtmlProps } from '@ui5/webcomponents-react-base/lib/usePassThroughHtmlProps';\nimport { enrichEventWithDetails } from '@ui5/webcomponents-react-base/lib/Utils';\nimport { FlexBox } from '@ui5/webcomponents-react/lib/FlexBox';\nimport { GlobalStyleClasses } from '@ui5/webcomponents-react/lib/GlobalStyleClasses';\nimport { TableScaleWidthMode } from '@ui5/webcomponents-react/lib/TableScaleWidthMode';\nimport { TableSelectionBehavior } from '@ui5/webcomponents-react/lib/TableSelectionBehavior';\nimport { TableSelectionMode } from '@ui5/webcomponents-react/lib/TableSelectionMode';\nimport { TableVisibleRowCountMode } from '@ui5/webcomponents-react/lib/TableVisibleRowCountMode';\nimport { ValueState } from '@ui5/webcomponents-react/lib/ValueState';\nimport debounce from 'lodash/debounce';\nimport React, {\n  ComponentType,\n  CSSProperties,\n  FC,\n  forwardRef,\n  ReactNode,\n  ReactText,\n  Ref,\n  RefObject,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef\n} from 'react';\nimport {\n  PluginHook,\n  useColumnOrder,\n  useExpanded,\n  useFilters,\n  useGroupBy,\n  useResizeColumns,\n  useRowSelect,\n  useSortBy,\n  useTable\n} from 'react-table';\nimport { AnalyticalTableColumnDefinition } from '../../interfaces/AnalyticalTableColumnDefinition';\nimport { CommonProps } from '../../interfaces/CommonProps';\nimport styles from './AnayticalTable.jss';\nimport { ColumnHeaderContainer } from './ColumnHeader/ColumnHeaderContainer';\nimport { DefaultColumn } from './defaults/Column';\nimport { DefaultLoadingComponent } from './defaults/LoadingComponent';\nimport { TablePlaceholder } from './defaults/LoadingComponent/TablePlaceholder';\nimport { DefaultNoDataComponent } from './defaults/NoDataComponent';\nimport { useDragAndDrop } from './hooks/useDragAndDrop';\nimport { useDynamicColumnWidths } from './hooks/useDynamicColumnWidths';\nimport { usePopIn } from './hooks/usePopIn';\nimport { useRowHighlight } from './hooks/useRowHighlight';\nimport { useRowNavigationIndicators } from './hooks/useRowNavigationIndicator';\nimport { useRowSelectionColumn } from './hooks/useRowSelectionColumn';\nimport { useSingleRowStateSelection } from './hooks/useSingleRowStateSelection';\nimport { useStyling } from './hooks/useStyling';\nimport { useTableScrollHandles } from './hooks/useTableScrollHandles';\nimport { useToggleRowExpand } from './hooks/useToggleRowExpand';\nimport { useVisibleColumnsWidth } from './hooks/useVisibleColumnsWidth';\nimport { VerticalScrollbar } from './scrollbars/VerticalScrollbar';\nimport { VirtualTableBody } from './TableBody/VirtualTableBody';\nimport { VirtualTableBodyContainer } from './TableBody/VirtualTableBodyContainer';\nimport { stateReducer } from './tableReducer/stateReducer';\nimport { TitleBar } from './TitleBar';\nimport { orderByFn } from './util';\nimport { VerticalResizer } from './VerticalResizer';\n\ninterface DivWithCustomScrollProp extends HTMLDivElement {\n  isExternalVerticalScroll?: boolean;\n}\n\nexport interface TableProps extends Omit<CommonProps, 'title'> {\n  /**\n   * Defines the columns array where you can define the configuration for each column.\n   *\n   * __Note:__ Please look at the [AnalyticalTableColumnDefinition interface](#column-properties) for a full list of options.\n   */\n  columns: AnalyticalTableColumnDefinition[];\n  /**\n   * The data array that you want to display on the table.\n   */\n  data: Record<any, any>[];\n  /**\n   * Component or text rendered in the title section of the `AnalyticalTable`.\n   *\n   * __Note:__ If not set, it will be hidden.\n   */\n  title?: ReactText | ReactNode;\n  /**\n   * Extension section of the Table. If not set, no extension area will be rendered\n   */\n  extension?: ReactNode;\n\n  // appearance\n  /**\n   * The minimum number of rows that are displayed. If the data contains less entries than `minRows`, it will be filled with empty rows.\n   */\n  minRows?: number;\n  /**\n   * Defines how the table table will render visible rows.\n   *\n   * - __\"Fixed\":__ The table always has as many rows as defined in the `visibleRowCount` prop.\n   * - __\"Auto\":__ The table automatically fills the height of the surrounding container.\n   * - __\"Interactive\":__ Adds a resizer to the bottom of the table to dynamically add or remove visible rows. The initial number of rows is defined by the `visibleRows` prop.\n   *\n   * __Note:__ When `\"Auto\"` is enabled, we recommend to use a fixed height for the outer container.\n   */\n  visibleRowCountMode?: TableVisibleRowCountMode;\n  /**\n   * The number of rows visible without going into overflow.\n   *\n   * __Note:__ If the data contains more entries than the `visibleRow` count, a vertical scrollbar is rendered and the table goes into overflow.\n   */\n  visibleRows?: number;\n  /**\n   * Indicates whether a loading indicator should be shown.\n   *\n   * __Note:__ If the data array is not empty and loading is set to `true` a `Loader` will be displayed underneath the header, otherwise a loading placeholder will be shown.\n   * You can use your own placeholder by passing it to the `LoadingComponent` prop.\n   */\n  loading?: boolean;\n  /**\n   * Defines the text shown if the data array is empty. If not set \"No data\" will be displayed.\n   */\n  noDataText?: string;\n  /**\n   * Defines the height of the rows and header.\n   */\n  rowHeight?: number;\n  /**\n   * Defines whether the table should display rows with alternating row colors.\n   */\n  alternateRowColor?: boolean;\n  /**\n   * Flag whether the table should add an extra column at the end of the rows for displaying a navigation highlight.\n   */\n  withNavigationHighlight?: boolean;\n  /**\n   * Flag whether the table should add an extra column at the start of the rows for displaying row highlights, based on the `highlightField` prop.\n   */\n  withRowHighlight?: boolean;\n  /**\n   * Accessor for showing the row highlights. Only taken into account when `withRowHighlight` is set.\n   *\n   * Default Value: `status`.\n   *\n   * The value of this prop can either be a `string` pointing to a `ValueState` in your dataset\n   * or an accessor function which should return a `ValueState`.\n   */\n  highlightField?: string | ((row: Record<any, any>) => ValueState);\n\n  // features\n  /**\n   * Defines whether columns are filterable.\n   */\n  filterable?: boolean;\n  /**\n   * Defines whether columns are sortable.\n   */\n  sortable?: boolean;\n  /**\n   * Defines whether columns are groupable.\n   */\n  groupable?: boolean;\n  /**\n   * Group table rows by adding the column's `accessor` or `id` to the array.\n   *\n   * __Note:__ This prop has no effect when `isTreeTable` is true or `renderRowSubComponent` is set.\n   */\n  groupBy?: string[];\n  /**\n   * Defines the selection behavior of the table.\n   *\n   * - __\"Row\":__ A selection column is rendered along with the normal columns. The whole row is selectable.\n   * - __\"RowOnly\":__ No selection column is rendered along with the normal columns. The whole row is selectable.\n   * - __\"RowSelector\":__ The row is only selectable by clicking on the corresponding field in the selection column.\n   */\n  selectionBehavior?: TableSelectionBehavior;\n  /**\n   * Defines the `SelectionMode` of the table.\n   *\n   * - __\"None\":__ The rows are not selectable.\n   * - __\"SingleSelect\":__ You can select only one row at once. Clicking on another row will unselect the previously selected row.\n   * - __\"MultiSelect\":__ You can select multiple rows.\n   */\n  selectionMode?: TableSelectionMode;\n  /**\n   * Defines the column growing behaviour. Possible Values:\n   *\n   * - **Default**: Every column without fixed width gets the maximum available space of the table.\n   * - **Smart**: Every column gets the space it needs for displaying the full header text. If all headers need more space than the available table width, horizontal scrolling will be enabled. If there is space left, columns with a long content will get more space until there is no more table space left.\n   * - **Grow**: Every column gets the space it needs for displaying its full header text and full content of all cells. If it requires more space than the table has, horizontal scrolling will be enabled.\n   *\n   */\n  scaleWidthMode?: TableScaleWidthMode;\n  /**\n   * Defines the columns order by their `accessor` or `id`.\n   */\n  columnOrder?: string[];\n  /**\n   * Defines whether infinite scroll is active.\n   */\n  infiniteScroll?: boolean;\n  /**\n   * The `infiniteScrollThreshold` defines at how many remaining rows the `onLoadMore` event should be fired.\n   *\n   * Example: Your initial dataset consists of 50 entries and you want to load more data when the user scrolled to the 40th row. Then you should set the `infiniteScrollThreshold` to 10.\n   */\n  infiniteScrollThreshold?: number;\n\n  // events\n\n  /**\n   * This callback can be used to programmatically show an indicator for navigated rows. It has no effect if `withNavigationHighlight` is not set.\n   *\n   * __Must be memoized!__\n   */\n  markNavigatedRow?: (row?: Record<any, any>) => boolean;\n  /**\n   * Fired when the sorting of the rows changes.\n   */\n  onSort?: (e: CustomEvent<{ column: unknown; sortDirection: string }>) => void;\n  /**\n   * Fired when the grouping of the rows changes.\n   */\n  onGroup?: (e: CustomEvent<{ column: unknown; groupedColumns: string[] }>) => void;\n  /**\n   * Fired when a row is selected or unselected.\n   */\n  onRowSelected?: (e?: CustomEvent<{ allRowsSelected?: boolean; row?: unknown; isSelected?: boolean }>) => void;\n  /**\n   * Fired when a row is clicked\n   */\n  onRowClick?: (e?: CustomEvent<{ row?: unknown }>) => void;\n  /**\n   * Fired when a row is expanded or collapsed\n   */\n  onRowExpandChange?: (e?: CustomEvent<{ row: unknown; column: unknown }>) => void;\n  /**\n   * Fired when the columns order is changed.\n   */\n  onColumnsReordered?: (e?: CustomEvent<{ columnsNewOrder: string[]; column: unknown }>) => void;\n  /**\n   * Fired when the `infiniteScrollThreshold` is reached.\n   */\n  onLoadMore?: (e?: { detail: { rowCount: number } }) => void;\n  /**\n   * Additional options which will be passed to [react-table´s useTable hook](https://react-table.tanstack.com/docs/api/useTable#table-options)\n   */\n  reactTableOptions?: Record<string, unknown>;\n  /**\n   * You can use this prob to add custom hooks to the table.\n   */\n  tableHooks?: PluginHook<any>[];\n  /**\n   * Defines the key for nested rows.\n   *\n   * Default: \"children\"\n   */\n  subRowsKey?: string;\n  /**\n   * The key must consist of a valid `rowId` like `{ 2: true }` or `{ '0.2.0': true }` for nested rows.\n   */\n  selectedRowIds?: { [key: string]: boolean };\n  /**\n   * Defines whether the table should act as tree-table.\n   */\n  isTreeTable?: boolean;\n  /**\n   * The amount of columns to load both behind and ahead of the current window range.\n   */\n  overscanCountHorizontal?: number;\n  /**\n   * The amount of rows to load both behind and ahead of the current window range.\n   */\n  overscanCount?: number;\n  /**\n   * Defines the subcomponent that should be displayed below each row.\n   */\n  renderRowSubComponent?: (row?: any) => ReactNode;\n\n  // default components\n  /**\n   * Component that will be rendered when the table is not loading and has no data.\n   */\n  NoDataComponent?: ComponentType<any>;\n  /**\n   * Component that will be rendered when the table is loading and has no data.\n   */\n  LoadingComponent?: ComponentType<any>;\n}\n\nconst useStyles = createUseStyles(styles, { name: 'AnalyticalTable' });\n/**\n * The `AnalyticalTable` provides a set of convenient functions for responsive table design, including virtualization of rows and columns, infinite scrolling and customizable columns that will, unless otherwise defined, distribute the available space equally among themselves.\n * It also provides several possibilities for working with the data, including sorting, filtering, grouping and aggregation.\n */\nconst AnalyticalTable: FC<TableProps> = forwardRef((props: TableProps, ref: Ref<HTMLDivElement>) => {\n  const {\n    columns,\n    className,\n    style,\n    tooltip,\n    title,\n    loading,\n    groupBy,\n    selectionMode,\n    selectionBehavior,\n    onRowSelected,\n    onRowClick,\n    onSort,\n    reactTableOptions,\n    tableHooks,\n    subRowsKey,\n    onGroup,\n    rowHeight,\n    selectedRowIds,\n    LoadingComponent,\n    onRowExpandChange,\n    noDataText,\n    NoDataComponent,\n    visibleRows,\n    visibleRowCountMode,\n    minRows,\n    isTreeTable,\n    alternateRowColor,\n    overscanCount,\n    overscanCountHorizontal,\n    scaleWidthMode,\n    withRowHighlight,\n    highlightField,\n    withNavigationHighlight,\n    markNavigatedRow,\n    groupable,\n    sortable,\n    filterable,\n    infiniteScroll,\n    infiniteScrollThreshold,\n    onLoadMore,\n    extension,\n    columnOrder,\n    renderRowSubComponent\n  } = props;\n\n  const classes = useStyles();\n\n  const [analyticalTableRef, reactWindowRef] = useTableScrollHandles(ref);\n  const tableRef: RefObject<DivWithCustomScrollProp> = useRef();\n\n  const isRtl = useIsRTL(analyticalTableRef);\n\n  const getSubRows = useCallback((row) => row[subRowsKey] || [], [subRowsKey]);\n\n  const data = useMemo(() => {\n    if (minRows > props.data.length) {\n      const missingRows: number = minRows - props.data.length;\n      const emptyRows = Array.from({ length: missingRows }, (v, i) => i).map(() => ({ emptyRow: true }));\n\n      return [...props.data, ...emptyRows];\n    }\n    return props.data;\n  }, [props.data, minRows]);\n\n  const {\n    getTableProps,\n    headerGroups,\n    rows,\n    prepareRow,\n    state: tableState,\n    columns: tableInternalColumns,\n    setColumnOrder,\n    dispatch,\n    totalColumnsWidth,\n    visibleColumns,\n    visibleColumnsWidth,\n    setGroupBy\n  } = useTable(\n    {\n      columns,\n      data,\n      defaultColumn: DefaultColumn,\n      orderByFn,\n      getSubRows,\n      stateReducer,\n      disableFilters: !filterable,\n      disableSortBy: !sortable,\n      disableGroupBy: isTreeTable || renderRowSubComponent ? true : !groupable,\n      selectSubRows: false,\n      webComponentsReactProperties: {\n        tableRef,\n        selectionMode,\n        selectionBehavior,\n        classes,\n        onRowSelected,\n        onRowClick,\n        onRowExpandChange,\n        isTreeTable,\n        alternateRowColor,\n        scaleWidthMode,\n        loading,\n        withRowHighlight,\n        highlightField,\n        withNavigationHighlight,\n        markNavigatedRow,\n        renderRowSubComponent\n      },\n      ...reactTableOptions\n    },\n    useFilters,\n    useColumnOrder,\n    useGroupBy,\n    useSortBy,\n    useExpanded,\n    useRowSelect,\n    useResizeColumns,\n    useRowSelectionColumn,\n    useSingleRowStateSelection,\n    useRowHighlight,\n    useRowNavigationIndicators,\n    useDynamicColumnWidths,\n    useStyling,\n    useToggleRowExpand,\n    usePopIn,\n    useVisibleColumnsWidth,\n    ...tableHooks\n  );\n\n  const titleBarRef = useRef(null);\n  const extensionRef = useRef(null);\n  const headerRef = useRef(null);\n\n  const extensionsHeight =\n    (titleBarRef.current?.offsetHeight ?? 0) +\n    (extensionRef.current?.offsetHeight ?? 0) +\n    (headerRef.current?.offsetHeight ?? 0);\n\n  const calcRowHeight = parseInt(\n    getComputedStyle(tableRef.current ?? document.body).getPropertyValue('--sapWcrAnalyticalTableRowHeight') || '44'\n  );\n  const internalRowHeight = rowHeight ?? calcRowHeight;\n  const popInRowHeight =\n    tableState?.popInColumns?.length > 0\n      ? internalRowHeight + tableState.popInColumns.length * (internalRowHeight + 16)\n      : internalRowHeight;\n\n  const internalVisibleRowCount = tableState.visibleRows ?? visibleRows;\n\n  const updateTableClientWidth = useCallback(() => {\n    if (tableRef.current) {\n      dispatch({ type: 'TABLE_RESIZE', payload: { tableClientWidth: tableRef.current.clientWidth } });\n    }\n  }, [tableRef.current]);\n\n  const updateRowsCount = useCallback(() => {\n    if (visibleRowCountMode === TableVisibleRowCountMode.AUTO && analyticalTableRef.current?.parentElement) {\n      const rowCount = Math.floor(\n        ((analyticalTableRef.current?.parentElement?.clientHeight ?? 0) - extensionsHeight) / popInRowHeight\n      );\n      dispatch({\n        type: 'VISIBLE_ROWS',\n        payload: { visibleRows: rowCount }\n      });\n    }\n  }, [analyticalTableRef.current?.parentElement?.clientHeight, extensionsHeight, popInRowHeight, visibleRowCountMode]);\n\n  useEffect(() => {\n    const tableWidthObserver = new ResizeObserver(debounce(updateTableClientWidth, 500));\n    tableWidthObserver.observe(tableRef.current);\n\n    const parentHeightObserver = new ResizeObserver(debounce(updateRowsCount, 500));\n    parentHeightObserver.observe(analyticalTableRef.current?.parentElement);\n    return () => {\n      tableWidthObserver.disconnect();\n      parentHeightObserver.disconnect();\n    };\n  }, [updateTableClientWidth, updateRowsCount]);\n\n  useIsomorphicLayoutEffect(() => {\n    dispatch({ type: 'IS_RTL', payload: { isRtl } });\n  }, [isRtl]);\n\n  useIsomorphicLayoutEffect(() => {\n    updateTableClientWidth();\n  }, [updateTableClientWidth]);\n\n  useIsomorphicLayoutEffect(() => {\n    updateRowsCount();\n  }, [updateRowsCount]);\n\n  useEffect(() => {\n    if (tableState.visibleRows !== undefined && visibleRowCountMode === TableVisibleRowCountMode.FIXED) {\n      dispatch({\n        type: 'VISIBLE_ROWS',\n        payload: { visibleRows: undefined }\n      });\n    }\n  }, [visibleRowCountMode, tableState.visibleRows]);\n\n  useEffect(() => {\n    setGroupBy(groupBy);\n  }, [groupBy, setGroupBy]);\n\n  useEffect(() => {\n    dispatch({ type: 'SET_SELECTED_ROW_IDS', payload: { selectedRowIds } });\n  }, [selectedRowIds]);\n\n  useEffect(() => {\n    if (tableState?.interactiveRowsHavePopIn && (!tableState?.popInColumns || tableState?.popInColumns?.length === 0)) {\n      dispatch({ type: 'WITH_POPIN', payload: false });\n    }\n  }, [tableState?.interactiveRowsHavePopIn, tableState?.popInColumns?.length]);\n\n  const tableBodyHeight = useMemo(() => {\n    const rowNum = rows.length < internalVisibleRowCount ? Math.max(rows.length, minRows) : internalVisibleRowCount;\n    const rowHeight =\n      visibleRowCountMode === TableVisibleRowCountMode.AUTO || tableState?.interactiveRowsHavePopIn\n        ? popInRowHeight\n        : internalRowHeight;\n    return rowHeight * rowNum;\n  }, [\n    internalRowHeight,\n    rows.length,\n    internalVisibleRowCount,\n    minRows,\n    popInRowHeight,\n    visibleRowCountMode,\n    tableState?.interactiveRowsHavePopIn\n  ]);\n\n  // scroll bar detection\n  useEffect(() => {\n    const visibleRowCount =\n      rows.length < internalVisibleRowCount ? Math.max(rows.length, minRows) : internalVisibleRowCount;\n    if (popInRowHeight !== internalRowHeight) {\n      dispatch({\n        type: 'TABLE_SCROLLING_ENABLED',\n        payload: { isScrollable: visibleRowCount * popInRowHeight > tableBodyHeight || rows.length > visibleRowCount }\n      });\n    } else {\n      dispatch({ type: 'TABLE_SCROLLING_ENABLED', payload: { isScrollable: rows.length > visibleRowCount } });\n    }\n  }, [rows.length, minRows, internalVisibleRowCount, popInRowHeight, tableBodyHeight]);\n\n  const noDataStyles = useMemo(() => {\n    return {\n      height: `${tableBodyHeight}px`,\n      width: `${totalColumnsWidth}px`\n    };\n  }, [tableBodyHeight, totalColumnsWidth]);\n\n  const onGroupByChanged = useCallback(\n    (e) => {\n      const { column, isGrouped } = e.detail;\n      let groupedColumns = [];\n      if (isGrouped) {\n        groupedColumns = [...tableState.groupBy, column.id];\n      } else {\n        groupedColumns = tableState.groupBy.filter((group) => group !== column.id);\n      }\n      setGroupBy(groupedColumns);\n      onGroup(\n        enrichEventWithDetails(e, {\n          column,\n          groupedColumns\n        })\n      );\n    },\n    [tableState.groupBy, onGroup, setGroupBy]\n  );\n\n  useEffect(() => {\n    if (columnOrder?.length > 0) {\n      setColumnOrder(columnOrder);\n    }\n  }, [columnOrder]);\n\n  const [dragOver, handleDragEnter, handleDragStart, handleDragOver, handleOnDrop, handleOnDragEnd] = useDragAndDrop(\n    props,\n    isRtl,\n    setColumnOrder,\n    tableState.columnOrder,\n    tableState.columnResizing,\n    tableInternalColumns\n  );\n\n  const passThroughProps = usePassThroughHtmlProps(props, [\n    'onSort',\n    'onGroup',\n    'onRowSelected',\n    'onRowClick',\n    'onRowExpandChange',\n    'onColumnsReordered',\n    'onLoadMore'\n  ]);\n\n  const inlineStyle = useMemo(() => {\n    const tableStyles = {\n      maxWidth: '100%',\n      overflowX: 'auto',\n      display: 'flex',\n      flexDirection: 'column'\n    };\n    if (!!rowHeight) {\n      tableStyles['--sapWcrAnalyticalTableRowHeight'] = `${rowHeight}px`;\n    }\n\n    if (tableState.tableClientWidth > 0) {\n      const styles = {\n        ...tableStyles,\n        ...style\n      } as CSSProperties;\n\n      if (totalColumnsWidth < tableState.tableClientWidth) {\n        return { ...styles, borderBottom: `1px solid ${ThemingParameters.sapList_BorderColor}` };\n      }\n      return styles;\n    }\n    return {\n      ...tableStyles,\n      ...style,\n      visibility: 'hidden'\n    } as CSSProperties;\n  }, [tableState.tableClientWidth, style, rowHeight, totalColumnsWidth]);\n\n  const parentRef: RefObject<DivWithCustomScrollProp> = useRef(null);\n\n  const verticalScrollBarRef: RefObject<DivWithCustomScrollProp> = useRef(null);\n\n  const handleBodyScroll = () => {\n    if (verticalScrollBarRef.current && verticalScrollBarRef.current.scrollTop !== parentRef.current.scrollTop) {\n      if (!parentRef.current.isExternalVerticalScroll) {\n        verticalScrollBarRef.current.scrollTop = parentRef.current.scrollTop;\n        verticalScrollBarRef.current.isExternalVerticalScroll = true;\n      }\n      parentRef.current.isExternalVerticalScroll = false;\n    }\n  };\n\n  const handleVerticalScrollBarScroll = () => {\n    if (!verticalScrollBarRef.current.isExternalVerticalScroll) {\n      parentRef.current.scrollTop = verticalScrollBarRef.current.scrollTop;\n      parentRef.current.isExternalVerticalScroll = true;\n    }\n    verticalScrollBarRef.current.isExternalVerticalScroll = false;\n  };\n\n  const tableClasses = StyleClassHelper.of(classes.table, GlobalStyleClasses.sapScrollBar);\n  if (withNavigationHighlight) {\n    tableClasses.put(classes.hasNavigationIndicator);\n  }\n  return (\n    <div className={className} style={inlineStyle} title={tooltip} ref={analyticalTableRef} {...passThroughProps}>\n      {title && <TitleBar ref={titleBarRef}>{title}</TitleBar>}\n      {extension && <div ref={extensionRef}>{extension}</div>}\n      <FlexBox>\n        <div\n          {...getTableProps()}\n          role=\"grid\"\n          aria-rowcount={rows.length}\n          aria-colcount={tableInternalColumns.length}\n          data-per-page={internalVisibleRowCount}\n          ref={tableRef}\n          className={tableClasses.className}\n        >\n          <div className={classes.tableHeaderBackgroundElement} />\n          {headerGroups.map((headerGroup) => {\n            let headerProps: Record<string, unknown> = {};\n            if (headerGroup.getHeaderGroupProps) {\n              headerProps = headerGroup.getHeaderGroupProps();\n            }\n\n            return (\n              tableRef.current && (\n                <ColumnHeaderContainer\n                  ref={headerRef}\n                  key={headerProps.key as string}\n                  reactWindowRef={reactWindowRef}\n                  tableRef={tableRef}\n                  resizeInfo={tableState.columnResizing}\n                  visibleColumnsWidth={visibleColumnsWidth}\n                  headerProps={headerProps}\n                  headerGroup={headerGroup}\n                  overscanCountHorizontal={overscanCountHorizontal}\n                  onSort={onSort}\n                  onGroupByChanged={onGroupByChanged}\n                  onDragStart={handleDragStart}\n                  onDragOver={handleDragOver}\n                  onDrop={handleOnDrop}\n                  onDragEnter={handleDragEnter}\n                  onDragEnd={handleOnDragEnd}\n                  dragOver={dragOver}\n                  isRtl={isRtl}\n                />\n              )\n            );\n          })}\n          {loading && props.data?.length > 0 && <LoadingComponent style={{ width: `${totalColumnsWidth}px` }} />}\n          {loading && props.data?.length === 0 && (\n            <TablePlaceholder\n              isRtl={isRtl}\n              columns={tableInternalColumns.filter(\n                (col) => (col.isVisible ?? true) && !tableState.hiddenColumns.includes(col.accessor)\n              )}\n              rows={props.minRows}\n              style={noDataStyles}\n              rowHeight={internalRowHeight}\n              tableWidth={totalColumnsWidth}\n            />\n          )}\n          {!loading && props.data?.length === 0 && (\n            <NoDataComponent noDataText={noDataText} className={classes.noDataContainer} style={noDataStyles} />\n          )}\n          {props.data?.length > 0 && tableRef.current && (\n            <VirtualTableBodyContainer\n              tableBodyHeight={tableBodyHeight}\n              totalColumnsWidth={totalColumnsWidth}\n              parentRef={parentRef}\n              classes={classes}\n              infiniteScroll={infiniteScroll}\n              infiniteScrollThreshold={infiniteScrollThreshold}\n              onLoadMore={onLoadMore}\n              internalRowHeight={internalRowHeight}\n              popInRowHeight={popInRowHeight}\n              rows={rows}\n              handleExternalScroll={handleBodyScroll}\n              visibleRows={internalVisibleRowCount}\n            >\n              <VirtualTableBody\n                classes={classes}\n                prepareRow={prepareRow}\n                rows={rows}\n                minRows={minRows}\n                reactWindowRef={reactWindowRef}\n                isTreeTable={isTreeTable}\n                internalRowHeight={internalRowHeight}\n                popInRowHeight={popInRowHeight}\n                visibleRows={internalVisibleRowCount}\n                alternateRowColor={alternateRowColor}\n                overscanCount={overscanCount}\n                tableRef={tableRef}\n                parentRef={parentRef}\n                visibleColumns={visibleColumns}\n                visibleColumnsWidth={visibleColumnsWidth}\n                overscanCountHorizontal={overscanCountHorizontal}\n                renderRowSubComponent={renderRowSubComponent}\n                markNavigatedRow={markNavigatedRow}\n                isRtl={isRtl}\n              />\n            </VirtualTableBodyContainer>\n          )}\n        </div>\n        {(tableState.isScrollable === undefined || tableState.isScrollable) && (\n          <VerticalScrollbar\n            internalRowHeight={internalRowHeight}\n            popInRowHeight={popInRowHeight}\n            tableRef={tableRef}\n            minRows={minRows}\n            rows={rows}\n            handleVerticalScrollBarScroll={handleVerticalScrollBarScroll}\n            ref={verticalScrollBarRef}\n          />\n        )}\n      </FlexBox>\n      {visibleRowCountMode === TableVisibleRowCountMode.INTERACTIVE && (\n        <VerticalResizer\n          popInRowHeight={popInRowHeight}\n          hasPopInColumns={tableState?.popInColumns?.length > 0}\n          analyticalTableRef={analyticalTableRef}\n          dispatch={dispatch}\n          extensionsHeight={extensionsHeight}\n          internalRowHeight={internalRowHeight}\n        />\n      )}\n    </div>\n  );\n});\n\nAnalyticalTable.displayName = 'AnalyticalTable';\nAnalyticalTable.defaultProps = {\n  infiniteScrollThreshold: 20,\n  loading: false,\n  sortable: true,\n  filterable: false,\n  groupable: false,\n  selectionMode: TableSelectionMode.NONE,\n  selectionBehavior: TableSelectionBehavior.ROW,\n  scaleWidthMode: TableScaleWidthMode.Default,\n  data: [],\n  columns: [],\n  title: null,\n  minRows: 5,\n  groupBy: [],\n  NoDataComponent: DefaultNoDataComponent,\n  LoadingComponent: DefaultLoadingComponent,\n  noDataText: 'No Data',\n  reactTableOptions: {},\n  tableHooks: [],\n  visibleRows: 15,\n  subRowsKey: 'subRows',\n  highlightField: 'status',\n  markNavigatedRow: () => false,\n  selectedRowIds: {},\n  onGroup: () => {},\n  onRowExpandChange: () => {},\n  onColumnsReordered: () => {},\n  isTreeTable: false,\n  alternateRowColor: false,\n  overscanCountHorizontal: 5,\n  visibleRowCountMode: TableVisibleRowCountMode.FIXED\n};\n\nexport { AnalyticalTable };\n"],"names":["styles","table","position","width","maxWidth","overflowY","overflowX","height","minHeight","fontFamily","ThemingParameters","sapFontFamily","fontSize","sapFontSize","fontWeight","backgroundColor","sapList_Background","tableHeaderRow","CssSizeVariables","sapWcrAnalyticalTableRowHeight","display","borderLeft","sapList_BorderColor","hasNavigationIndicator","borderRight","tableHeaderBackgroundElement","boxSizing","left","right","sapList_HeaderBackground","borderTop","borderBottom","th","color","sapList_HeaderTextColor","padding","textAlign","transform","tbody","scrollBarWidth","alternateRowColor","sapList_AlternatingBackground","tr","top","sapList_TextColor","willChange","sapList_Hover_Background","sapList_SelectionBorderColor","sapList_SelectionBackgroundColor","sapList_Hover_SelectionBackground","trActive","cursor","sapList_Active_Background","sapList_Active_TextColor","tableGroupHeader","sapList_TableGroupHeaderBackground","border","sapList_TableGroupHeaderBorderColor","tableCell","overflow","textOverflow","whiteSpace","alignItems","outlineOffset","outline","sapContent_FocusColor","noDataContainer","justifyContent","valueStateSuccess","sapSuccessColor","valueStateError","sapErrorColor","valueStateWarning","sapWarningColor","valueStateInformation","sapInformationColor","stopPropagation","e","stopImmediatePropagation","popover","filter","filterIcon","paddingRight","minWidth","useStyles","createUseStyles","name","ColumnHeaderModal","props","column","onSort","onGroupBy","open","setPopoverOpen","targetRef","classes","showFilter","canFilter","showGroup","canGroupBy","showSort","canSort","ref","useRef","Filter","i18nBundle","useI18nBundle","clearSortingText","getText","CLEAR_SORTING","sortAscendingText","SORT_ASCENDING","sortDescendingText","SORT_DESCENDING","groupText","GROUP","ungroupText","UNGROUP","handleSort","useCallback","sortType","detail","item","getAttribute","toggleSortBy","enrichEventWithDetails","sortDirection","clearSortBy","willGroup","isGrouped","toggleGroupBy","current","close","isSortedAscending","isSorted","isSortedDesc","isSortedDescending","useEffect","popoverInstance","openBy","onAfterClose","createPortal","PopoverHorizontalAlign","Left","PlacementType","Bottom","ListItemTypes","Active","FlexBoxAlignItems","Center","document","body","displayName","header","background","text","iconContainer","sapContent_IconColor","ColumnHeader","id","children","className","style","onDragEnter","onDragOver","onDragStart","onDrop","onDragEnd","headerTooltip","isDraggable","dragOver","role","virtualColumn","isRtl","isFiltered","filterValue","length","useState","popoverOpen","tooltip","useMemo","textStyle","margin","marginLeft","marginRight","hasPopover","onOpenPopover","directionStyles","start","iconContainerDirectionStyles","size","sapSelectedColor","undefined","hAlign","resizer","bottom","zIndex","sapContent_DragAndDropActiveColor","ColumnHeaderContainer","forwardRef","headerProps","headerGroup","onGroupByChanged","tableRef","visibleColumnsWidth","overscanCountHorizontal","resizeInfo","reactWindowRef","columnVirtualizer","useVirtual","parentRef","estimateSize","index","horizontal","overscan","horizontalScrollToOffset","scrollToOffset","horizontalScrollToIndex","scrollToIndex","totalSize","virtualItems","map","headers","isLastColumn","disableResizing","resizerDirectionStyle","totalFlexWidth","totalLeft","getHeaderProps","key","rest","canResize","getResizerProps","canReorder","isResizingColumn","render","DefaultFilterComponent","handleChange","setFilter","target","value","Cell","cell","row","cellContent","subRows","tableGroupExpandCollapseIcon","isBrowserIe","isIE","getPadding","level","sapWcrAnalyticalTableTreePaddingLevel1","sapWcrAnalyticalTableTreePaddingLevel2","sapWcrAnalyticalTableTreePaddingLevel3","Expandable","columns","webComponentsReactProperties","tableColumns","columnIndex","findIndex","col","paddingLeft","canExpand","depth","rowProps","getToggleRowExpandedProps","renderRowSubComponent","onClick","title","isExpanded","Grouped","TextAlign","Begin","PopInStyles","container","defaultCell","sapFontBoldFamily","PopIn","instance","state","contentToRender","internalRowHeight","FlexBoxDirection","Column","Start","FlexBoxWrap","NoWrap","popInColumns","popInInstanceProps","allCells","find","renderHeader","PopInHeader","Header","makeRenderer","renderCell","isPopIn","RepeatedValue","DEFAULT_COLUMN_WIDTH","defaultFilterMethod","RegExp","test","String","DefaultColumn","vAlign","VerticalAlign","Middle","defaultFilter","loader","DefaultLoadingComponent","getArrayOfLength","len","Array","from","keys","TableRow","y","columnOffset","i","el","totalWidth","TablePlaceholder","rows","rowHeight","tableWidth","innerStyles","sapContent_ImagePlaceholderBackground","sapContent_ImagePlaceholderForegroundColor","sapContent_DisabledOpacity","_","defaultProps","DefaultNoDataComponent","noDataText","getColumnId","accessor","useDragAndDrop","setColumnOrder","columnOrder","onColumnsReordered","setDragOver","handleDragStart","preventDefault","dataTransfer","setData","currentTarget","dataset","columnId","handleDragOver","handleDragEnter","handleOnDrop","droppedColId","draggedColId","getData","internalColumnOrder","droppedColIdx","draggedColIdx","tempCols","targetIndex","splice","columnsNewOrder","tempColId","handleOnDragEnd","ROW_SAMPLE_SIZE","DEFAULT_HEADER_NUM_CHAR","MAX_WIDTH","approximateHeaderPxFromCharLength","charLength","Math","sqrt","approximateContentPxFromCharLength","columnsDeps","deps","visibleColumns","tableClientWidth","scaleWidthMode","loading","hiddenColumns","visCol","Boolean","calculateDefaultTableWidth","columnsWithWidthProperties","availableWidth","defaultColumnsCount","columnsWithFixedWidth","acceptedWidth","columnsWithMaxWidth","aggregatedColumnsMaxWidth","reduce","acc","cur","aggregatedColumnsMinWidth","fixedWidth","val","hasData","some","original","emptyRow","TableScaleWidthMode","Default","defaultWidth","rowSample","slice","columnMeta","minHeaderWidth","fullWidth","contentCharAvg","headerLength","contentMaxCharLength","max","dataPoint","values","totalCharNum","Object","reservedWidth","Grow","Smart","isColumnVisible","isVisible","includes","meta","additionalSpaceFactor","targetWidth","useDynamicColumnWidths","hooks","push","popInVisibleColumnsDeps","popInVisibleColumns","cols","dispatch","isScrollable","responsivePopIn","responsiveMinWidth","type","payload","hasOwnProperty","usePopIn","visibleColumnsDeps","baseStyles","StyleClassMap","Map","set","ValueState","None","Success","Warning","Error","Information","styleClass","get","withRowHighlight","highlightField","currentVisibleColumns","highlightColumn","currentColumns","disableFilters","disableSortBy","disableGroupBy","useRowHighlight","pluginName","isNavigatedCell","withNavigationHighlight","useRowNavigationIndicators","divStyle","customCheckBoxStyling","verticalAlign","getToggleAllRowsSelectedProps","flatRows","onRowSelected","selectionMode","toggleAllRowsSelected","onChange","allRowsSelected","checked","selectedFlatRows","TableSelectionMode","SINGLE_SELECT","selectionBehavior","handleCellClick","TableSelectionBehavior","ROW_SELECTOR","getRowProps","getToggleRowSelectedProps","columnDeps","NONE","ROW_ONLY","selectionColumn","tableSelectionColumnWidth","parseInt","getComputedStyle","getPropertyValue","CssSizeVariablesNames","sapWcrAnalyticalTableSelectionColumnWidth","selectionColumnWidth","isNaN","useRowSelectionColumn","tagNamesWhichShouldNotSelectARow","Set","toggleRowSelected","selectionCellClick","markerAllowTableRowSelection","nativeEvent","has","tagName","isEmptyRow","onRowClick","isSelected","MULTI_SELECT","prevRow","useSingleRowStateSelection","getHeaderGroupProps","headerGroupProps","columnProps","ROW_SELECTION_ATTRIBUTE","rowCanBeSelected","newRowProps","getCellProps","cellProps","End","Right","Top","tabIndex","useStyling","useTableScrollHandles","analyticalTableRef","useConsolidatedRef","assign","scrollTo","offset","align","scrollToItem","horizontalScrollTo","horizontalScrollToItem","onRowExpandChange","isTreeTable","persist","toggleRowExpanded","cells","groupByID","useToggleRowExpand","getVisibleColumnsWidth","useVisibleColumnsWidth","useInstance","headerSection","scrollbar","bottomSection","flexGrow","bottomSectionWithScrollbar","VerticalScrollbar","minRows","handleVerticalScrollBarScroll","popInRowHeight","hasHorizontalScrollbar","clientWidth","scrollWidth","horizontalScrollbarSectionStyles","StyleClassHelper","of","put","clientHeight","GlobalStyleClasses","sapScrollBar","valueOf","VirtualTableBody","prepareRow","visibleRows","overscanCount","markNavigatedRow","rowSubComponentsHeight","itemCount","floor","consolidatedParentRef","rowVirtualizer","React","currentlyFocusedCell","onTableFocus","firstCell","querySelector","focus","onKeyboardNavigation","newElement","nextElementSibling","previousElementSibling","nextRow","parentElement","currentColumnIndex","previousRow","popInColumn","virtualRow","setSubcomponentsRefs","offsetHeight","RowSubComponent","isAggregated","isPlaceholder","VirtualTableBodyContainer","tableBodyHeight","totalColumnsWidth","infiniteScroll","infiniteScrollThreshold","onLoadMore","handleExternalScroll","isMounted","setIsMounted","classNames","lastScrollTop","firedInfiniteLoadEvents","onScroll","event","scrollOffset","scrollTop","isScrollingDown","currentLastRow","rowCount","add","stateReducer","newState","action","actions","columnResizing","clientX","startX","columnWidth","headerIdWidths","deltaX","percentageDeltaX","newColumnWidths","forEach","headerId","headerWidth","columnWidths","selectedRowIds","interactiveRowsHavePopIn","TitleBar","isValidElement","orderByFn","functions","directions","wrapSortFn","sortFn","desc","rowA","rowB","wrappedSortfunctions","defaultOrderByFn","verticalResizerStyles","sapHighlightTextColor","content","lineHeight","pointerEvents","opacity","isTouchEvent","touchEvent","touches","VerticalResizer","extensionsHeight","hasPopInColumns","startY","verticalResizerRef","resizerPosition","setResizerPosition","isDragging","setIsDragging","mountTouchEvents","setMountTouchEvents","handleResizeStart","round","pageY","handleMove","prev","handleResizeEnd","changedTouches","removeEventListeners","removeEventListener","addEventListener","resizerPosTop","getBoundingClientRect","window","scrollY","resizerPosLeft","scrollX","resizerPosWidth","DRAG_TO_RESIZE","AnalyticalTable","groupBy","reactTableOptions","tableHooks","subRowsKey","onGroup","LoadingComponent","NoDataComponent","visibleRowCountMode","groupable","sortable","filterable","extension","useIsRTL","getSubRows","data","missingRows","emptyRows","v","useTable","defaultColumn","selectSubRows","useFilters","useColumnOrder","useGroupBy","useSortBy","useExpanded","useRowSelect","useResizeColumns","getTableProps","headerGroups","tableState","tableInternalColumns","setGroupBy","titleBarRef","extensionRef","headerRef","calcRowHeight","internalVisibleRowCount","updateTableClientWidth","updateRowsCount","TableVisibleRowCountMode","AUTO","tableWidthObserver","ResizeObserver","debounce","observe","parentHeightObserver","disconnect","useIsomorphicLayoutEffect","FIXED","rowNum","visibleRowCount","noDataStyles","groupedColumns","group","passThroughProps","usePassThroughHtmlProps","inlineStyle","tableStyles","flexDirection","visibility","verticalScrollBarRef","handleBodyScroll","isExternalVerticalScroll","tableClasses","INTERACTIVE","ROW"],"mappings":"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"}