{"version":3,"file":"ThemeProvider.js","sources":["../src/components/ThemeProvider/GlobalStyleClasses.jss.ts","../src/components/ThemeProvider/index.tsx"],"sourcesContent":["import { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\nimport { GlobalStyleClasses } from '@ui5/webcomponents-react/lib/GlobalStyleClasses';\n\nexport const GlobalStyleClassesStyles = {\n  '@global': {\n    [`.${GlobalStyleClasses.sapScrollBar}`]: {\n      '&::-webkit-scrollbar': {\n        backgroundColor: ThemingParameters.sapScrollBar_TrackColor,\n        '&:horizontal': {\n          height: ThemingParameters.sapScrollBar_Dimension\n        },\n        '&:vertical': {\n          width: ThemingParameters.sapScrollBar_Dimension\n        }\n      },\n      '&::-webkit-scrollbar-thumb': {\n        backgroundColor: ThemingParameters.sapScrollBar_FaceColor,\n        borderRadius: '0.25rem',\n        '&:hover': {\n          backgroundColor: ThemingParameters.sapScrollBar_Hover_FaceColor\n        },\n        '&:horizontal': {\n          height: ThemingParameters.sapScrollBar_Dimension\n        },\n        '&:vertical': {\n          width: ThemingParameters.sapScrollBar_Dimension\n        }\n      },\n      '&::-webkit-scrollbar-corner': {\n        backgroundColor: ThemingParameters.sapScrollBar_TrackColor\n      }\n    }\n  }\n};\n","import { getRTL } from '@ui5/webcomponents-base/dist/config/RTL';\nimport { getTheme } from '@ui5/webcomponents-base/dist/config/Theme';\nimport { fetchI18nBundle } from '@ui5/webcomponents-base/dist/i18nBundle';\nimport { createUseStyles } from 'react-jss';\nimport { cssVariablesStyles } from '@ui5/webcomponents-react-base/lib/CssSizeVariables';\nimport { initRangeSet, RANGESETS } from '@ui5/webcomponents-react-base/lib/Device';\nimport { useIsomorphicLayoutEffect } from '@ui5/webcomponents-react-base/lib/hooks';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\nimport { ContentDensity } from '@ui5/webcomponents-react/lib/ContentDensity';\nimport React, { FC, ReactNode, useEffect, useMemo } from 'react';\nimport { ThemeProvider as ReactJssThemeProvider } from 'react-jss';\nimport { JSSTheme } from '../../interfaces/JSSTheme';\nimport { GlobalStyleClassesStyles } from './GlobalStyleClasses.jss';\n\nconst useStyles = createUseStyles(GlobalStyleClassesStyles);\n\nconst cssVarsPonyfillNeeded = () => !!window.CSSVarsPonyfill;\n\nexport interface ThemeProviderProps {\n  children: ReactNode;\n}\n\n// inject the size variables first before the ThemeProvider Component is mounted, otherwise there will be some flickering\nif (!document.querySelector('style[data-ui5-webcomponents-react-sizes]')) {\n  const variables = document.createElement('style');\n  variables.setAttribute('data-ui5-webcomponents-react-sizes', '');\n  variables.innerHTML = cssVariablesStyles;\n  document.head.appendChild(variables);\n}\n\nconst ThemeProvider: FC<ThemeProviderProps> = (props: ThemeProviderProps) => {\n  const { children } = props;\n  const isCompactSize = document.body.classList.contains('ui5-content-density-compact');\n  useStyles();\n\n  const theme = getTheme();\n\n  const themeContext: JSSTheme = useMemo(() => {\n    return {\n      theme,\n      contentDensity: isCompactSize ? ContentDensity.Compact : ContentDensity.Cozy,\n      parameters: ThemingParameters,\n      rtl: getRTL()\n    };\n  }, [theme, isCompactSize]);\n\n  useEffect(() => {\n    if (cssVarsPonyfillNeeded()) {\n      window.CSSVarsPonyfill.cssVars({\n        rootElement: document.head,\n        include: 'style[data-ui5-webcomponents-react-sizes],style[data-jss]',\n        watch: true,\n        silent: true\n      });\n    }\n  }, []);\n\n  // init default media range sets\n  useIsomorphicLayoutEffect(() => {\n    initRangeSet();\n    initRangeSet(RANGESETS.SAP_STANDARD_EXTENDED);\n    fetchI18nBundle('@ui5/webcomponents-react');\n  }, []);\n\n  return <ReactJssThemeProvider theme={themeContext}>{children}</ReactJssThemeProvider>;\n};\n\nThemeProvider.displayName = 'ThemeProvider';\n\nexport { ThemeProvider };\n"],"names":["GlobalStyleClassesStyles","GlobalStyleClasses","sapScrollBar","backgroundColor","ThemingParameters","sapScrollBar_TrackColor","height","sapScrollBar_Dimension","width","sapScrollBar_FaceColor","borderRadius","sapScrollBar_Hover_FaceColor","useStyles","createUseStyles","cssVarsPonyfillNeeded","window","CSSVarsPonyfill","document","querySelector","variables","createElement","setAttribute","innerHTML","cssVariablesStyles","head","appendChild","ThemeProvider","props","children","isCompactSize","body","classList","contains","theme","getTheme","themeContext","useMemo","contentDensity","ContentDensity","Compact","Cozy","parameters","rtl","getRTL","useEffect","cssVars","rootElement","include","watch","silent","useIsomorphicLayoutEffect","initRangeSet","RANGESETS","SAP_STANDARD_EXTENDED","fetchI18nBundle","ReactJssThemeProvider","displayName"],"mappings":"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"}