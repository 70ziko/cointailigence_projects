{"ast":null,"code":"import _extends from '@babel/runtime/helpers/extends';\nimport _slicedToArray from '@babel/runtime/helpers/slicedToArray';\nimport { isIE } from '@ui5/webcomponents-react-base/lib/Device';\nimport { createUseStyles } from 'react-jss';\nimport { StyleClassHelper } from '@ui5/webcomponents-react-base/lib/StyleClassHelper';\nimport { useConsolidatedRef } from '@ui5/webcomponents-react-base/lib/useConsolidatedRef';\nimport { usePassThroughHtmlProps } from '@ui5/webcomponents-react-base/lib/usePassThroughHtmlProps';\nimport { enrichEventWithDetails, getScrollBarWidth } from '@ui5/webcomponents-react-base/lib/Utils';\nimport { FlexBox } from '@ui5/webcomponents-react/lib/FlexBox';\nimport { FlexBoxAlignItems } from '@ui5/webcomponents-react/lib/FlexBoxAlignItems';\nimport { FlexBoxDirection } from '@ui5/webcomponents-react/lib/FlexBoxDirection';\nimport { GlobalStyleClasses } from '@ui5/webcomponents-react/lib/GlobalStyleClasses';\nimport { Label } from '@ui5/webcomponents-react/lib/Label';\nimport { ObjectPageMode } from '@ui5/webcomponents-react/lib/ObjectPageMode';\nimport { Title } from '@ui5/webcomponents-react/lib/Title';\nimport { TitleLevel } from '@ui5/webcomponents-react/lib/TitleLevel';\nimport { Toolbar } from '@ui5/webcomponents-react/lib/Toolbar';\nimport { ToolbarDesign } from '@ui5/webcomponents-react/lib/ToolbarDesign';\nimport { ToolbarSpacer } from '@ui5/webcomponents-react/lib/ToolbarSpacer';\nimport { ToolbarStyle } from '@ui5/webcomponents-react/lib/ToolbarStyle';\nimport debounce from 'lodash/debounce';\nimport React, { useState, useRef, useMemo, useEffect, Children, forwardRef, useCallback } from 'react';\nimport { AvatarSize } from '@ui5/webcomponents-react/lib/AvatarSize';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\nimport _objectSpread from '@babel/runtime/helpers/objectSpread2';\nimport { addCustomCSS } from '@ui5/webcomponents-base/dist/Theming';\nimport '@ui5/webcomponents-icons/dist/pushpin-off';\nimport '@ui5/webcomponents-icons/dist/slim-arrow-down';\nimport '@ui5/webcomponents-icons/dist/slim-arrow-up';\nimport { Button } from '@ui5/webcomponents-react/lib/Button';\nimport { List } from '@ui5/webcomponents-react/lib/List';\nimport { PlacementType } from '@ui5/webcomponents-react/lib/PlacementType';\nimport { Popover } from '@ui5/webcomponents-react/lib/Popover';\nimport { TabContainer } from '@ui5/webcomponents-react/lib/TabContainer';\nimport { ToggleButton } from '@ui5/webcomponents-react/lib/ToggleButton';\nimport { ListItemTypes } from '@ui5/webcomponents-react/lib/ListItemTypes';\nimport { ValueState } from '@ui5/webcomponents-react/lib/ValueState';\nimport { withWebComponent } from '@ui5/webcomponents-react/lib/withWebComponent';\nimport '@ui5/webcomponents/dist/StandardListItem';\nimport { Tab } from '@ui5/webcomponents-react/lib/Tab';\nimport { createPortal } from 'react-dom';\nimport { useI18nBundle } from '@ui5/webcomponents-react-base/lib/hooks';\nimport { EXPAND_HEADER, COLLAPSE_HEADER, UNPIN_HEADER, PIN_HEADER } from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\nimport _toArray from '@babel/runtime/helpers/toArray';\nvar styles = {\n  base: {\n    margin: 'var(--_ui5wcr_ObjectPage_avatar_margin)',\n    // defined in ObjectPage JSS\n    opacity: 0\n  },\n  hidden: {\n    opacity: 0\n  },\n  visible: {\n    transition: 'opacity 0.5s',\n    opacity: 1\n  },\n  imageContainer: {\n    display: 'inline-block',\n    verticalAlign: 'middle',\n    maxHeight: '3rem',\n    width: '3rem',\n    maxWidth: '3rem'\n  },\n  image: {\n    width: '100%',\n    height: '100%'\n  }\n};\nvar useStyles = createUseStyles(styles, {\n  name: 'CollapsedAvatar'\n});\nvar CollapsedAvatar = function CollapsedAvatar(props) {\n  var image = props.image,\n    imageShapeCircle = props.imageShapeCircle;\n  var classes = useStyles();\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isMounted = _useState2[0],\n    setIsMounted = _useState2[1];\n  var domRef = useRef();\n  var avatarContent = useMemo(function () {\n    if (!image) return null;\n    if (typeof image === 'string') {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: classes.imageContainer,\n        style: {\n          borderRadius: imageShapeCircle ? '50%' : 0,\n          overflow: 'hidden'\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        className: classes.image,\n        src: image,\n        alt: \"Object Page Image\"\n      }));\n    } else {\n      var _image$props, _image$props2;\n      return /*#__PURE__*/React.cloneElement(image, {\n        size: AvatarSize.S,\n        // @ts-ignore\n        className: (_image$props = image.props) !== null && _image$props !== void 0 && _image$props.className ? \"\".concat(classes.imageContainer, \" \").concat((_image$props2 = image.props) === null || _image$props2 === void 0 ? void 0 : _image$props2.className) : classes.imageContainer\n      });\n    }\n  }, [image, imageShapeCircle]);\n  useEffect(function () {\n    setIsMounted(true);\n  }, []);\n  var containerClasses = StyleClassHelper.of(classes.base);\n  if (isMounted) {\n    containerClasses.put(classes.visible);\n  } else {\n    containerClasses.put(classes.hidden);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    ref: domRef,\n    className: containerClasses.valueOf()\n  }, avatarContent);\n};\nvar _objectPage, _globalHtml, _globalDirRtl;\nvar ObjectPageCssVariables = {\n  anchorFloat: '--_ui5wcr_ObjectPage_actions_float',\n  anchorLeft: '--_ui5wcr_ObjectPage_actions_left',\n  anchorRight: '--_ui5wcr_ObjectPage_actions_right',\n  avatarMargin: '--_ui5wcr_ObjectPage_avatar_margin',\n  lastSectionMargin: '--_ui5wcr_ObjectPage_last_section_margin_bottom'\n};\nvar styles$1 = {\n  objectPage: (_objectPage = {\n    width: '100%',\n    height: '100%',\n    maxHeight: '100vh',\n    position: 'relative',\n    whiteSpace: 'normal',\n    fontFamily: ThemingParameters.sapFontFamily,\n    backgroundColor: ThemingParameters.sapBackgroundColor,\n    overflowX: 'hidden',\n    overflowY: 'auto'\n  }, _defineProperty(_objectPage, ObjectPageCssVariables.lastSectionMargin, 0), _defineProperty(_objectPage, '& section[id*=\"ObjectPageSection-\"] > div[role=\"heading\"]', {\n    display: 'none'\n  }), _defineProperty(_objectPage, '& section[id*=\"ObjectPageSection-\"] ~ section[id*=\"ObjectPageSection-\"] > div[role=\"heading\"]', {\n    display: 'block'\n  }), _defineProperty(_objectPage, '& section[data-component-name=\"ObjectPageSection\"]:last-child', {\n    marginBottom: \"var(\".concat(ObjectPageCssVariables.lastSectionMargin, \")\")\n  }), _objectPage),\n  '@global html': (_globalHtml = {}, _defineProperty(_globalHtml, ObjectPageCssVariables.anchorFloat, 'right'), _defineProperty(_globalHtml, ObjectPageCssVariables.anchorRight, '1.25rem'), _defineProperty(_globalHtml, ObjectPageCssVariables.anchorLeft, 'unset'), _defineProperty(_globalHtml, ObjectPageCssVariables.avatarMargin, '0 1rem 0 0'), _globalHtml),\n  '@global [dir=\"rtl\"]': (_globalDirRtl = {}, _defineProperty(_globalDirRtl, ObjectPageCssVariables.anchorFloat, 'left'), _defineProperty(_globalDirRtl, ObjectPageCssVariables.anchorRight, 'unset'), _defineProperty(_globalDirRtl, ObjectPageCssVariables.anchorLeft, '1.25rem'), _defineProperty(_globalDirRtl, ObjectPageCssVariables.avatarMargin, '0 0 0 1rem'), _globalDirRtl),\n  iconTabBarMode: {\n    '& section[data-component-name=\"ObjectPageSection\"] > div[role=\"heading\"]': {\n      display: 'none'\n    }\n  },\n  noHeader: {\n    '& $header': {\n      display: 'none'\n    },\n    '& $contentHeader': {\n      display: 'none'\n    }\n  },\n  headerCollapsed: {\n    '& $contentHeader': {\n      display: 'none'\n    }\n  },\n  // header\n  header: {\n    flexShrink: 0,\n    backgroundColor: ThemingParameters.sapObjectHeader_Background,\n    position: 'sticky',\n    top: 0,\n    zIndex: 2\n  },\n  iEClass: {\n    position: 'fixed',\n    width: 'calc(100% - 18px)'\n  },\n  iEClassHeader: {\n    width: 'calc(100% - 18px - 2rem)'\n  },\n  iEBackgroundElement: {\n    position: 'fixed',\n    backgroundColor: ThemingParameters.sapObjectHeader_Background\n  },\n  contentHeader: {\n    backgroundColor: ThemingParameters.sapObjectHeader_Background,\n    position: 'sticky',\n    paddingBottom: '0.25rem',\n    maxHeight: '500px',\n    overflow: 'hidden',\n    paddingLeft: '2rem'\n  },\n  anchorBar: {\n    position: 'sticky',\n    zIndex: 2,\n    '--_ui5_tc_header_box_shadow': 'inset 0px -1px 0 0px rgba(0,0,0,0.15)'\n  },\n  titleBar: {\n    padding: '0.5rem 2rem',\n    display: 'block',\n    position: 'relative'\n  },\n  container: {\n    flex: '1 1 70%',\n    boxSizing: 'border-box'\n  },\n  title: {\n    padding: '0.3125rem 0 0 0'\n  },\n  subTitle: {\n    verticalAlign: 'baseline',\n    padding: '0 0 0.5rem 0.5rem'\n  },\n  actions: {\n    position: 'absolute',\n    top: '0',\n    paddingTop: '0.75rem',\n    zIndex: 1,\n    right: \"var(\".concat(ObjectPageCssVariables.anchorRight, \")\"),\n    left: \"var(\".concat(ObjectPageCssVariables.anchorLeft, \")\"),\n    display: 'inline-block',\n    \"float\": \"var(\".concat(ObjectPageCssVariables.anchorFloat, \")\"),\n    verticalAlign: 'top',\n    '& > *': {\n      marginLeft: '0.5rem',\n      padding: 0\n    }\n  },\n  titleInHeaderContent: {\n    '& $subTitle': {\n      padding: '0.5rem 0'\n    },\n    '& $keyInfos': {\n      alignSelf: 'unset'\n    },\n    '& contentHeader': {\n      paddingTop: 0,\n      '& > *': {\n        display: 'flex',\n        verticalAlign: 'top',\n        '&:not(:first-child)': {\n          marginRight: '2rem',\n          marginBottom: '1rem'\n        }\n      }\n    }\n  },\n  headerCustomContent: {\n    display: 'inline-block',\n    verticalAlign: 'top',\n    '& > *': {\n      \"float\": 'left',\n      marginRight: '2rem',\n      marginBottom: '1rem',\n      lineHeight: '1.5rem'\n    },\n    '&:after': {\n      clear: 'both'\n    }\n  },\n  headerCustomContentItem: {\n    marginLeft: '1rem'\n  },\n  headerImage: {\n    minWidth: '5rem',\n    maxWidth: '5rem',\n    maxHeight: '5rem',\n    display: 'inline-block',\n    marginRight: '2rem',\n    marginBottom: '1rem'\n  },\n  image: {\n    width: '100%',\n    height: '100%'\n  },\n  keyInfos: {\n    '& > *': {\n      marginLeft: '1rem'\n    },\n    display: 'flex',\n    flexDirection: 'row',\n    alignSelf: 'center'\n  },\n  avatar: {\n    margin: \"var(\".concat(ObjectPageCssVariables.avatarMargin, \")\")\n  }\n};\nvar stopPropagation = function stopPropagation(e) {\n  e.stopPropagation();\n  e.stopImmediatePropagation();\n};\n\n/**\n * The `StandardListItem` represents the simplest type of item for a `StandardListItemst`. This is a list item, providing the most common use cases such as `text`, `image` and `icon`\n *\n * <a href=\"https://sap.github.io/ui5-webcomponents/playground/components/StandardListItem\" target=\"_blank\">UI5 Web Components Playground</a>\n */\nvar StandardListItem = withWebComponent('ui5-li', ['description', 'icon', 'image', 'info', 'infoState', 'type'], ['iconEnd', 'selected'], [], ['detail-click']);\nStandardListItem.displayName = 'StandardListItem';\nStandardListItem.defaultProps = {\n  iconEnd: false,\n  infoState: ValueState.None,\n  type: ListItemTypes.Active,\n  selected: false\n};\nvar ObjectPageAnchorButton = function ObjectPageAnchorButton(props) {\n  var ref = useRef();\n  var section = props.section,\n    index = props.index,\n    selected = props.selected,\n    onShowSubSectionPopover = props.onShowSubSectionPopover;\n  var subSectionsAvailable = false;\n  if (section.props.children && section.props.children.filter) {\n    var subSections = section.props.children.filter(function (item) {\n      return item.props && item.props.isSubSection;\n    });\n    subSectionsAvailable = subSections.length > 0;\n  }\n  useEffect(function () {\n    if (subSectionsAvailable) {\n      try {\n        var _ref$current, _ref$current$parentEl, _ref$current$parentEl2;\n        var element = (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : (_ref$current$parentEl = _ref$current.parentElement) === null || _ref$current$parentEl === void 0 ? void 0 : (_ref$current$parentEl2 = _ref$current$parentEl.shadowRoot) === null || _ref$current$parentEl2 === void 0 ? void 0 : _ref$current$parentEl2.querySelector(\".ui5-tc__headerList li[aria-posinset=\\\"\".concat(index + 1, \"\\\"] .ui5-tab-strip-itemContent\"));\n        if (element && !element.querySelector('ui5-icon')) {\n          var icon = document.createElement('ui5-icon');\n          icon.name = 'slim-arrow-down';\n          icon.style.verticalAlign = 'text-bottom';\n          icon.style.pointerEvents = 'all';\n          icon.addEventListener('click', function (e) {\n            e.stopImmediatePropagation();\n            e.preventDefault();\n            e.stopPropagation();\n            onShowSubSectionPopover(e, section);\n          });\n          element.appendChild(icon);\n        }\n      } catch (e) {// empty catch block, mainly required for tests\n      }\n    }\n  }, [subSectionsAvailable, ref, onShowSubSectionPopover, section]);\n  return /*#__PURE__*/React.createElement(Tab, {\n    ref: ref,\n    \"data-index\": index,\n    \"data-section-id\": section.props.id,\n    text: section.props.title,\n    selected: selected\n  });\n};\nvar safeGetChildrenArray = function safeGetChildrenArray(children) {\n  return Children.toArray(children).filter(Boolean);\n};\nvar getSectionById = function getSectionById(sections, id) {\n  return safeGetChildrenArray(sections).find(function (objectPageSection) {\n    var _objectPageSection$pr;\n    return ((_objectPageSection$pr = objectPageSection.props) === null || _objectPageSection$pr === void 0 ? void 0 : _objectPageSection$pr.id) === id;\n  });\n};\nvar extractSectionIdFromHtmlId = function extractSectionIdFromHtmlId(id) {\n  return id.replace(/^ObjectPageSection-/, '');\n};\nvar getLastObjectPageSection = function getLastObjectPageSection(ref) {\n  var _ref$current;\n  var sections = (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.querySelectorAll('[id^=\"ObjectPageSection\"]');\n  if (!sections || sections.length < 1) {\n    return null;\n  }\n  return sections[sections.length - 1];\n};\naddCustomCSS('ui5-button', \"\\n  :host([data-ui5wcr-object-page-header-action]){\\n    width: 1.375rem;\\n    height: 1.375rem;\\n    min-width: 1.375rem;\\n  }\\n  :host([data-ui5wcr-object-page-header-action]) .ui5-button-root {\\n    padding: 0;\\n  }\");\naddCustomCSS('ui5-togglebutton', \"\\n  :host([data-ui5wcr-object-page-header-action]){\\n    width: 1.375rem;\\n    height: 1.375rem;\\n    min-width: 1.375rem;\\n  }\\n  :host([data-ui5wcr-object-page-header-action]) .ui5-button-root {\\n    padding: 0;\\n  }\");\nvar anchorBarStyles = {\n  anchorBarActionButton: {\n    position: 'absolute',\n    top: \"-0.6875rem\",\n    marginLeft: \"-0.6875rem\",\n    left: '50%',\n    '&:before, &:after': {\n      content: '\"\"',\n      position: 'absolute',\n      width: '4rem',\n      top: '50%',\n      height: '0.0625rem'\n    },\n    '&:before': {\n      right: '100%',\n      backgroundImage: \"linear-gradient(to left, \".concat(ThemingParameters.sapHighlightColor, \", rgba(8,84,160,0))\")\n    },\n    '&:after': {\n      backgroundImage: \"linear-gradient(to right, \".concat(ThemingParameters.sapHighlightColor, \", rgba(8,84,160,0))\"),\n      left: '100%'\n    }\n  },\n  anchorBarActionButtonExpandable: {},\n  anchorBarActionButtonPinnable: {},\n  anchorBarActionPinnableAndExandable: {\n    '&$anchorBarActionButtonPinnable': {\n      marginLeft: '0.25rem',\n      '&:before': {\n        backgroundImage: 'none'\n      }\n    },\n    '&$anchorBarActionButtonExpandable': {\n      marginLeft: '-1.75rem'\n    }\n  }\n};\nvar useStyles$1 = createUseStyles(anchorBarStyles, {\n  name: 'ObjectPageAnchorBar'\n});\nvar ObjectPageAnchorBar = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _popoverContent$props;\n  var sections = props.sections,\n    selectedSectionId = props.selectedSectionId,\n    handleOnSectionSelected = props.handleOnSectionSelected,\n    handleOnSubSectionSelected = props.handleOnSubSectionSelected,\n    showHideHeaderButton = props.showHideHeaderButton,\n    headerContentPinnable = props.headerContentPinnable,\n    onToggleHeaderContentVisibility = props.onToggleHeaderContentVisibility,\n    headerPinned = props.headerPinned,\n    setHeaderPinned = props.setHeaderPinned,\n    headerContentHeight = props.headerContentHeight,\n    style = props.style,\n    className = props.className;\n  var classes = useStyles$1();\n  var shouldRenderHideHeaderButton = showHideHeaderButton;\n  var shouldRenderHeaderPinnableButton = headerContentPinnable && headerContentHeight > 0;\n  var showBothActions = shouldRenderHeaderPinnableButton && shouldRenderHideHeaderButton;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    popoverContent = _useState2[0],\n    setPopoverContent = _useState2[1];\n  var popoverRef = useRef(null);\n  var onPinHeader = useCallback(function (e) {\n    setHeaderPinned(e.target.pressed);\n  }, [setHeaderPinned]);\n  var onTabItemSelect = useCallback(function (event) {\n    var _event$detail$tab$dat = event.detail.tab.dataset,\n      sectionId = _event$detail$tab$dat.sectionId,\n      index = _event$detail$tab$dat.index; // eslint-disable-next-line eqeqeq\n\n    var section = safeGetChildrenArray(sections).find(function (el) {\n      return el.props.id == sectionId;\n    });\n    handleOnSectionSelected(enrichEventWithDetails({}, _objectSpread(_objectSpread({}, section), {}, {\n      index: index\n    })));\n  }, [sections]);\n  var onShowSubSectionPopover = useCallback(function (e, section) {\n    setPopoverContent(section);\n    popoverRef.current.openBy(e.target.parentElement);\n  }, [setPopoverContent, popoverRef]);\n  var onSubSectionClick = useCallback(function (e) {\n    var selectedId = e.detail.item.dataset.key;\n    var subSection = popoverContent.props.children.filter(function (item) {\n      return item.props && item.props.isSubSection;\n    }).find(function (item) {\n      return item.props.id === selectedId;\n    });\n    if (subSection) {\n      handleOnSubSectionSelected(enrichEventWithDetails(e, {\n        section: popoverContent,\n        subSection: subSection\n      }));\n    }\n    popoverRef.current.close();\n  }, [handleOnSubSectionSelected, popoverRef, popoverContent]);\n  var i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: className,\n    role: \"navigation\",\n    style: style,\n    ref: ref\n  }, /*#__PURE__*/React.createElement(TabContainer, {\n    collapsed: true,\n    fixed: true,\n    onTabSelect: onTabItemSelect,\n    showOverflow: true\n  }, safeGetChildrenArray(sections).map(function (section, index) {\n    var _section$props, _section$props2;\n    return /*#__PURE__*/React.createElement(ObjectPageAnchorButton, {\n      key: \"Anchor-\".concat((_section$props = section.props) === null || _section$props === void 0 ? void 0 : _section$props.id),\n      section: section,\n      index: index,\n      selected: selectedSectionId === ((_section$props2 = section.props) === null || _section$props2 === void 0 ? void 0 : _section$props2.id),\n      onShowSubSectionPopover: onShowSubSectionPopover\n    });\n  })), shouldRenderHideHeaderButton && /*#__PURE__*/React.createElement(Button, {\n    icon: headerContentHeight === 0 ? 'slim-arrow-down' : 'slim-arrow-up',\n    onClick: onToggleHeaderContentVisibility,\n    className: \"\".concat(classes.anchorBarActionButton, \" \").concat(classes.anchorBarActionButtonExpandable, \" \").concat(showBothActions ? classes.anchorBarActionPinnableAndExandable : ''),\n    \"data-ui5wcr-object-page-header-action\": \"\",\n    tooltip: i18nBundle.getText(headerContentHeight === 0 ? EXPAND_HEADER : COLLAPSE_HEADER),\n    \"aria-label\": i18nBundle.getText(headerContentHeight === 0 ? EXPAND_HEADER : COLLAPSE_HEADER)\n  }), shouldRenderHeaderPinnableButton && /*#__PURE__*/React.createElement(ToggleButton, {\n    icon: \"pushpin-off\",\n    pressed: headerPinned,\n    onClick: onPinHeader,\n    className: \"\".concat(classes.anchorBarActionButton, \" \").concat(classes.anchorBarActionButtonPinnable, \" \").concat(showBothActions ? classes.anchorBarActionPinnableAndExandable : ''),\n    \"data-ui5wcr-object-page-header-action\": \"\",\n    tooltip: i18nBundle.getText(headerPinned ? UNPIN_HEADER : PIN_HEADER),\n    \"aria-label\": i18nBundle.getText(headerPinned ? UNPIN_HEADER : PIN_HEADER)\n  }), /*#__PURE__*/createPortal( /*#__PURE__*/React.createElement(Popover, {\n    placementType: PlacementType.Bottom,\n    noArrow: true,\n    ref: popoverRef,\n    onAfterClose: stopPropagation\n  }, /*#__PURE__*/React.createElement(List, {\n    onItemClick: onSubSectionClick\n  }, popoverContent === null || popoverContent === void 0 ? void 0 : (_popoverContent$props = popoverContent.props) === null || _popoverContent$props === void 0 ? void 0 : _popoverContent$props.children.filter(function (item) {\n    return item.props && item.props.isSubSection;\n  }).map(function (item) {\n    return /*#__PURE__*/React.createElement(StandardListItem, {\n      key: item.props.id,\n      \"data-key\": item.props.id\n    }, item.props.title);\n  }))), document.body));\n});\nObjectPageAnchorBar.displayName = 'ObjectPageAnchorBar';\nvar ObjectPageHeader = /*#__PURE__*/forwardRef(function (props, ref) {\n  var image = props.image,\n    classes = props.classes,\n    imageShapeCircle = props.imageShapeCircle,\n    showTitleInHeaderContent = props.showTitleInHeaderContent,\n    headerContentProp = props.headerContentProp,\n    breadcrumbs = props.breadcrumbs,\n    title = props.title,\n    subTitle = props.subTitle,\n    keyInfos = props.keyInfos,\n    headerPinned = props.headerPinned,\n    topHeaderHeight = props.topHeaderHeight,\n    headerActions = props.headerActions;\n  var avatar = useMemo(function () {\n    if (!image) {\n      return null;\n    }\n    if (typeof image === 'string') {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        className: classes.headerImage,\n        style: {\n          borderRadius: imageShapeCircle ? '50%' : 0,\n          overflow: 'hidden'\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: image,\n        className: classes.image,\n        alt: \"Company Logo\"\n      }));\n    } else {\n      var _image$props, _image$props2;\n      return /*#__PURE__*/React.cloneElement(image, {\n        size: AvatarSize.L,\n        className: (_image$props = image.props) !== null && _image$props !== void 0 && _image$props.className ? \"\".concat(classes.headerImage, \" \").concat((_image$props2 = image.props) === null || _image$props2 === void 0 ? void 0 : _image$props2.className) : classes.headerImage\n      });\n    }\n  }, [image, classes.headerImage, classes.image, imageShapeCircle]);\n  var headerStyles = useMemo(function () {\n    if (headerPinned || isIE()) {\n      return {\n        top: \"\".concat(topHeaderHeight, \"px\"),\n        zIndex: 1\n      };\n    }\n    return null;\n  }, [headerPinned, topHeaderHeight]);\n  var renderedHeaderContent = /*#__PURE__*/React.createElement(React.Fragment, null, avatar, headerContentProp && /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.headerCustomContent\n  }, headerContentProp));\n  if (showTitleInHeaderContent) {\n    var firstElement;\n    var contents = [];\n    if ((headerContentProp === null || headerContentProp === void 0 ? void 0 : headerContentProp.type) === React.Fragment) {\n      var _safeGetChildrenArray = safeGetChildrenArray(headerContentProp.props.children);\n      var _safeGetChildrenArray2 = _toArray(_safeGetChildrenArray);\n      firstElement = _safeGetChildrenArray2[0];\n      contents = _safeGetChildrenArray2.slice(1);\n    } else {\n      firstElement = headerContentProp;\n    }\n    renderedHeaderContent = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FlexBox, null, avatar, /*#__PURE__*/React.createElement(FlexBox, {\n      direction: FlexBoxDirection.Column\n    }, /*#__PURE__*/React.createElement(\"div\", null, breadcrumbs), /*#__PURE__*/React.createElement(FlexBox, null, /*#__PURE__*/React.createElement(FlexBox, {\n      direction: FlexBoxDirection.Column\n    }, /*#__PURE__*/React.createElement(Title, {\n      level: TitleLevel.H3,\n      className: classes.title\n    }, title), /*#__PURE__*/React.createElement(Label, {\n      className: classes.subTitle\n    }, subTitle), /*#__PURE__*/React.createElement(\"span\", null, \" \", firstElement)), /*#__PURE__*/React.createElement(FlexBox, null, contents.map(function (c, index) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: \"customContent-\".concat(index),\n        className: classes.headerCustomContentItem\n      }, c);\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.keyInfos\n    }, keyInfos))), /*#__PURE__*/React.createElement(Toolbar, {\n      toolbarStyle: ToolbarStyle.Clear,\n      design: ToolbarDesign.Transparent\n    }, /*#__PURE__*/React.createElement(ToolbarSpacer, null), headerActions)));\n  }\n  var headerClasses = StyleClassHelper.of(classes.contentHeader);\n  if (isIE()) {\n    headerClasses.put(classes.iEClass);\n    headerClasses.put(classes.iEClassHeader);\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: headerStyles,\n    className: headerClasses.className,\n    ref: ref\n  }, renderedHeaderContent);\n});\nObjectPageHeader.displayName = 'ObjectPageHeader';\nvar useObserveHeights = function useObserveHeights(objectPage, topHeader, headerContentRef, anchorBarRef, _ref) {\n  var _anchorBarRef$current, _anchorBarRef$current2;\n  var noHeader = _ref.noHeader;\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    topHeaderHeight = _useState2[0],\n    setTopHeaderHeight = _useState2[1];\n  var _useState3 = useState(0),\n    _useState4 = _slicedToArray(_useState3, 2),\n    headerContentHeight = _useState4[0],\n    setHeaderContentHeight = _useState4[1];\n  var _useState5 = useState(true),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isIntersecting = _useState6[0],\n    setIsIntersecting = _useState6[1];\n  useEffect(function () {\n    var headerIntersectionObserver = new IntersectionObserver(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 1),\n        header = _ref3[0];\n      if (header.isIntersecting) {\n        setIsIntersecting(true);\n        setHeaderContentHeight(header.target.offsetHeight);\n      } else {\n        setIsIntersecting(false);\n        setHeaderContentHeight(0);\n      }\n    }, {\n      rootMargin: \"-\".concat(topHeaderHeight, \"px 0px 0px 0px\"),\n      root: objectPage.current,\n      threshold: 0.3\n    });\n    if (headerContentRef.current) {\n      headerIntersectionObserver.observe(headerContentRef.current);\n    }\n    return function () {\n      headerIntersectionObserver.disconnect();\n    };\n  }, [topHeaderHeight, setHeaderContentHeight, headerContentRef, setIsIntersecting]); // top header\n\n  useEffect(function () {\n    var headerContentResizeObserver = new ResizeObserver(function (_ref4) {\n      var _header$contentRect$h, _header$contentRect;\n      var _ref5 = _slicedToArray(_ref4, 1),\n        header = _ref5[0];\n      setTopHeaderHeight((_header$contentRect$h = header === null || header === void 0 ? void 0 : (_header$contentRect = header.contentRect) === null || _header$contentRect === void 0 ? void 0 : _header$contentRect.height) !== null && _header$contentRect$h !== void 0 ? _header$contentRect$h : 0);\n    });\n    if (topHeader.current) {\n      headerContentResizeObserver.observe(topHeader.current);\n    }\n    return function () {\n      headerContentResizeObserver.disconnect();\n    };\n  }, [topHeader.current, setTopHeaderHeight]); // header content\n\n  useEffect(function () {\n    var headerContentResizeObserver = new ResizeObserver(function (_ref6) {\n      var _ref7 = _slicedToArray(_ref6, 1),\n        headerContent = _ref7[0];\n      if (isIntersecting) {\n        var _headerContent$conten, _headerContent$conten2;\n        setHeaderContentHeight((_headerContent$conten = headerContent === null || headerContent === void 0 ? void 0 : (_headerContent$conten2 = headerContent.contentRect) === null || _headerContent$conten2 === void 0 ? void 0 : _headerContent$conten2.height) !== null && _headerContent$conten !== void 0 ? _headerContent$conten : 0);\n      }\n    });\n    if (headerContentRef.current) {\n      headerContentResizeObserver.observe(headerContentRef.current);\n    }\n    return function () {\n      headerContentResizeObserver.disconnect();\n    };\n  }, [headerContentRef.current, setHeaderContentHeight, isIntersecting]);\n  var anchorBarHeight = (_anchorBarRef$current = (_anchorBarRef$current2 = anchorBarRef.current) === null || _anchorBarRef$current2 === void 0 ? void 0 : _anchorBarRef$current2.offsetHeight) !== null && _anchorBarRef$current !== void 0 ? _anchorBarRef$current : 33;\n  var totalHeaderHeight = (noHeader ? 0 : topHeaderHeight + headerContentHeight) + anchorBarHeight;\n  return {\n    topHeaderHeight: topHeaderHeight,\n    headerContentHeight: headerContentHeight,\n    anchorBarHeight: anchorBarHeight,\n    totalHeaderHeight: totalHeaderHeight\n  };\n};\nvar SCROLL_BAR_WIDTH = 12;\nvar useStyles$2 = createUseStyles(styles$1, {\n  name: 'ObjectPage'\n});\n/**\n * A component that allows apps to easily display information related to a business object.<br />\n * The `ObjectPage` is composed of a header (title and content) and block content wrapped in sections and subsections that structure the information.\n */\n\nvar ObjectPage = /*#__PURE__*/forwardRef(function (props, ref) {\n  var _safeGetChildrenArray, _safeGetChildrenArray2, _ref, _anchorBarRef$current, _objectPageRef$curren17, _objectPageRef$curren18, _ref2, _anchorBarRef$current2;\n  var title = props.title,\n    image = props.image,\n    subTitle = props.subTitle,\n    headerActions = props.headerActions,\n    mode = props.mode,\n    imageShapeCircle = props.imageShapeCircle,\n    className = props.className,\n    style = props.style,\n    tooltip = props.tooltip,\n    slot = props.slot,\n    showHideHeaderButton = props.showHideHeaderButton,\n    children = props.children,\n    onSelectedSectionChanged = props.onSelectedSectionChanged,\n    selectedSectionId = props.selectedSectionId,\n    noHeader = props.noHeader,\n    alwaysShowContentHeader = props.alwaysShowContentHeader,\n    showTitleInHeaderContent = props.showTitleInHeaderContent,\n    headerContentPinnable = props.headerContentPinnable,\n    headerContent = props.headerContent,\n    breadcrumbs = props.breadcrumbs,\n    keyInfos = props.keyInfos;\n  var firstSectionId = (_safeGetChildrenArray = safeGetChildrenArray(children)[0]) === null || _safeGetChildrenArray === void 0 ? void 0 : (_safeGetChildrenArray2 = _safeGetChildrenArray.props) === null || _safeGetChildrenArray2 === void 0 ? void 0 : _safeGetChildrenArray2.id;\n  var _useState = useState(selectedSectionId !== null && selectedSectionId !== void 0 ? selectedSectionId : firstSectionId),\n    _useState2 = _slicedToArray(_useState, 2),\n    internalSelectedSectionId = _useState2[0],\n    setInternalSelectedSectionId = _useState2[1];\n  var _useState3 = useState(props.selectedSubSectionId),\n    _useState4 = _slicedToArray(_useState3, 2),\n    selectedSubSectionId = _useState4[0],\n    setSelectedSubSectionId = _useState4[1];\n  var _useState5 = useState(alwaysShowContentHeader),\n    _useState6 = _slicedToArray(_useState5, 2),\n    headerPinned = _useState6[0],\n    setHeaderPinned = _useState6[1];\n  var isProgrammaticallyScrolled = useRef(false);\n  var objectPageRef = useConsolidatedRef(ref);\n  var topHeaderRef = useRef();\n  var headerContentRef = useRef();\n  var anchorBarRef = useRef();\n  var _useState7 = useState(SCROLL_BAR_WIDTH),\n    _useState8 = _slicedToArray(_useState7, 2),\n    scrollbarWidth = _useState8[0],\n    setScrollbarWidth = _useState8[1];\n  var isMounted = useRef(false); // observe heights of header parts\n\n  var _useObserveHeights = useObserveHeights(objectPageRef, topHeaderRef, headerContentRef, anchorBarRef, {\n      noHeader: noHeader\n    }),\n    topHeaderHeight = _useObserveHeights.topHeaderHeight,\n    headerContentHeight = _useObserveHeights.headerContentHeight,\n    anchorBarHeight = _useObserveHeights.anchorBarHeight,\n    totalHeaderHeight = _useObserveHeights.totalHeaderHeight; // *****\n  // SECTION SELECTION\n  // ****\n\n  var scrollToSection = useCallback(function (sectionId) {\n    if (!sectionId) {\n      return;\n    }\n    if (firstSectionId === sectionId) {\n      var _objectPageRef$curren;\n      (_objectPageRef$curren = objectPageRef.current) === null || _objectPageRef$curren === void 0 ? void 0 : _objectPageRef$curren.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      });\n    } else {\n      var _objectPageRef$curren2, _objectPageRef$curren3;\n      var childOffset = (_objectPageRef$curren2 = objectPageRef.current) === null || _objectPageRef$curren2 === void 0 ? void 0 : (_objectPageRef$curren3 = _objectPageRef$curren2.querySelector(\"#ObjectPageSection-\".concat(sectionId))) === null || _objectPageRef$curren3 === void 0 ? void 0 : _objectPageRef$curren3.offsetTop;\n      if (!isNaN(childOffset)) {\n        var _objectPageRef$curren4;\n        (_objectPageRef$curren4 = objectPageRef.current) === null || _objectPageRef$curren4 === void 0 ? void 0 : _objectPageRef$curren4.scrollTo({\n          top: childOffset - topHeaderHeight - anchorBarHeight - (headerPinned ? headerContentHeight : 0) + 45,\n          behavior: 'smooth'\n        });\n      }\n    }\n    isProgrammaticallyScrolled.current = false;\n  }, [firstSectionId, objectPageRef, topHeaderHeight, anchorBarHeight, headerPinned, headerContentHeight]); // change selected section when prop is changed (external change)\n\n  useEffect(function () {\n    isProgrammaticallyScrolled.current = true;\n    setInternalSelectedSectionId(selectedSectionId !== null && selectedSectionId !== void 0 ? selectedSectionId : firstSectionId);\n  }, [selectedSectionId, isProgrammaticallyScrolled, firstSectionId]); // section was selected by clicking on the anchor bar buttons\n\n  var handleOnSectionSelected = useCallback(function (e) {\n    var _e$detail$props;\n    isProgrammaticallyScrolled.current = true;\n    var newSelectionSection = (_e$detail$props = e.detail.props) === null || _e$detail$props === void 0 ? void 0 : _e$detail$props.id;\n    setInternalSelectedSectionId(function (oldSelectedSection) {\n      if (oldSelectedSection === newSelectionSection) {\n        scrollToSection(newSelectionSection);\n      }\n      return newSelectionSection;\n    });\n    fireOnSelectedChangedEvent(e);\n  }, [onSelectedSectionChanged, setInternalSelectedSectionId, isProgrammaticallyScrolled, scrollToSection]); // do internal scrolling\n\n  useEffect(function () {\n    if (!isMounted.current) return;\n    if (mode === ObjectPageMode.Default && isProgrammaticallyScrolled.current === true) {\n      scrollToSection(internalSelectedSectionId);\n    }\n  }, [internalSelectedSectionId, isMounted, mode, isProgrammaticallyScrolled, scrollToSection]); // Scrolling for Sub Section Selection\n\n  useEffect(function () {\n    if (selectedSubSectionId && isProgrammaticallyScrolled.current === true) {\n      var _objectPageRef$curren5, _objectPageRef$curren6;\n      var childOffset = (_objectPageRef$curren5 = objectPageRef.current) === null || _objectPageRef$curren5 === void 0 ? void 0 : (_objectPageRef$curren6 = _objectPageRef$curren5.querySelector(\"div[id=\\\"ObjectPageSubSection-\".concat(selectedSubSectionId, \"\\\"]\"))) === null || _objectPageRef$curren6 === void 0 ? void 0 : _objectPageRef$curren6.offsetTop;\n      if (!isNaN(childOffset)) {\n        var _objectPageRef$curren7;\n        (_objectPageRef$curren7 = objectPageRef.current) === null || _objectPageRef$curren7 === void 0 ? void 0 : _objectPageRef$curren7.scrollTo({\n          top: childOffset - topHeaderHeight - anchorBarHeight - (headerPinned ? headerContentHeight : 0) + 45,\n          behavior: 'smooth'\n        });\n      }\n      isProgrammaticallyScrolled.current = false;\n    }\n  }, [selectedSubSectionId, isProgrammaticallyScrolled, topHeaderHeight, anchorBarHeight, headerPinned, headerContentHeight]);\n  useEffect(function () {\n    setHeaderPinned(alwaysShowContentHeader);\n  }, [setHeaderPinned, alwaysShowContentHeader]);\n  var classes = useStyles$2();\n  useEffect(function () {\n    setSelectedSubSectionId(props.selectedSubSectionId);\n    if (props.selectedSubSectionId) {\n      isProgrammaticallyScrolled.current = true;\n      if (mode === ObjectPageMode.IconTabBar) {\n        var sectionId;\n        safeGetChildrenArray(children).forEach(function (section) {\n          if ( /*#__PURE__*/React.isValidElement(section) && section.props && section.props.children) {\n            safeGetChildrenArray(section.props.children).forEach(function (subSection) {\n              if ( /*#__PURE__*/React.isValidElement(subSection) && subSection.props && subSection.props.id === props.selectedSubSectionId) {\n                var _section$props;\n                sectionId = (_section$props = section.props) === null || _section$props === void 0 ? void 0 : _section$props.id;\n              }\n            });\n          }\n        });\n        if (sectionId) {\n          setInternalSelectedSectionId(sectionId);\n        }\n      }\n    }\n  }, [props.selectedSubSectionId, setInternalSelectedSectionId, setSelectedSubSectionId, children, mode, isProgrammaticallyScrolled]);\n  useEffect(function () {\n    var fillerDivObserver = new ResizeObserver(function () {\n      var _objectPageRef$curren8, _objectPageRef$curren9;\n      var heightDiff = 0;\n      var maxHeight = Math.min((_objectPageRef$curren8 = objectPageRef.current) === null || _objectPageRef$curren8 === void 0 ? void 0 : _objectPageRef$curren8.clientHeight, window.innerHeight);\n      var availableScrollHeight = maxHeight - totalHeaderHeight;\n      var lastSectionDomRef = getLastObjectPageSection(objectPageRef);\n      if (lastSectionDomRef) {\n        var subSections = lastSectionDomRef.querySelectorAll('[id^=\"ObjectPageSubSection\"]');\n        var lastSubSectionHeight;\n        if (subSections.length > 0) {\n          lastSubSectionHeight = subSections[subSections.length - 1].offsetHeight;\n        } else {\n          lastSubSectionHeight = lastSectionDomRef.offsetHeight - lastSectionDomRef.querySelector(\"[role='heading']\").offsetHeight;\n        }\n        heightDiff = Math.max(0, availableScrollHeight - lastSubSectionHeight);\n        if (isNaN(heightDiff)) {\n          heightDiff = 0;\n        }\n      }\n      (_objectPageRef$curren9 = objectPageRef.current) === null || _objectPageRef$curren9 === void 0 ? void 0 : _objectPageRef$curren9.style.setProperty(ObjectPageCssVariables.lastSectionMargin, \"\".concat(heightDiff, \"px\"));\n    });\n    fillerDivObserver.observe(objectPageRef.current);\n    return function () {\n      fillerDivObserver.disconnect();\n    };\n  }, [totalHeaderHeight, objectPageRef, children]);\n  var fireOnSelectedChangedEvent = debounce(function (e) {\n    onSelectedSectionChanged(enrichEventWithDetails(e, {\n      selectedSectionIndex: e.detail.index,\n      selectedSectionId: e.detail.props.id,\n      section: e.detail\n    }));\n  }, 500);\n  var handleOnSubSectionSelected = useCallback(function (e) {\n    isProgrammaticallyScrolled.current = true;\n    if (mode === ObjectPageMode.IconTabBar) {\n      var _e$detail$section$pro;\n      var sectionId = (_e$detail$section$pro = e.detail.section.props) === null || _e$detail$section$pro === void 0 ? void 0 : _e$detail$section$pro.id;\n      setInternalSelectedSectionId(sectionId);\n    }\n    var subSection = e.detail.subSection;\n    setSelectedSubSectionId(subSection.props.id);\n  }, [mode, setInternalSelectedSectionId, setSelectedSubSectionId, isProgrammaticallyScrolled]);\n  var onToggleHeaderContentVisibility = useCallback(function (e) {\n    var srcElement = e.target;\n    var shouldHideHeader = srcElement.icon === 'slim-arrow-up';\n    if (shouldHideHeader) {\n      var _objectPageRef$curren10;\n      (_objectPageRef$curren10 = objectPageRef.current) === null || _objectPageRef$curren10 === void 0 ? void 0 : _objectPageRef$curren10.classList.add(classes.headerCollapsed);\n    } else {\n      var _objectPageRef$curren11;\n      (_objectPageRef$curren11 = objectPageRef.current) === null || _objectPageRef$curren11 === void 0 ? void 0 : _objectPageRef$curren11.classList.remove(classes.headerCollapsed);\n    }\n    requestAnimationFrame(function () {\n      var _objectPageRef$curren12;\n      if (((_objectPageRef$curren12 = objectPageRef.current) === null || _objectPageRef$curren12 === void 0 ? void 0 : _objectPageRef$curren12.scrollTop) > 0 && !shouldHideHeader) {\n        var _objectPageRef$curren13;\n        var prevHeaderTop = headerContentRef.current.style.top;\n        headerContentRef.current.style.top = \"\".concat(topHeaderHeight, \"px\");\n        var prevAnchorTop = anchorBarRef.current.style.top;\n        anchorBarRef.current.style.top = \"\".concat(headerContentRef.current.offsetHeight + topHeaderHeight, \"px\");\n        (_objectPageRef$curren13 = objectPageRef.current) === null || _objectPageRef$curren13 === void 0 ? void 0 : _objectPageRef$curren13.addEventListener('scroll', function (e) {\n          if (prevHeaderTop !== null && prevHeaderTop !== void 0 ? prevHeaderTop : true) {\n            headerContentRef.current.style.top = prevHeaderTop;\n          } else {\n            headerContentRef.current.style.removeProperty('top');\n          }\n          if (prevAnchorTop !== null && prevAnchorTop !== void 0 ? prevAnchorTop : true) {\n            anchorBarRef.current.style.top = prevAnchorTop;\n          } else {\n            anchorBarRef.current.style.removeProperty('top');\n          }\n        }, {\n          once: true\n        });\n      }\n    });\n  }, [objectPageRef, classes.headerCollapsed, headerContentHeight, topHeaderHeight]);\n  useEffect(function () {\n    requestAnimationFrame(function () {\n      var calculatedScrollBarWidth = getScrollBarWidth();\n      if (calculatedScrollBarWidth && calculatedScrollBarWidth !== 0 && calculatedScrollBarWidth !== SCROLL_BAR_WIDTH) {\n        setScrollbarWidth(calculatedScrollBarWidth);\n      }\n    });\n    isMounted.current = true;\n  }, [isMounted, setScrollbarWidth]);\n  var objectPageClasses = StyleClassHelper.of(classes.objectPage, GlobalStyleClasses.sapScrollBar);\n  if (className) {\n    objectPageClasses.put(className);\n  }\n  if (showTitleInHeaderContent) {\n    objectPageClasses.put(classes.titleInHeaderContent);\n  }\n  if (mode === ObjectPageMode.IconTabBar) {\n    objectPageClasses.put(classes.iconTabBarMode);\n  }\n  if (noHeader) {\n    objectPageClasses.put(classes.noHeader);\n  }\n  var scrollBarWidthPadding = useMemo(function () {\n    return {\n      paddingRight: isIE() ? 0 : \"\".concat(scrollbarWidth, \"px\")\n    };\n  }, [scrollbarWidth]);\n  var passThroughProps = usePassThroughHtmlProps(props, ['onSelectedSectionChanged']);\n  useEffect(function () {\n    var _objectPageRef$curren14, _objectPageRef$curren15, _objectPageRef$curren16;\n    var objectPageHeight = (_objectPageRef$curren14 = (_objectPageRef$curren15 = objectPageRef.current) === null || _objectPageRef$curren15 === void 0 ? void 0 : _objectPageRef$curren15.clientHeight) !== null && _objectPageRef$curren14 !== void 0 ? _objectPageRef$curren14 : 1000;\n    var marginBottom = objectPageHeight - totalHeaderHeight;\n    var rootMargin = \"-\".concat(totalHeaderHeight, \"px 0px -\").concat(marginBottom < 0 ? 0 : marginBottom, \"px 0px\");\n    var observer = new IntersectionObserver(function (elements) {\n      elements.forEach(function (section) {\n        if (section.isIntersecting && isProgrammaticallyScrolled.current === false) {\n          setInternalSelectedSectionId(extractSectionIdFromHtmlId(section.target.id));\n        }\n      });\n    }, {\n      root: objectPageRef.current,\n      rootMargin: rootMargin,\n      threshold: [0]\n    });\n    (_objectPageRef$curren16 = objectPageRef.current) === null || _objectPageRef$curren16 === void 0 ? void 0 : _objectPageRef$curren16.querySelectorAll('section[data-component-name=\"ObjectPageSection\"]').forEach(function (el) {\n      observer.observe(el);\n    });\n    return function () {\n      observer.disconnect();\n    };\n  }, [objectPageRef, children, totalHeaderHeight, setInternalSelectedSectionId, isProgrammaticallyScrolled]);\n  var headerClasses = StyleClassHelper.of(classes.header);\n  var anchorBarClasses = StyleClassHelper.of(classes.anchorBar);\n  if (isIE()) {\n    headerClasses.put(classes.iEClass);\n    anchorBarClasses.put(classes.iEClass);\n  }\n  var anchorBarPositionTop = noHeader ? 0 : headerPinned || isIE() ? topHeaderHeight + headerContentHeight : topHeaderHeight;\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    \"data-component-name\": \"ObjectPage\",\n    slot: slot,\n    className: objectPageClasses.toString(),\n    style: style,\n    ref: objectPageRef,\n    title: tooltip\n  }, passThroughProps), /*#__PURE__*/React.createElement(\"header\", {\n    ref: topHeaderRef,\n    role: \"banner\",\n    \"aria-roledescription\": \"Object Page header\",\n    style: scrollBarWidthPadding,\n    className: headerClasses.className\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.titleBar\n  }, (!showTitleInHeaderContent || headerContentHeight === 0) && /*#__PURE__*/React.createElement(FlexBox, {\n    alignItems: FlexBoxAlignItems.Center\n  }, image && headerContentHeight === 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.avatar\n  }, /*#__PURE__*/React.createElement(CollapsedAvatar, {\n    image: image,\n    imageShapeCircle: imageShapeCircle\n  })), /*#__PURE__*/React.createElement(FlexBox, {\n    direction: FlexBoxDirection.Column,\n    className: classes.container\n  }, breadcrumbs, /*#__PURE__*/React.createElement(FlexBox, {\n    alignItems: FlexBoxAlignItems.Baseline\n  }, /*#__PURE__*/React.createElement(Title, {\n    level: TitleLevel.H3,\n    className: classes.title\n  }, title), /*#__PURE__*/React.createElement(Label, {\n    className: classes.subTitle\n  }, subTitle), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.keyInfos\n  }, keyInfos))), /*#__PURE__*/React.createElement(Toolbar, {\n    toolbarStyle: ToolbarStyle.Clear,\n    design: ToolbarDesign.Transparent\n  }, /*#__PURE__*/React.createElement(ToolbarSpacer, null), headerActions)))), /*#__PURE__*/React.createElement(ObjectPageHeader, {\n    headerActions: headerActions,\n    image: image,\n    classes: classes,\n    imageShapeCircle: imageShapeCircle,\n    showTitleInHeaderContent: showTitleInHeaderContent,\n    headerContentProp: headerContent,\n    breadcrumbs: breadcrumbs,\n    keyInfos: keyInfos,\n    title: title,\n    subTitle: subTitle,\n    headerPinned: headerPinned,\n    topHeaderHeight: topHeaderHeight,\n    ref: headerContentRef\n  }), /*#__PURE__*/React.createElement(ObjectPageAnchorBar, {\n    sections: children,\n    selectedSectionId: internalSelectedSectionId,\n    handleOnSectionSelected: handleOnSectionSelected,\n    handleOnSubSectionSelected: handleOnSubSectionSelected,\n    headerContentPinnable: headerContentPinnable,\n    showHideHeaderButton: showHideHeaderButton && !noHeader,\n    headerPinned: headerPinned,\n    setHeaderPinned: setHeaderPinned,\n    headerContentHeight: headerContentHeight,\n    style: {\n      top: anchorBarPositionTop\n    },\n    onToggleHeaderContentVisibility: onToggleHeaderContentVisibility,\n    ref: anchorBarRef,\n    className: anchorBarClasses.className\n  }), isIE() && /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.iEBackgroundElement,\n    style: {\n      height: \"\".concat((_ref = anchorBarPositionTop + ((_anchorBarRef$current = anchorBarRef.current) === null || _anchorBarRef$current === void 0 ? void 0 : _anchorBarRef$current.offsetHeight)) !== null && _ref !== void 0 ? _ref : 0, \"px\"),\n      width: \"calc(100% - \".concat((objectPageRef === null || objectPageRef === void 0 ? void 0 : (_objectPageRef$curren17 = objectPageRef.current) === null || _objectPageRef$curren17 === void 0 ? void 0 : _objectPageRef$curren17.clientHeight) < (objectPageRef === null || objectPageRef === void 0 ? void 0 : (_objectPageRef$curren18 = objectPageRef.current) === null || _objectPageRef$curren18 === void 0 ? void 0 : _objectPageRef$curren18.scrollHeight) ? '18px' : '0px', \")\")\n    }\n  }), isIE() ? /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: \"\".concat((_ref2 = anchorBarPositionTop + ((_anchorBarRef$current2 = anchorBarRef.current) === null || _anchorBarRef$current2 === void 0 ? void 0 : _anchorBarRef$current2.offsetHeight)) !== null && _ref2 !== void 0 ? _ref2 : 0, \"px\")\n    }\n  }, mode === ObjectPageMode.IconTabBar ? getSectionById(children, internalSelectedSectionId) : children) : mode === ObjectPageMode.IconTabBar ? getSectionById(children, internalSelectedSectionId) : children);\n});\nObjectPage.displayName = 'ObjectPage';\nObjectPage.defaultProps = {\n  title: '',\n  image: null,\n  subTitle: '',\n  headerActions: [],\n  mode: ObjectPageMode.Default,\n  imageShapeCircle: false,\n  showHideHeaderButton: false,\n  onSelectedSectionChanged: function onSelectedSectionChanged() {\n    /* noop */\n  },\n  noHeader: false\n};\nexport { ObjectPage };","map":{"version":3,"names":["styles","base","margin","opacity","hidden","visible","transition","imageContainer","display","verticalAlign","maxHeight","width","maxWidth","image","height","useStyles","createUseStyles","name","CollapsedAvatar","props","imageShapeCircle","classes","_useState","useState","_useState2","_slicedToArray","isMounted","setIsMounted","domRef","useRef","avatarContent","useMemo","React","createElement","className","style","borderRadius","overflow","src","alt","_image$props","_image$props2","cloneElement","size","AvatarSize","S","concat","useEffect","containerClasses","StyleClassHelper","of","put","ref","valueOf","ObjectPageCssVariables","anchorFloat","anchorLeft","anchorRight","avatarMargin","lastSectionMargin","styles$1","objectPage","_objectPage","position","whiteSpace","fontFamily","ThemingParameters","sapFontFamily","backgroundColor","sapBackgroundColor","overflowX","overflowY","_defineProperty","marginBottom","_globalHtml","_globalDirRtl","iconTabBarMode","noHeader","headerCollapsed","header","flexShrink","sapObjectHeader_Background","top","zIndex","iEClass","iEClassHeader","iEBackgroundElement","contentHeader","paddingBottom","paddingLeft","anchorBar","titleBar","padding","container","flex","boxSizing","title","subTitle","actions","paddingTop","right","left","marginLeft","titleInHeaderContent","alignSelf","marginRight","headerCustomContent","lineHeight","clear","headerCustomContentItem","headerImage","minWidth","keyInfos","flexDirection","avatar","stopPropagation","e","stopImmediatePropagation","StandardListItem","withWebComponent","displayName","defaultProps","iconEnd","infoState","ValueState","None","type","ListItemTypes","Active","selected","ObjectPageAnchorButton","section","index","onShowSubSectionPopover","subSectionsAvailable","children","filter","subSections","item","isSubSection","length","_ref$current","_ref$current$parentEl","_ref$current$parentEl2","element","current","parentElement","shadowRoot","querySelector","icon","document","pointerEvents","addEventListener","preventDefault","appendChild","Tab","id","text","safeGetChildrenArray","Children","toArray","Boolean","getSectionById","sections","find","objectPageSection","_objectPageSection$pr","extractSectionIdFromHtmlId","replace","getLastObjectPageSection","querySelectorAll","addCustomCSS","anchorBarStyles","anchorBarActionButton","content","backgroundImage","sapHighlightColor","anchorBarActionButtonExpandable","anchorBarActionButtonPinnable","anchorBarActionPinnableAndExandable","useStyles$1","ObjectPageAnchorBar","forwardRef","_popoverContent$props","selectedSectionId","handleOnSectionSelected","handleOnSubSectionSelected","showHideHeaderButton","headerContentPinnable","onToggleHeaderContentVisibility","headerPinned","setHeaderPinned","headerContentHeight","shouldRenderHideHeaderButton","shouldRenderHeaderPinnableButton","showBothActions","popoverContent","setPopoverContent","popoverRef","onPinHeader","useCallback","target","pressed","onTabItemSelect","event","_event$detail$tab$dat","detail","tab","dataset","sectionId","el","enrichEventWithDetails","_objectSpread","openBy","onSubSectionClick","selectedId","key","subSection","close","i18nBundle","useI18nBundle","role","TabContainer","collapsed","fixed","onTabSelect","showOverflow","map","_section$props","_section$props2","Button","onClick","tooltip","getText","EXPAND_HEADER","COLLAPSE_HEADER","ToggleButton","UNPIN_HEADER","PIN_HEADER","createPortal","Popover","placementType","PlacementType","Bottom","noArrow","onAfterClose","List","onItemClick","body","ObjectPageHeader","showTitleInHeaderContent","headerContentProp","breadcrumbs","topHeaderHeight","headerActions","L","headerStyles","isIE","renderedHeaderContent","Fragment","firstElement","contents","_safeGetChildrenArray","_safeGetChildrenArray2","_toArray","slice","FlexBox","direction","FlexBoxDirection","Column","Title","level","TitleLevel","H3","Label","c","Toolbar","toolbarStyle","ToolbarStyle","Clear","design","ToolbarDesign","Transparent","ToolbarSpacer","headerClasses","useObserveHeights","topHeader","headerContentRef","anchorBarRef","_ref","_anchorBarRef$current","_anchorBarRef$current2","setTopHeaderHeight","_useState3","_useState4","setHeaderContentHeight","_useState5","_useState6","isIntersecting","setIsIntersecting","headerIntersectionObserver","IntersectionObserver","_ref2","_ref3","offsetHeight","rootMargin","root","threshold","observe","disconnect","headerContentResizeObserver","ResizeObserver","_ref4","_header$contentRect$h","_header$contentRect","_ref5","contentRect","_ref6","_ref7","headerContent","_headerContent$conten","_headerContent$conten2","anchorBarHeight","totalHeaderHeight","SCROLL_BAR_WIDTH","useStyles$2","ObjectPage","_objectPageRef$curren17","_objectPageRef$curren18","mode","slot","onSelectedSectionChanged","alwaysShowContentHeader","firstSectionId","internalSelectedSectionId","setInternalSelectedSectionId","selectedSubSectionId","setSelectedSubSectionId","isProgrammaticallyScrolled","objectPageRef","useConsolidatedRef","topHeaderRef","_useState7","_useState8","scrollbarWidth","setScrollbarWidth","_useObserveHeights","scrollToSection","_objectPageRef$curren","scrollTo","behavior","_objectPageRef$curren2","_objectPageRef$curren3","childOffset","offsetTop","isNaN","_objectPageRef$curren4","_e$detail$props","newSelectionSection","oldSelectedSection","fireOnSelectedChangedEvent","ObjectPageMode","Default","_objectPageRef$curren5","_objectPageRef$curren6","_objectPageRef$curren7","IconTabBar","forEach","isValidElement","fillerDivObserver","_objectPageRef$curren8","_objectPageRef$curren9","heightDiff","Math","min","clientHeight","window","innerHeight","availableScrollHeight","lastSectionDomRef","lastSubSectionHeight","max","setProperty","debounce","selectedSectionIndex","_e$detail$section$pro","srcElement","shouldHideHeader","_objectPageRef$curren10","classList","add","_objectPageRef$curren11","remove","requestAnimationFrame","_objectPageRef$curren12","scrollTop","_objectPageRef$curren13","prevHeaderTop","prevAnchorTop","removeProperty","once","calculatedScrollBarWidth","getScrollBarWidth","objectPageClasses","GlobalStyleClasses","sapScrollBar","scrollBarWidthPadding","paddingRight","passThroughProps","usePassThroughHtmlProps","_objectPageRef$curren14","_objectPageRef$curren15","_objectPageRef$curren16","objectPageHeight","observer","elements","anchorBarClasses","anchorBarPositionTop","_extends","toString","alignItems","FlexBoxAlignItems","Center","Baseline","scrollHeight","marginTop"],"sources":["/home/paris/projekty/haergi/feng/workspace/recipe-sharing-app/frontend/node_modules/@ui5/webcomponents-react/src/components/ObjectPage/CollapsedAvatar.tsx","/home/paris/projekty/haergi/feng/workspace/recipe-sharing-app/frontend/node_modules/@ui5/webcomponents-react/src/components/ObjectPage/ObjectPage.jss.ts","/home/paris/projekty/haergi/feng/workspace/recipe-sharing-app/frontend/node_modules/@ui5/webcomponents-react/src/internal/stopPropagation.ts","/home/paris/projekty/haergi/feng/workspace/recipe-sharing-app/frontend/node_modules/@ui5/webcomponents-react/src/webComponents/StandardListItem/index.tsx","/home/paris/projekty/haergi/feng/workspace/recipe-sharing-app/frontend/node_modules/@ui5/webcomponents-react/src/components/ObjectPage/ObjectPageAnchorButton.tsx","/home/paris/projekty/haergi/feng/workspace/recipe-sharing-app/frontend/node_modules/@ui5/webcomponents-react/src/components/ObjectPage/ObjectPageUtils.ts","/home/paris/projekty/haergi/feng/workspace/recipe-sharing-app/frontend/node_modules/@ui5/webcomponents-react/src/components/ObjectPage/ObjectPageAnchorBar.tsx","/home/paris/projekty/haergi/feng/workspace/recipe-sharing-app/frontend/node_modules/@ui5/webcomponents-react/src/components/ObjectPage/ObjectPageHeader.tsx","/home/paris/projekty/haergi/feng/workspace/recipe-sharing-app/frontend/node_modules/@ui5/webcomponents-react/src/components/ObjectPage/useObserveHeights.ts","/home/paris/projekty/haergi/feng/workspace/recipe-sharing-app/frontend/node_modules/@ui5/webcomponents-react/src/components/ObjectPage/index.tsx"],"sourcesContent":["import { createUseStyles } from 'react-jss';\nimport { StyleClassHelper } from '@ui5/webcomponents-react-base/lib/StyleClassHelper';\nimport { AvatarSize } from '@ui5/webcomponents-react/lib/AvatarSize';\nimport React, { ReactElement, useEffect, useMemo, useRef, useState } from 'react';\n\nconst styles = {\n  base: {\n    margin: 'var(--_ui5wcr_ObjectPage_avatar_margin)', // defined in ObjectPage JSS\n    opacity: 0\n  },\n  hidden: {\n    opacity: 0\n  },\n  visible: {\n    transition: 'opacity 0.5s',\n    opacity: 1\n  },\n  imageContainer: {\n    display: 'inline-block',\n    verticalAlign: 'middle',\n    maxHeight: '3rem',\n    width: '3rem',\n    maxWidth: '3rem'\n  },\n  image: {\n    width: '100%',\n    height: '100%'\n  }\n};\n\nconst useStyles = createUseStyles(styles, {\n  name: 'CollapsedAvatar'\n});\n\nexport interface CollapsedAvatarPropTypes {\n  image?: string | ReactElement;\n  imageShapeCircle?: boolean;\n}\n\nexport const CollapsedAvatar = (props: CollapsedAvatarPropTypes) => {\n  const { image, imageShapeCircle } = props;\n  const classes = useStyles();\n  const [isMounted, setIsMounted] = useState(false);\n  const domRef = useRef();\n\n  const avatarContent = useMemo(() => {\n    if (!image) return null;\n\n    if (typeof image === 'string') {\n      return (\n        <span\n          className={classes.imageContainer}\n          style={{ borderRadius: imageShapeCircle ? '50%' : 0, overflow: 'hidden' }}\n        >\n          <img className={classes.image} src={image} alt=\"Object Page Image\" />\n        </span>\n      );\n    } else {\n      return React.cloneElement(image, {\n        size: AvatarSize.S,\n        // @ts-ignore\n        className: image.props?.className\n          ? `${classes.imageContainer} ${image.props?.className}`\n          : classes.imageContainer\n      } as unknown);\n    }\n  }, [image, imageShapeCircle]);\n\n  useEffect(() => {\n    setIsMounted(true);\n  }, []);\n\n  const containerClasses = StyleClassHelper.of(classes.base);\n  if (isMounted) {\n    containerClasses.put(classes.visible);\n  } else {\n    containerClasses.put(classes.hidden);\n  }\n\n  return (\n    <div ref={domRef} className={containerClasses.valueOf()}>\n      {avatarContent}\n    </div>\n  );\n};\n","import { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\n\nexport const ObjectPageCssVariables = {\n  anchorFloat: '--_ui5wcr_ObjectPage_actions_float',\n  anchorLeft: '--_ui5wcr_ObjectPage_actions_left',\n  anchorRight: '--_ui5wcr_ObjectPage_actions_right',\n  avatarMargin: '--_ui5wcr_ObjectPage_avatar_margin',\n  lastSectionMargin: '--_ui5wcr_ObjectPage_last_section_margin_bottom'\n};\n\nconst styles = {\n  objectPage: {\n    width: '100%',\n    height: '100%',\n    maxHeight: '100vh',\n    position: 'relative',\n    whiteSpace: 'normal',\n    fontFamily: ThemingParameters.sapFontFamily,\n    backgroundColor: ThemingParameters.sapBackgroundColor,\n    overflowX: 'hidden',\n    overflowY: 'auto',\n    [ObjectPageCssVariables.lastSectionMargin]: 0,\n    '& section[id*=\"ObjectPageSection-\"] > div[role=\"heading\"]': {\n      display: 'none'\n    },\n    // explanation why first-child selector is not sufficient here:\n    // https://stackoverflow.com/questions/7128406/css-select-the-first-child-from-elements-with-particular-attribute\n    '& section[id*=\"ObjectPageSection-\"] ~ section[id*=\"ObjectPageSection-\"] > div[role=\"heading\"]': {\n      display: 'block'\n    },\n    '& section[data-component-name=\"ObjectPageSection\"]:last-child': {\n      marginBottom: `var(${ObjectPageCssVariables.lastSectionMargin})`\n    }\n  },\n  '@global html': {\n    [ObjectPageCssVariables.anchorFloat]: 'right',\n    [ObjectPageCssVariables.anchorRight]: '1.25rem',\n    [ObjectPageCssVariables.anchorLeft]: 'unset',\n    [ObjectPageCssVariables.avatarMargin]: '0 1rem 0 0'\n  },\n  '@global [dir=\"rtl\"]': {\n    [ObjectPageCssVariables.anchorFloat]: 'left',\n    [ObjectPageCssVariables.anchorRight]: 'unset',\n    [ObjectPageCssVariables.anchorLeft]: '1.25rem',\n    [ObjectPageCssVariables.avatarMargin]: '0 0 0 1rem'\n  },\n  iconTabBarMode: {\n    '& section[data-component-name=\"ObjectPageSection\"] > div[role=\"heading\"]': {\n      display: 'none'\n    }\n  },\n  noHeader: {\n    '& $header': {\n      display: 'none'\n    },\n    '& $contentHeader': {\n      display: 'none'\n    }\n  },\n  headerCollapsed: {\n    '& $contentHeader': {\n      display: 'none'\n    }\n  },\n  // header\n  header: {\n    flexShrink: 0,\n    backgroundColor: ThemingParameters.sapObjectHeader_Background,\n    position: 'sticky',\n    top: 0,\n    zIndex: 2\n  },\n  iEClass: {\n    position: 'fixed',\n    width: 'calc(100% - 18px)'\n  },\n  iEClassHeader: {\n    width: 'calc(100% - 18px - 2rem)'\n  },\n  iEBackgroundElement: {\n    position: 'fixed',\n    backgroundColor: ThemingParameters.sapObjectHeader_Background\n  },\n  contentHeader: {\n    backgroundColor: ThemingParameters.sapObjectHeader_Background,\n    position: 'sticky',\n    paddingBottom: '0.25rem',\n    maxHeight: '500px',\n    overflow: 'hidden',\n    paddingLeft: '2rem'\n  },\n  anchorBar: {\n    position: 'sticky',\n    zIndex: 2,\n    '--_ui5_tc_header_box_shadow': 'inset 0px -1px 0 0px rgba(0,0,0,0.15)'\n  },\n  titleBar: {\n    padding: '0.5rem 2rem',\n    display: 'block',\n    position: 'relative'\n  },\n  container: {\n    flex: '1 1 70%',\n    boxSizing: 'border-box'\n  },\n  title: {\n    padding: '0.3125rem 0 0 0'\n  },\n  subTitle: {\n    verticalAlign: 'baseline',\n    padding: '0 0 0.5rem 0.5rem'\n  },\n  actions: {\n    position: 'absolute',\n    top: '0',\n    paddingTop: '0.75rem',\n    zIndex: 1,\n    right: `var(${ObjectPageCssVariables.anchorRight})`,\n    left: `var(${ObjectPageCssVariables.anchorLeft})`,\n    display: 'inline-block',\n    float: `var(${ObjectPageCssVariables.anchorFloat})`,\n    verticalAlign: 'top',\n    '& > *': {\n      marginLeft: '0.5rem',\n      padding: 0\n    }\n  },\n  titleInHeaderContent: {\n    '& $subTitle': {\n      padding: '0.5rem 0'\n    },\n    '& $keyInfos': {\n      alignSelf: 'unset'\n    },\n    '& contentHeader': {\n      paddingTop: 0,\n      '& > *': {\n        display: 'flex',\n        verticalAlign: 'top',\n        '&:not(:first-child)': {\n          marginRight: '2rem',\n          marginBottom: '1rem'\n        }\n      }\n    }\n  },\n  headerCustomContent: {\n    display: 'inline-block',\n    verticalAlign: 'top',\n    '& > *': {\n      float: 'left',\n      marginRight: '2rem',\n      marginBottom: '1rem',\n      lineHeight: '1.5rem'\n    },\n    '&:after': {\n      clear: 'both'\n    }\n  },\n  headerCustomContentItem: {\n    marginLeft: '1rem'\n  },\n\n  headerImage: {\n    minWidth: '5rem',\n    maxWidth: '5rem',\n    maxHeight: '5rem',\n    display: 'inline-block',\n    marginRight: '2rem',\n    marginBottom: '1rem'\n  },\n  image: {\n    width: '100%',\n    height: '100%'\n  },\n  keyInfos: {\n    '& > *': {\n      marginLeft: '1rem'\n    },\n    display: 'flex',\n    flexDirection: 'row',\n    alignSelf: 'center'\n  },\n  avatar: {\n    margin: `var(${ObjectPageCssVariables.avatarMargin})`\n  }\n};\n\nexport default styles;\n","export const stopPropagation = (e) => {\n  e.stopPropagation();\n  e.stopImmediatePropagation();\n};\n","import { ListItemTypes } from '@ui5/webcomponents-react/lib/ListItemTypes';\nimport { ValueState } from '@ui5/webcomponents-react/lib/ValueState';\nimport { withWebComponent, WithWebComponentPropTypes } from '@ui5/webcomponents-react/lib/withWebComponent';\nimport '@ui5/webcomponents/dist/StandardListItem';\nimport { FC, ReactNode } from 'react';\n\nexport interface StandardListItemPropTypes extends WithWebComponentPropTypes {\n  /**\n   * Defines the description displayed right under the item text, if such is present.\n   */\n  description?: string;\n  /**\n   * Defines the `icon` source URI.\n   *\n   * **Note:** SAP-icons font provides numerous buil-in icons. To find all the available icons, see the <ui5-link target=\"_blank\" href=\"https://openui5.hana.ondemand.com/test-resources/sap/m/demokit/iconExplorer/webapp/index.html\" class=\"api-table-content-cell-link\">Icon Explorer</ui5-link>.\n   */\n  icon?: string;\n  /**\n   * Defines whether the `icon` should be displayed in the beginning of the list item or in the end.\n   *\n   * **Note:** If `image` is set, the `icon` would be displayed after the `image`.\n   */\n  iconEnd?: boolean;\n  /**\n   * Defines the `image` source URI.\n   *\n   * **Note:** The `image` would be displayed in the beginning of the list item.\n   */\n  image?: string;\n  /**\n   * Defines the `info`, displayed in the end of the list item.\n   */\n  info?: string;\n  /**\n   * Defines the state of the `info`.\n   * Available options are: `\"None\"` (by default), `\"Success\"`, `\"Warning\"`, `\"Information\"` and `\"Erorr\"`.\n   */\n  infoState?: ValueState;\n  /**\n   * Defines the visual indication and behavior of the list items. Available options are `Active` (by default), `Inactive` and `Detail`.\n   *\n   * **Note:** When set to `Active`, the item will provide visual response upon press and hover, while with type `Inactive` and `Detail` - will not.\n   */\n  type?: ListItemTypes;\n  /**\n   * Defines the selected state of the `ListItem`.\n   */\n  selected?: boolean;\n  /**\n   * Defines the text of the `StandardListItem`.\n   *\n   * **Note:** Аlthough this slot accepts HTML Elements, it is strongly recommended that you only use text in order to preserve the intended design.\n   */\n  children?: ReactNode | ReactNode[];\n  /**\n   * Fired when the user clicks on the detail button when type is `Detail`.\n   */\n  onDetailClick?: (event: CustomEvent) => void;\n}\n\n/**\n * The `StandardListItem` represents the simplest type of item for a `StandardListItemst`. This is a list item, providing the most common use cases such as `text`, `image` and `icon`\n *\n * <a href=\"https://sap.github.io/ui5-webcomponents/playground/components/StandardListItem\" target=\"_blank\">UI5 Web Components Playground</a>\n */\nconst StandardListItem: FC<StandardListItemPropTypes> = withWebComponent<StandardListItemPropTypes>(\n  'ui5-li',\n  ['description', 'icon', 'image', 'info', 'infoState', 'type'],\n  ['iconEnd', 'selected'],\n  [],\n  ['detail-click']\n);\n\nStandardListItem.displayName = 'StandardListItem';\n\nStandardListItem.defaultProps = {\n  iconEnd: false,\n  infoState: ValueState.None,\n  type: ListItemTypes.Active,\n  selected: false\n};\n\nexport { StandardListItem };\n","import '@ui5/webcomponents-icons/dist/slim-arrow-down';\nimport { Tab } from '@ui5/webcomponents-react/lib/Tab';\nimport React, { FC, useEffect, useRef } from 'react';\n\ninterface ObjectPageAnchorPropTypes {\n  section: any;\n  onShowSubSectionPopover: (event: any, section: any) => void;\n  index: number;\n  selected: boolean;\n}\n\nexport const ObjectPageAnchorButton: FC<ObjectPageAnchorPropTypes> = (props: ObjectPageAnchorPropTypes) => {\n  const ref = useRef<HTMLElement>();\n  const { section, index, selected, onShowSubSectionPopover } = props;\n\n  let subSectionsAvailable = false;\n  if (section.props.children && section.props.children.filter) {\n    const subSections = section.props.children.filter((item) => item.props && item.props.isSubSection);\n    subSectionsAvailable = subSections.length > 0;\n  }\n\n  useEffect(() => {\n    if (subSectionsAvailable) {\n      try {\n        const element = ref.current?.parentElement?.shadowRoot?.querySelector(\n          `.ui5-tc__headerList li[aria-posinset=\"${index + 1}\"] .ui5-tab-strip-itemContent`\n        );\n\n        if (element && !element.querySelector('ui5-icon')) {\n          const icon = document.createElement('ui5-icon');\n          (icon as any).name = 'slim-arrow-down';\n          icon.style.verticalAlign = 'text-bottom';\n          icon.style.pointerEvents = 'all';\n          icon.addEventListener('click', (e) => {\n            e.stopImmediatePropagation();\n            e.preventDefault();\n            e.stopPropagation();\n            onShowSubSectionPopover(e, section);\n          });\n          element.appendChild(icon);\n        }\n      } catch (e) {\n        // empty catch block, mainly required for tests\n      }\n    }\n  }, [subSectionsAvailable, ref, onShowSubSectionPopover, section]);\n\n  return (\n    <Tab\n      ref={ref}\n      data-index={index}\n      data-section-id={section.props.id}\n      text={section.props.title}\n      selected={selected}\n    />\n  );\n};\n","import { Children, ReactElement, ReactNode, RefObject } from 'react';\n\nexport const safeGetChildrenArray = <T = Exclude<ReactNode, boolean | null | undefined>>(children: unknown): T[] =>\n  Children.toArray(children).filter(Boolean) as T[];\n\nexport const getSectionById = (sections: ReactElement<any> | ReactElement<any>[], id) => {\n  return safeGetChildrenArray(sections).find((objectPageSection: ReactElement) => objectPageSection.props?.id === id);\n};\n\nexport const extractSectionIdFromHtmlId = (id: string) => {\n  return id.replace(/^ObjectPageSection-/, '');\n};\n\nexport const getLastObjectPageSection = (ref: RefObject<HTMLDivElement>): HTMLElement => {\n  const sections = ref.current?.querySelectorAll<HTMLElement>('[id^=\"ObjectPageSection\"]');\n  if (!sections || sections.length < 1) {\n    return null;\n  }\n\n  return sections[sections.length - 1];\n};\n","import { addCustomCSS } from '@ui5/webcomponents-base/dist/Theming';\nimport '@ui5/webcomponents-icons/dist/pushpin-off';\nimport '@ui5/webcomponents-icons/dist/slim-arrow-down';\nimport '@ui5/webcomponents-icons/dist/slim-arrow-up';\nimport { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\nimport { enrichEventWithDetails } from '@ui5/webcomponents-react-base/lib/Utils';\nimport { Button } from '@ui5/webcomponents-react/lib/Button';\nimport { List } from '@ui5/webcomponents-react/lib/List';\nimport { PlacementType } from '@ui5/webcomponents-react/lib/PlacementType';\nimport { Popover } from '@ui5/webcomponents-react/lib/Popover';\nimport { TabContainer } from '@ui5/webcomponents-react/lib/TabContainer';\nimport { ToggleButton } from '@ui5/webcomponents-react/lib/ToggleButton';\nimport React, { CSSProperties, forwardRef, ReactElement, RefObject, useCallback, useRef, useState } from 'react';\nimport { createUseStyles } from 'react-jss';\nimport { Ui5PopoverDomRef } from '../../interfaces/Ui5PopoverDomRef';\nimport { stopPropagation } from '../../internal/stopPropagation';\nimport { StandardListItem } from '../../webComponents/StandardListItem';\nimport { ObjectPageAnchorButton } from './ObjectPageAnchorButton';\nimport { safeGetChildrenArray } from './ObjectPageUtils';\nimport { createPortal } from 'react-dom';\nimport { useI18nBundle } from '@ui5/webcomponents-react-base/lib/hooks';\nimport {\n  COLLAPSE_HEADER,\n  EXPAND_HEADER,\n  PIN_HEADER,\n  UNPIN_HEADER\n} from '@ui5/webcomponents-react/dist/assets/i18n/i18n-defaults';\n\naddCustomCSS(\n  'ui5-button',\n  `\n  :host([data-ui5wcr-object-page-header-action]){\n    width: 1.375rem;\n    height: 1.375rem;\n    min-width: 1.375rem;\n  }\n  :host([data-ui5wcr-object-page-header-action]) .ui5-button-root {\n    padding: 0;\n  }`\n);\naddCustomCSS(\n  'ui5-togglebutton',\n  `\n  :host([data-ui5wcr-object-page-header-action]){\n    width: 1.375rem;\n    height: 1.375rem;\n    min-width: 1.375rem;\n  }\n  :host([data-ui5wcr-object-page-header-action]) .ui5-button-root {\n    padding: 0;\n  }`\n);\n\nconst anchorBarStyles = {\n  anchorBarActionButton: {\n    position: 'absolute',\n    top: `-0.6875rem`,\n    marginLeft: `-0.6875rem`,\n    left: '50%',\n    '&:before, &:after': {\n      content: '\"\"',\n      position: 'absolute',\n      width: '4rem',\n      top: '50%',\n      height: '0.0625rem'\n    },\n    '&:before': {\n      right: '100%',\n      backgroundImage: `linear-gradient(to left, ${ThemingParameters.sapHighlightColor}, rgba(8,84,160,0))`\n    },\n    '&:after': {\n      backgroundImage: `linear-gradient(to right, ${ThemingParameters.sapHighlightColor}, rgba(8,84,160,0))`,\n      left: '100%'\n    }\n  },\n  anchorBarActionButtonExpandable: {},\n  anchorBarActionButtonPinnable: {},\n  anchorBarActionPinnableAndExandable: {\n    '&$anchorBarActionButtonPinnable': {\n      marginLeft: '0.25rem',\n      '&:before': {\n        backgroundImage: 'none'\n      }\n    },\n    '&$anchorBarActionButtonExpandable': {\n      marginLeft: '-1.75rem'\n    }\n  }\n};\n\nconst useStyles = createUseStyles(anchorBarStyles, { name: 'ObjectPageAnchorBar' });\n\ninterface Props {\n  sections: ReactElement | ReactElement[];\n  selectedSectionId: string;\n  handleOnSectionSelected: (e: unknown) => void;\n  handleOnSubSectionSelected: (e: unknown) => void;\n  showHideHeaderButton: boolean;\n  headerContentPinnable: boolean;\n  headerPinned: boolean;\n  headerContentHeight: number;\n  setHeaderPinned: (payload: any) => void;\n  style?: CSSProperties;\n  onToggleHeaderContentVisibility: (e: any) => void;\n  className: string;\n}\n\nconst ObjectPageAnchorBar = forwardRef((props: Props, ref: RefObject<HTMLElement>) => {\n  const {\n    sections,\n    selectedSectionId,\n    handleOnSectionSelected,\n    handleOnSubSectionSelected,\n    showHideHeaderButton,\n    headerContentPinnable,\n    onToggleHeaderContentVisibility,\n    headerPinned,\n    setHeaderPinned,\n    headerContentHeight,\n    style,\n    className\n  } = props;\n\n  const classes = useStyles();\n\n  const shouldRenderHideHeaderButton = showHideHeaderButton;\n  const shouldRenderHeaderPinnableButton = headerContentPinnable && headerContentHeight > 0;\n  const showBothActions = shouldRenderHeaderPinnableButton && shouldRenderHideHeaderButton;\n  const [popoverContent, setPopoverContent] = useState<ReactElement>(null);\n  const popoverRef = useRef<Ui5PopoverDomRef>(null);\n\n  const onPinHeader = useCallback(\n    (e) => {\n      setHeaderPinned(e.target.pressed);\n    },\n    [setHeaderPinned]\n  );\n\n  const onTabItemSelect = useCallback(\n    (event) => {\n      const { sectionId, index } = event.detail.tab.dataset;\n      // eslint-disable-next-line eqeqeq\n      const section = safeGetChildrenArray<ReactElement>(sections).find((el) => el.props.id == sectionId);\n      handleOnSectionSelected(\n        enrichEventWithDetails({} as any, {\n          ...section,\n          index\n        })\n      );\n    },\n    [sections]\n  );\n\n  const onShowSubSectionPopover = useCallback(\n    (e, section) => {\n      setPopoverContent(section);\n      popoverRef.current.openBy(e.target.parentElement);\n    },\n    [setPopoverContent, popoverRef]\n  );\n\n  const onSubSectionClick = useCallback(\n    (e) => {\n      const selectedId = e.detail.item.dataset.key;\n      const subSection = popoverContent.props.children\n        .filter((item) => item.props && item.props.isSubSection)\n        .find((item) => item.props.id === selectedId);\n      if (subSection) {\n        handleOnSubSectionSelected(enrichEventWithDetails(e, { section: popoverContent, subSection }));\n      }\n      popoverRef.current.close();\n    },\n    [handleOnSubSectionSelected, popoverRef, popoverContent]\n  );\n\n  const i18nBundle = useI18nBundle('@ui5/webcomponents-react');\n\n  return (\n    <section className={className} role=\"navigation\" style={style} ref={ref}>\n      <TabContainer collapsed fixed onTabSelect={onTabItemSelect} showOverflow>\n        {safeGetChildrenArray(sections).map((section: ReactElement, index) => {\n          return (\n            <ObjectPageAnchorButton\n              key={`Anchor-${section.props?.id}`}\n              section={section}\n              index={index}\n              selected={selectedSectionId === section.props?.id}\n              onShowSubSectionPopover={onShowSubSectionPopover}\n            />\n          );\n        })}\n      </TabContainer>\n      {shouldRenderHideHeaderButton && (\n        <Button\n          icon={headerContentHeight === 0 ? 'slim-arrow-down' : 'slim-arrow-up'}\n          onClick={onToggleHeaderContentVisibility}\n          className={`${classes.anchorBarActionButton} ${classes.anchorBarActionButtonExpandable} ${\n            showBothActions ? classes.anchorBarActionPinnableAndExandable : ''\n          }`}\n          data-ui5wcr-object-page-header-action=\"\"\n          tooltip={i18nBundle.getText(headerContentHeight === 0 ? EXPAND_HEADER : COLLAPSE_HEADER)}\n          aria-label={i18nBundle.getText(headerContentHeight === 0 ? EXPAND_HEADER : COLLAPSE_HEADER)}\n        />\n      )}\n      {shouldRenderHeaderPinnableButton && (\n        <ToggleButton\n          icon=\"pushpin-off\"\n          pressed={headerPinned}\n          onClick={onPinHeader}\n          className={`${classes.anchorBarActionButton} ${classes.anchorBarActionButtonPinnable} ${\n            showBothActions ? classes.anchorBarActionPinnableAndExandable : ''\n          }`}\n          data-ui5wcr-object-page-header-action=\"\"\n          tooltip={i18nBundle.getText(headerPinned ? UNPIN_HEADER : PIN_HEADER)}\n          aria-label={i18nBundle.getText(headerPinned ? UNPIN_HEADER : PIN_HEADER)}\n        />\n      )}\n      {createPortal(\n        <Popover placementType={PlacementType.Bottom} noArrow ref={popoverRef} onAfterClose={stopPropagation}>\n          <List onItemClick={onSubSectionClick}>\n            {popoverContent?.props?.children\n              .filter((item) => item.props && item.props.isSubSection)\n              .map((item) => (\n                <StandardListItem key={item.props.id} data-key={item.props.id}>\n                  {item.props.title}\n                </StandardListItem>\n              ))}\n          </List>\n        </Popover>,\n        document.body\n      )}\n    </section>\n  );\n});\n\nObjectPageAnchorBar.displayName = 'ObjectPageAnchorBar';\n\nexport { ObjectPageAnchorBar };\n","import { StyleClassHelper } from '@ui5/webcomponents-react-base/lib/StyleClassHelper';\nimport { isIE } from '@ui5/webcomponents-react-base/lib/Device';\nimport { AvatarSize } from '@ui5/webcomponents-react/lib/AvatarSize';\nimport { FlexBox } from '@ui5/webcomponents-react/lib/FlexBox';\nimport { FlexBoxDirection } from '@ui5/webcomponents-react/lib/FlexBoxDirection';\nimport { Label } from '@ui5/webcomponents-react/lib/Label';\nimport { Title } from '@ui5/webcomponents-react/lib/Title';\nimport { TitleLevel } from '@ui5/webcomponents-react/lib/TitleLevel';\nimport { Toolbar } from '@ui5/webcomponents-react/lib/Toolbar';\nimport { ToolbarDesign } from '@ui5/webcomponents-react/lib/ToolbarDesign';\nimport { ToolbarSpacer } from '@ui5/webcomponents-react/lib/ToolbarSpacer';\nimport { ToolbarStyle } from '@ui5/webcomponents-react/lib/ToolbarStyle';\nimport React, { CSSProperties, forwardRef, ReactElement, ReactNode, RefObject, useMemo } from 'react';\nimport { safeGetChildrenArray } from './ObjectPageUtils';\n\ninterface Props {\n  image: string | ReactElement;\n  imageShapeCircle: boolean;\n  classes: any;\n  showTitleInHeaderContent: boolean;\n  headerContentProp: ReactElement;\n  breadcrumbs: ReactNode;\n  keyInfos: ReactNode;\n  title: string;\n  subTitle: string;\n  headerPinned: boolean;\n  topHeaderHeight: number;\n  headerActions: ReactElement<unknown>[];\n}\n\nexport const ObjectPageHeader = forwardRef((props: Props, ref: RefObject<HTMLDivElement>) => {\n  const {\n    image,\n    classes,\n    imageShapeCircle,\n    showTitleInHeaderContent,\n    headerContentProp,\n    breadcrumbs,\n    title,\n    subTitle,\n    keyInfos,\n    headerPinned,\n    topHeaderHeight,\n    headerActions\n  } = props;\n\n  const avatar = useMemo(() => {\n    if (!image) {\n      return null;\n    }\n\n    if (typeof image === 'string') {\n      return (\n        <span\n          className={classes.headerImage}\n          style={{ borderRadius: imageShapeCircle ? '50%' : 0, overflow: 'hidden' }}\n        >\n          <img src={image} className={classes.image} alt=\"Company Logo\" />\n        </span>\n      );\n    } else {\n      return React.cloneElement(image, {\n        size: AvatarSize.L,\n        className: image.props?.className ? `${classes.headerImage} ${image.props?.className}` : classes.headerImage\n      } as unknown);\n    }\n  }, [image, classes.headerImage, classes.image, imageShapeCircle]);\n\n  const headerStyles = useMemo<CSSProperties>(() => {\n    if (headerPinned || isIE()) {\n      return {\n        top: `${topHeaderHeight}px`,\n        zIndex: 1\n      };\n    }\n\n    return null;\n  }, [headerPinned, topHeaderHeight]);\n\n  let renderedHeaderContent = (\n    <>\n      {avatar}\n      {headerContentProp && <span className={classes.headerCustomContent}>{headerContentProp}</span>}\n    </>\n  );\n\n  if (showTitleInHeaderContent) {\n    let firstElement;\n    let contents = [];\n\n    if (headerContentProp?.type === React.Fragment) {\n      [firstElement, ...contents] = safeGetChildrenArray(headerContentProp.props.children);\n    } else {\n      firstElement = headerContentProp;\n    }\n    renderedHeaderContent = (\n      <>\n        <FlexBox>\n          {avatar}\n          <FlexBox direction={FlexBoxDirection.Column}>\n            <div>{breadcrumbs}</div>\n            <FlexBox>\n              <FlexBox direction={FlexBoxDirection.Column}>\n                <Title level={TitleLevel.H3} className={classes.title}>\n                  {title}\n                </Title>\n                <Label className={classes.subTitle}>{subTitle}</Label>\n                <span> {firstElement}</span>\n              </FlexBox>\n              <FlexBox>\n                {contents.map((c, index) => (\n                  <div key={`customContent-${index}`} className={classes.headerCustomContentItem}>\n                    {c}\n                  </div>\n                ))}\n              </FlexBox>\n              <div className={classes.keyInfos}>{keyInfos}</div>\n            </FlexBox>\n          </FlexBox>\n          <Toolbar toolbarStyle={ToolbarStyle.Clear} design={ToolbarDesign.Transparent}>\n            <ToolbarSpacer />\n            {headerActions}\n          </Toolbar>\n        </FlexBox>\n      </>\n    );\n  }\n\n  const headerClasses = StyleClassHelper.of(classes.contentHeader);\n  if (isIE()) {\n    headerClasses.put(classes.iEClass);\n    headerClasses.put(classes.iEClassHeader);\n  }\n\n  return (\n    <div style={headerStyles} className={headerClasses.className} ref={ref}>\n      {renderedHeaderContent}\n    </div>\n  );\n});\n\nObjectPageHeader.displayName = 'ObjectPageHeader';\n","import { useEffect, useState } from 'react';\n\ndeclare const ResizeObserver;\n\nexport const useObserveHeights = (objectPage, topHeader, headerContentRef, anchorBarRef, { noHeader }) => {\n  const [topHeaderHeight, setTopHeaderHeight] = useState(0);\n  const [headerContentHeight, setHeaderContentHeight] = useState(0);\n  const [isIntersecting, setIsIntersecting] = useState(true);\n\n  useEffect(() => {\n    const headerIntersectionObserver = new IntersectionObserver(\n      ([header]) => {\n        if (header.isIntersecting) {\n          setIsIntersecting(true);\n          setHeaderContentHeight((header.target as HTMLElement).offsetHeight);\n        } else {\n          setIsIntersecting(false);\n          setHeaderContentHeight(0);\n        }\n      },\n      { rootMargin: `-${topHeaderHeight}px 0px 0px 0px`, root: objectPage.current, threshold: 0.3 }\n    );\n\n    if (headerContentRef.current) {\n      headerIntersectionObserver.observe(headerContentRef.current);\n    }\n\n    return () => {\n      headerIntersectionObserver.disconnect();\n    };\n  }, [topHeaderHeight, setHeaderContentHeight, headerContentRef, setIsIntersecting]);\n\n  // top header\n  useEffect(() => {\n    const headerContentResizeObserver = new ResizeObserver(([header]) => {\n      setTopHeaderHeight(header?.contentRect?.height ?? 0);\n    });\n    if (topHeader.current) {\n      headerContentResizeObserver.observe(topHeader.current);\n    }\n    return () => {\n      headerContentResizeObserver.disconnect();\n    };\n  }, [topHeader.current, setTopHeaderHeight]);\n\n  // header content\n  useEffect(() => {\n    const headerContentResizeObserver = new ResizeObserver(([headerContent]) => {\n      if (isIntersecting) {\n        setHeaderContentHeight(headerContent?.contentRect?.height ?? 0);\n      }\n    });\n\n    if (headerContentRef.current) {\n      headerContentResizeObserver.observe(headerContentRef.current);\n    }\n    return () => {\n      headerContentResizeObserver.disconnect();\n    };\n  }, [headerContentRef.current, setHeaderContentHeight, isIntersecting]);\n\n  const anchorBarHeight = anchorBarRef.current?.offsetHeight ?? 33;\n  const totalHeaderHeight = (noHeader ? 0 : topHeaderHeight + headerContentHeight) + anchorBarHeight;\n\n  return { topHeaderHeight, headerContentHeight, anchorBarHeight, totalHeaderHeight };\n};\n","import { isIE } from '@ui5/webcomponents-react-base/lib/Device';\nimport { createUseStyles } from 'react-jss';\nimport { StyleClassHelper } from '@ui5/webcomponents-react-base/lib/StyleClassHelper';\nimport { useConsolidatedRef } from '@ui5/webcomponents-react-base/lib/useConsolidatedRef';\nimport { usePassThroughHtmlProps } from '@ui5/webcomponents-react-base/lib/usePassThroughHtmlProps';\nimport { enrichEventWithDetails, getScrollBarWidth } from '@ui5/webcomponents-react-base/lib/Utils';\nimport { FlexBox } from '@ui5/webcomponents-react/lib/FlexBox';\nimport { FlexBoxAlignItems } from '@ui5/webcomponents-react/lib/FlexBoxAlignItems';\nimport { FlexBoxDirection } from '@ui5/webcomponents-react/lib/FlexBoxDirection';\nimport { GlobalStyleClasses } from '@ui5/webcomponents-react/lib/GlobalStyleClasses';\nimport { Label } from '@ui5/webcomponents-react/lib/Label';\nimport { ObjectPageMode } from '@ui5/webcomponents-react/lib/ObjectPageMode';\nimport { Title } from '@ui5/webcomponents-react/lib/Title';\nimport { TitleLevel } from '@ui5/webcomponents-react/lib/TitleLevel';\nimport { Toolbar } from '@ui5/webcomponents-react/lib/Toolbar';\nimport { ToolbarDesign } from '@ui5/webcomponents-react/lib/ToolbarDesign';\nimport { ToolbarSpacer } from '@ui5/webcomponents-react/lib/ToolbarSpacer';\nimport { ToolbarStyle } from '@ui5/webcomponents-react/lib/ToolbarStyle';\nimport { CommonProps } from '@ui5/webcomponents-react/interfaces/CommonProps';\nimport debounce from 'lodash/debounce';\nimport React, {\n  ComponentType,\n  FC,\n  forwardRef,\n  ReactElement,\n  ReactNode,\n  RefObject,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState\n} from 'react';\nimport { ObjectPageSectionPropTypes } from '../ObjectPageSection';\nimport { ObjectPageSubSectionPropTypes } from '../ObjectPageSubSection';\nimport { CollapsedAvatar } from './CollapsedAvatar';\nimport styles, { ObjectPageCssVariables } from './ObjectPage.jss';\nimport { ObjectPageAnchorBar } from './ObjectPageAnchorBar';\nimport { ObjectPageHeader } from './ObjectPageHeader';\nimport {\n  extractSectionIdFromHtmlId,\n  getLastObjectPageSection,\n  getSectionById,\n  safeGetChildrenArray\n} from './ObjectPageUtils';\nimport { useObserveHeights } from './useObserveHeights';\n\ndeclare const ResizeObserver;\n\nconst SCROLL_BAR_WIDTH = 12;\n\nexport interface ObjectPagePropTypes extends CommonProps {\n  /**\n   * Defines the title of the `ObjectPage`.\n   */\n  title?: string;\n  /**\n   * Defines the subheading of the `ObjectPage`.\n   */\n  subTitle?: string;\n  /**\n   * Defines the image of the `ObjectPage`. You can pass a path to an image or an `Avatar` component.\n   */\n  image?: string | ReactElement<unknown>;\n  /**\n   * Defines the actions in the header toolbar.\n   */\n  headerActions?: ReactElement<unknown>[];\n  /**\n   * The header content displays app-specific contextual information. You build the content using containers.\n   The containers are arranged inline with a left float. If the containers do not all fit on one line, those on the right wrap to the line below.\n   The header content is hidden by scrolling down the page or clicking the collapse indicator.\n   */\n  headerContent?: ReactNode;\n  /**\n   * Defines the content area of the `ObjectPage`. It consists of sections and subsections.<br />\n   * __Note:__ Although this prop accepts all HTML Elements, it is strongly recommended that you only use `ObjectPageSection` and `ObjectPageSubSection` in order to preserve the intended design.\n   */\n  children?: ReactElement<ObjectPageSectionPropTypes> | ReactElement<ObjectPageSectionPropTypes>[];\n  /**\n   * Defines the ID of the currently `ObjectPageSection` section.\n   */\n  selectedSectionId?: string;\n  /**\n   * Defines the ID of the currently `ObjectPageSubSection` section.\n   */\n  selectedSubSectionId?: string;\n  /**\n   * Fired when the selected section changes.\n   */\n  onSelectedSectionChanged?: (\n    event: CustomEvent<{ selectedSectionIndex: number; selectedSectionId: string; section: ComponentType }>\n  ) => void;\n  /**\n   * Defines the breadcrumbs above the `ObjectPage` heading.<br />\n   * __Note:__ Although this prop accepts all HTML Elements, it is strongly recommended that you only use `Breadcrumbs` in order to preserve the intended design.\n   */\n  breadcrumbs?: ReactNode;\n  /**\n   * Defines the key information section in the header of the `ObjectPage`.\n   */\n  keyInfos?: ReactNode;\n\n  // appearance\n  /**\n   * Defines whether the header is hidden by scrolling down.\n   */\n  alwaysShowContentHeader?: boolean;\n  /**\n   * Defines whether the title is displayed in the content section of the header or above the image.\n   */\n  showTitleInHeaderContent?: boolean;\n  /**\n   * Defines whether the image should be displayed in a circle or in a square.<br />\n   * __Note:__ If the `image` is not a `string`, this prop has no effect.\n   */\n  imageShapeCircle?: boolean;\n  /**\n   * Defines the `ObjectPage` mode.\n   *\n   * - \"Default\": All `ObjectPageSections` and `ObjectPageSubSections` are displayed on one page. Selecting tabs will scroll to the corresponding section.\n   * - \"IconTabBar\": All `ObjectPageSections` are displayed on separate pages. Selecting tabs will lead to the corresponding page.\n   */\n  mode?: ObjectPageMode;\n  /**\n   * Defines whether the header is displayed.\n   */\n  noHeader?: boolean;\n  /**\n   * Defines whether the pin button of the header is displayed.\n   */\n  showHideHeaderButton?: boolean;\n  /**\n   * Defines whether the header content is pinnable.\n   */\n  headerContentPinnable?: boolean;\n}\n\nconst useStyles = createUseStyles(styles, { name: 'ObjectPage' });\n\n/**\n * A component that allows apps to easily display information related to a business object.<br />\n * The `ObjectPage` is composed of a header (title and content) and block content wrapped in sections and subsections that structure the information.\n */\nconst ObjectPage: FC<ObjectPagePropTypes> = forwardRef((props: ObjectPagePropTypes, ref: RefObject<HTMLDivElement>) => {\n  const {\n    title,\n    image,\n    subTitle,\n    headerActions,\n    mode,\n    imageShapeCircle,\n    className,\n    style,\n    tooltip,\n    slot,\n    showHideHeaderButton,\n    children,\n    onSelectedSectionChanged,\n    selectedSectionId,\n    noHeader,\n    alwaysShowContentHeader,\n    showTitleInHeaderContent,\n    headerContentPinnable,\n    headerContent,\n    breadcrumbs,\n    keyInfos\n  } = props;\n\n  const firstSectionId = safeGetChildrenArray<ReactElement>(children)[0]?.props?.id;\n\n  const [internalSelectedSectionId, setInternalSelectedSectionId] = useState(selectedSectionId ?? firstSectionId);\n  const [selectedSubSectionId, setSelectedSubSectionId] = useState(props.selectedSubSectionId);\n  const [headerPinned, setHeaderPinned] = useState(alwaysShowContentHeader);\n  const isProgrammaticallyScrolled = useRef(false);\n\n  const objectPageRef: RefObject<HTMLDivElement> = useConsolidatedRef(ref);\n  const topHeaderRef: RefObject<HTMLDivElement> = useRef();\n  const headerContentRef: RefObject<HTMLDivElement> = useRef();\n  const anchorBarRef: RefObject<HTMLDivElement> = useRef();\n\n  const [scrollbarWidth, setScrollbarWidth] = useState(SCROLL_BAR_WIDTH);\n  const isMounted = useRef(false);\n\n  // observe heights of header parts\n  const { topHeaderHeight, headerContentHeight, anchorBarHeight, totalHeaderHeight } = useObserveHeights(\n    objectPageRef,\n    topHeaderRef,\n    headerContentRef,\n    anchorBarRef,\n    { noHeader }\n  );\n\n  // *****\n  // SECTION SELECTION\n  // ****\n\n  const scrollToSection = useCallback(\n    (sectionId) => {\n      if (!sectionId) {\n        return;\n      }\n      if (firstSectionId === sectionId) {\n        objectPageRef.current?.scrollTo({ top: 0, behavior: 'smooth' });\n      } else {\n        const childOffset = objectPageRef.current?.querySelector<HTMLElement>(`#ObjectPageSection-${sectionId}`)\n          ?.offsetTop;\n        if (!isNaN(childOffset)) {\n          objectPageRef.current?.scrollTo({\n            top: childOffset - topHeaderHeight - anchorBarHeight - (headerPinned ? headerContentHeight : 0) + 45,\n            behavior: 'smooth'\n          });\n        }\n      }\n      isProgrammaticallyScrolled.current = false;\n    },\n    [firstSectionId, objectPageRef, topHeaderHeight, anchorBarHeight, headerPinned, headerContentHeight]\n  );\n\n  // change selected section when prop is changed (external change)\n  useEffect(() => {\n    isProgrammaticallyScrolled.current = true;\n    setInternalSelectedSectionId(selectedSectionId ?? firstSectionId);\n  }, [selectedSectionId, isProgrammaticallyScrolled, firstSectionId]);\n\n  // section was selected by clicking on the anchor bar buttons\n  const handleOnSectionSelected = useCallback(\n    (e) => {\n      isProgrammaticallyScrolled.current = true;\n      const newSelectionSection = e.detail.props?.id;\n      setInternalSelectedSectionId((oldSelectedSection) => {\n        if (oldSelectedSection === newSelectionSection) {\n          scrollToSection(newSelectionSection);\n        }\n        return newSelectionSection;\n      });\n      fireOnSelectedChangedEvent(e);\n    },\n    [onSelectedSectionChanged, setInternalSelectedSectionId, isProgrammaticallyScrolled, scrollToSection]\n  );\n\n  // do internal scrolling\n  useEffect(() => {\n    if (!isMounted.current) return;\n\n    if (mode === ObjectPageMode.Default && isProgrammaticallyScrolled.current === true) {\n      scrollToSection(internalSelectedSectionId);\n    }\n  }, [internalSelectedSectionId, isMounted, mode, isProgrammaticallyScrolled, scrollToSection]);\n\n  // Scrolling for Sub Section Selection\n  useEffect(() => {\n    if (selectedSubSectionId && isProgrammaticallyScrolled.current === true) {\n      const childOffset = objectPageRef.current?.querySelector<HTMLElement>(\n        `div[id=\"ObjectPageSubSection-${selectedSubSectionId}\"]`\n      )?.offsetTop;\n      if (!isNaN(childOffset)) {\n        objectPageRef.current?.scrollTo({\n          top: childOffset - topHeaderHeight - anchorBarHeight - (headerPinned ? headerContentHeight : 0) + 45,\n          behavior: 'smooth'\n        });\n      }\n\n      isProgrammaticallyScrolled.current = false;\n    }\n  }, [\n    selectedSubSectionId,\n    isProgrammaticallyScrolled,\n    topHeaderHeight,\n    anchorBarHeight,\n    headerPinned,\n    headerContentHeight\n  ]);\n\n  useEffect(() => {\n    setHeaderPinned(alwaysShowContentHeader);\n  }, [setHeaderPinned, alwaysShowContentHeader]);\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    setSelectedSubSectionId(props.selectedSubSectionId);\n    if (props.selectedSubSectionId) {\n      isProgrammaticallyScrolled.current = true;\n      if (mode === ObjectPageMode.IconTabBar) {\n        let sectionId;\n        safeGetChildrenArray<ReactElement<ObjectPageSectionPropTypes>>(children).forEach((section) => {\n          if (React.isValidElement(section) && section.props && section.props.children) {\n            safeGetChildrenArray(section.props.children).forEach(\n              (subSection: ReactElement<ObjectPageSubSectionPropTypes>) => {\n                if (\n                  React.isValidElement(subSection) &&\n                  subSection.props &&\n                  subSection.props.id === props.selectedSubSectionId\n                ) {\n                  sectionId = section.props?.id;\n                }\n              }\n            );\n          }\n        });\n\n        if (sectionId) {\n          setInternalSelectedSectionId(sectionId);\n        }\n      }\n    }\n  }, [\n    props.selectedSubSectionId,\n    setInternalSelectedSectionId,\n    setSelectedSubSectionId,\n    children,\n    mode,\n    isProgrammaticallyScrolled\n  ]);\n\n  useEffect(() => {\n    const fillerDivObserver = new ResizeObserver(() => {\n      let heightDiff = 0;\n\n      const maxHeight = Math.min(objectPageRef.current?.clientHeight, window.innerHeight);\n      const availableScrollHeight = maxHeight - totalHeaderHeight;\n      const lastSectionDomRef = getLastObjectPageSection(objectPageRef);\n\n      if (lastSectionDomRef) {\n        const subSections = lastSectionDomRef.querySelectorAll('[id^=\"ObjectPageSubSection\"]');\n\n        let lastSubSectionHeight;\n        if (subSections.length > 0) {\n          lastSubSectionHeight = (subSections[subSections.length - 1] as HTMLElement).offsetHeight;\n        } else {\n          lastSubSectionHeight =\n            lastSectionDomRef.offsetHeight -\n            lastSectionDomRef.querySelector<HTMLElement>(\"[role='heading']\").offsetHeight;\n        }\n\n        heightDiff = Math.max(0, availableScrollHeight - lastSubSectionHeight);\n\n        if (isNaN(heightDiff)) {\n          heightDiff = 0;\n        }\n      }\n\n      objectPageRef.current?.style.setProperty(ObjectPageCssVariables.lastSectionMargin, `${heightDiff}px`);\n    });\n\n    fillerDivObserver.observe(objectPageRef.current);\n\n    return () => {\n      fillerDivObserver.disconnect();\n    };\n  }, [totalHeaderHeight, objectPageRef, children]);\n\n  const fireOnSelectedChangedEvent = debounce((e) => {\n    onSelectedSectionChanged(\n      enrichEventWithDetails(e, {\n        selectedSectionIndex: e.detail.index,\n        selectedSectionId: e.detail.props.id,\n        section: e.detail\n      })\n    );\n  }, 500);\n\n  const handleOnSubSectionSelected = useCallback(\n    (e) => {\n      isProgrammaticallyScrolled.current = true;\n      if (mode === ObjectPageMode.IconTabBar) {\n        const sectionId = e.detail.section.props?.id;\n        setInternalSelectedSectionId(sectionId);\n      }\n      const subSection = e.detail.subSection;\n      setSelectedSubSectionId(subSection.props.id);\n    },\n    [mode, setInternalSelectedSectionId, setSelectedSubSectionId, isProgrammaticallyScrolled]\n  );\n\n  const onToggleHeaderContentVisibility = useCallback(\n    (e) => {\n      const srcElement = e.target;\n      const shouldHideHeader = srcElement.icon === 'slim-arrow-up';\n      if (shouldHideHeader) {\n        objectPageRef.current?.classList.add(classes.headerCollapsed);\n      } else {\n        objectPageRef.current?.classList.remove(classes.headerCollapsed);\n      }\n\n      requestAnimationFrame(() => {\n        if (objectPageRef.current?.scrollTop > 0 && !shouldHideHeader) {\n          const prevHeaderTop = headerContentRef.current.style.top;\n          headerContentRef.current.style.top = `${topHeaderHeight}px`;\n          const prevAnchorTop = anchorBarRef.current.style.top;\n          anchorBarRef.current.style.top = `${headerContentRef.current.offsetHeight + topHeaderHeight}px`;\n          objectPageRef.current?.addEventListener(\n            'scroll',\n            (e) => {\n              if (prevHeaderTop ?? true) {\n                headerContentRef.current.style.top = prevHeaderTop;\n              } else {\n                headerContentRef.current.style.removeProperty('top');\n              }\n              if (prevAnchorTop ?? true) {\n                anchorBarRef.current.style.top = prevAnchorTop;\n              } else {\n                anchorBarRef.current.style.removeProperty('top');\n              }\n            },\n            { once: true }\n          );\n        }\n      });\n    },\n    [objectPageRef, classes.headerCollapsed, headerContentHeight, topHeaderHeight]\n  );\n\n  useEffect(() => {\n    requestAnimationFrame(() => {\n      const calculatedScrollBarWidth = getScrollBarWidth();\n      if (calculatedScrollBarWidth && calculatedScrollBarWidth !== 0 && calculatedScrollBarWidth !== SCROLL_BAR_WIDTH) {\n        setScrollbarWidth(calculatedScrollBarWidth);\n      }\n    });\n    isMounted.current = true;\n  }, [isMounted, setScrollbarWidth]);\n\n  const objectPageClasses = StyleClassHelper.of(classes.objectPage, GlobalStyleClasses.sapScrollBar);\n  if (className) {\n    objectPageClasses.put(className);\n  }\n\n  if (showTitleInHeaderContent) {\n    objectPageClasses.put(classes.titleInHeaderContent);\n  }\n\n  if (mode === ObjectPageMode.IconTabBar) {\n    objectPageClasses.put(classes.iconTabBarMode);\n  }\n\n  if (noHeader) {\n    objectPageClasses.put(classes.noHeader);\n  }\n\n  const scrollBarWidthPadding = useMemo(() => {\n    return {\n      paddingRight: isIE() ? 0 : `${scrollbarWidth}px`\n    };\n  }, [scrollbarWidth]);\n\n  const passThroughProps = usePassThroughHtmlProps(props, ['onSelectedSectionChanged']);\n\n  useEffect(() => {\n    const objectPageHeight = objectPageRef.current?.clientHeight ?? 1000;\n    const marginBottom = objectPageHeight - totalHeaderHeight;\n    const rootMargin = `-${totalHeaderHeight}px 0px -${marginBottom < 0 ? 0 : marginBottom}px 0px`;\n    const observer = new IntersectionObserver(\n      (elements) => {\n        elements.forEach((section) => {\n          if (section.isIntersecting && isProgrammaticallyScrolled.current === false) {\n            setInternalSelectedSectionId(extractSectionIdFromHtmlId(section.target.id));\n          }\n        });\n      },\n      {\n        root: objectPageRef.current,\n        rootMargin,\n        threshold: [0]\n      }\n    );\n\n    objectPageRef.current?.querySelectorAll('section[data-component-name=\"ObjectPageSection\"]').forEach((el) => {\n      observer.observe(el);\n    });\n\n    return () => {\n      observer.disconnect();\n    };\n  }, [objectPageRef, children, totalHeaderHeight, setInternalSelectedSectionId, isProgrammaticallyScrolled]);\n\n  const headerClasses = StyleClassHelper.of(classes.header);\n  const anchorBarClasses = StyleClassHelper.of(classes.anchorBar);\n  if (isIE()) {\n    headerClasses.put(classes.iEClass);\n    anchorBarClasses.put(classes.iEClass);\n  }\n\n  const anchorBarPositionTop = noHeader\n    ? 0\n    : headerPinned || isIE()\n    ? topHeaderHeight + headerContentHeight\n    : topHeaderHeight;\n\n  return (\n    <div\n      data-component-name=\"ObjectPage\"\n      slot={slot}\n      className={objectPageClasses.toString()}\n      style={style}\n      ref={objectPageRef}\n      title={tooltip}\n      {...passThroughProps}\n    >\n      <header\n        ref={topHeaderRef}\n        role=\"banner\"\n        aria-roledescription=\"Object Page header\"\n        style={scrollBarWidthPadding}\n        className={headerClasses.className}\n      >\n        <div className={classes.titleBar}>\n          {(!showTitleInHeaderContent || headerContentHeight === 0) && (\n            <FlexBox alignItems={FlexBoxAlignItems.Center}>\n              {image && headerContentHeight === 0 && (\n                <div className={classes.avatar}>\n                  <CollapsedAvatar image={image} imageShapeCircle={imageShapeCircle} />\n                </div>\n              )}\n              <FlexBox direction={FlexBoxDirection.Column} className={classes.container}>\n                {breadcrumbs}\n                <FlexBox alignItems={FlexBoxAlignItems.Baseline}>\n                  <Title level={TitleLevel.H3} className={classes.title}>\n                    {title}\n                  </Title>\n                  <Label className={classes.subTitle}>{subTitle}</Label>\n                  <div className={classes.keyInfos}>{keyInfos}</div>\n                </FlexBox>\n              </FlexBox>\n              <Toolbar toolbarStyle={ToolbarStyle.Clear} design={ToolbarDesign.Transparent}>\n                <ToolbarSpacer />\n                {headerActions}\n              </Toolbar>\n            </FlexBox>\n          )}\n        </div>\n      </header>\n      <ObjectPageHeader\n        headerActions={headerActions}\n        image={image}\n        classes={classes}\n        imageShapeCircle={imageShapeCircle}\n        showTitleInHeaderContent={showTitleInHeaderContent}\n        headerContentProp={headerContent as ReactElement}\n        breadcrumbs={breadcrumbs}\n        keyInfos={keyInfos}\n        title={title}\n        subTitle={subTitle}\n        headerPinned={headerPinned}\n        topHeaderHeight={topHeaderHeight}\n        ref={headerContentRef}\n      />\n      <ObjectPageAnchorBar\n        sections={children}\n        selectedSectionId={internalSelectedSectionId}\n        handleOnSectionSelected={handleOnSectionSelected}\n        handleOnSubSectionSelected={handleOnSubSectionSelected}\n        headerContentPinnable={headerContentPinnable}\n        showHideHeaderButton={showHideHeaderButton && !noHeader}\n        headerPinned={headerPinned}\n        setHeaderPinned={setHeaderPinned}\n        headerContentHeight={headerContentHeight}\n        style={{ top: anchorBarPositionTop }}\n        onToggleHeaderContentVisibility={onToggleHeaderContentVisibility}\n        ref={anchorBarRef}\n        className={anchorBarClasses.className}\n      />\n      {isIE() && (\n        <div\n          className={classes.iEBackgroundElement}\n          style={{\n            height: `${anchorBarPositionTop + anchorBarRef.current?.offsetHeight ?? 0}px`,\n            width: `calc(100% - ${\n              objectPageRef?.current?.clientHeight < objectPageRef?.current?.scrollHeight ? '18px' : '0px'\n            })`\n          }}\n        />\n      )}\n      {isIE() ? (\n        <div style={{ marginTop: `${anchorBarPositionTop + anchorBarRef.current?.offsetHeight ?? 0}px` }}>\n          {mode === ObjectPageMode.IconTabBar ? getSectionById(children, internalSelectedSectionId) : children}\n        </div>\n      ) : mode === ObjectPageMode.IconTabBar ? (\n        getSectionById(children, internalSelectedSectionId)\n      ) : (\n        children\n      )}\n    </div>\n  );\n});\n\nObjectPage.displayName = 'ObjectPage';\n\nObjectPage.defaultProps = {\n  title: '',\n  image: null,\n  subTitle: '',\n  headerActions: [],\n  mode: ObjectPageMode.Default,\n  imageShapeCircle: false,\n  showHideHeaderButton: false,\n  onSelectedSectionChanged: () => {\n    /* noop */\n  },\n  noHeader: false\n};\n\nexport { ObjectPage };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}