{"ast":null,"code":"import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport ItemNavigation from \"@ui5/webcomponents-base/dist/delegate/ItemNavigation.js\";\nimport { getLastTabbableElement } from \"@ui5/webcomponents-base/dist/util/TabbableElements.js\";\nimport { isTabNext } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport NavigationMode from \"@ui5/webcomponents-base/dist/types/NavigationMode.js\";\nimport { getEffectiveAriaLabelText } from \"@ui5/webcomponents-base/dist/util/AriaLabelHelper.js\";\nimport ListMode from \"./types/ListMode.js\";\nimport ListSeparators from \"./types/ListSeparators.js\";\nimport BusyIndicator from \"./BusyIndicator.js\";\n\n// Template\nimport ListTemplate from \"./generated/templates/ListTemplate.lit.js\";\n\n// Styles\nimport listCss from \"./generated/themes/List.css.js\";\nconst BUSYINDICATOR_HEIGHT = 48; // px\nconst INFINITE_SCROLL_DEBOUNCE_RATE = 250; // ms\n\n/**\n * @public\n */\nconst metadata = {\n  tag: \"ui5-list\",\n  managedSlots: true,\n  slots: /** @lends sap.ui.webcomponents.main.List.prototype */{\n    /**\n     * Defines the <code>ui5-list</code> header.\n     * <br><br>\n     * <b>Note:</b> When <code>header</code> is set, the\n     * <code>headerText</code> property is ignored.\n     *\n     * @type {HTMLElement[]}\n     * @slot\n     * @public\n     */\n    header: {\n      type: HTMLElement\n    },\n    /**\n     * Defines the items of the <code>ui5-list</code>.\n     * <br><br>\n     * <b>Note:</b> Use <code>ui5-li</code>, <code>ui5-li-custom</code>, and <code>ui5-li-groupheader</code> for the intended design.\n     *\n     * @type {HTMLElement[]}\n     * @slot\n     * @public\n     */\n    \"default\": {\n      propertyName: \"items\",\n      type: HTMLElement\n    }\n  },\n  properties: /** @lends  sap.ui.webcomponents.main.List.prototype */{\n    /**\n     * Defines the <code>ui5-list</code> header text.\n     * <br><br>\n     * <b>Note:</b> If <code>header</code> is set this property is ignored.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    headerText: {\n      type: String\n    },\n    /**\n     * Defines the footer text.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    footerText: {\n      type: String\n    },\n    /**\n     * Determines whether the list items are indented.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    inset: {\n      type: Boolean\n    },\n    /**\n     * Defines the mode of the <code>ui5-list</code>.\n     * <br><br>\n     * <b>Note:</b> Available options are <code>None</code>, <code>SingleSelect</code>, <code>SingleSelectBegin</code>,\n     * <code>SingleSelectEnd</code>, <code>MultiSelect</code>, and <code>Delete</code>.\n     *\n     * @type {ListMode}\n     * @defaultvalue \"None\"\n     * @public\n     */\n    mode: {\n      type: ListMode,\n      defaultValue: ListMode.None\n    },\n    /**\n     * Defines the text that is displayed when the <code>ui5-list</code> contains no items.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    noDataText: {\n      type: String\n    },\n    /**\n     * Defines the item separator style that is used.\n     * <br><br>\n     * <b>Notes:</b>\n     * <ul>\n     * <li>Avalaible options are <code>All</code>, <code>Inner</code>, and <code>None</code>.</li>\n     * <li>When set to <code>None</code>, none of the items are separated by horizontal lines.</li>\n     * <li>When set to <code>Inner</code>, the first item doesn't have a top separator and the last\n     * item doesn't have a bottom separator.</li>\n     * </ul>\n     *\n     * @type {ListSeparators}\n     * @defaultvalue \"All\"\n     * @public\n     */\n    separators: {\n      type: ListSeparators,\n      defaultValue: ListSeparators.All\n    },\n    /**\n     * Defines if the component would fire the <code>load-more</code> event\n     * when the user scrolls to the bottom of the list, and helps achieving an \"infinite scroll\" effect\n     * by adding new items each time.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     * @since 1.0.0-rc.6\n     */\n    infiniteScroll: {\n      type: Boolean\n    },\n    /**\n     * Defines if the component would display a loading indicator at the bottom of the list.\n     * It's especially useful, when combined with <code>infiniteScroll</code>.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     * @since 1.0.0-rc.6\n     */\n    busy: {\n      type: Boolean\n    },\n    /**\n     * @type {String}\n     * @defaultvalue \"\"\n     * @private\n     * @since 1.0.0-rc.8\n     */\n    ariaLabel: {\n      type: String\n    },\n    /**\n     * Receives id(or many ids) of the elements that label the input\n     *\n     * @type {String}\n     * @defaultvalue \"\"\n     * @private\n     * @since 1.0.0-rc.8\n     */\n    ariaLabelledby: {\n      type: String,\n      defaultValue: \"\"\n    },\n    /**\n     * Used to externally manipulate the role of the list\n     *\n     * @private\n     * @type {String}\n     * @defaultvalue \"listbox\"\n     * @since 1.0.0-rc.9\n     */\n    role: {\n      type: String,\n      defaultValue: \"listbox\"\n    }\n  },\n  events: /** @lends  sap.ui.webcomponents.main.List.prototype */{\n    /**\n     * Fired when an item is activated, unless the item's <code>type</code> property\n     * is set to <code>Inactive</code>.\n     *\n     * @event sap.ui.webcomponents.main.List#item-click\n     * @param {HTMLElement} item the clicked item.\n     * @public\n     */\n    \"item-click\": {\n      detail: {\n        item: {\n          type: HTMLElement\n        }\n      }\n    },\n    /**\n     * Fired when the <code>Close</code> button of any item is clicked\n     * <br><br>\n     * <b>Note:</b> This event is applicable to <code>ui5-li-notification</code> items only,\n     * not to be confused with <code>item-delete</code>.\n     *\n     * @event sap.ui.webcomponents.main.List#item-close\n     * @param {HTMLElement} item the item about to be closed.\n     * @public\n     * @since 1.0.0-rc.8\n     */\n    \"item-close\": {\n      detail: {\n        item: {\n          type: HTMLElement\n        }\n      }\n    },\n    /**\n     * Fired when the <code>Toggle</code> button of any item is clicked.\n     * <br><br>\n     * <b>Note:</b> This event is applicable to <code>ui5-li-notification-group</code> items only.\n     *\n     * @event sap.ui.webcomponents.main.List#item-toggle\n     * @param {HTMLElement} item the toggled item.\n     * @public\n     * @since 1.0.0-rc.8\n     */\n    \"item-toggle\": {\n      detail: {\n        item: {\n          type: HTMLElement\n        }\n      }\n    },\n    /**\n     * Fired when the Delete button of any item is pressed.\n     * <br><br>\n     * <b>Note:</b> A Delete button is displayed on each item,\n     * when the <code>ui5-list</code> <code>mode</code> property is set to <code>Delete</code>.\n     *\n     * @event sap.ui.webcomponents.main.List#item-delete\n     * @param {HTMLElement} item the deleted item.\n     * @public\n     */\n    \"item-delete\": {\n      detail: {\n        item: {\n          type: HTMLElement\n        }\n      }\n    },\n    /**\n     * Fired when selection is changed by user interaction\n     * in <code>SingleSelect</code>, <code>SingleSelectBegin</code>, <code>SingleSelectEnd</code> and <code>MultiSelect</code> modes.\n     *\n     * @event sap.ui.webcomponents.main.List#selection-change\n     * @param {Array} selectedItems An array of the selected items.\n     * @param {Array} previouslySelectedItems An array of the previously selected items.\n     * @public\n     */\n    \"selection-change\": {\n      detail: {\n        selectedItems: {\n          type: Array\n        },\n        previouslySelectedItems: {\n          type: Array\n        },\n        selectionComponentPressed: {\n          type: Boolean\n        } // protected, indicates if the user used the selection components to change the selection\n      }\n    },\n\n    /**\n     * Fired when the user scrolls to the bottom of the list.\n     * <br><br>\n     * <b>Note:</b> The event is fired when the <code>infiniteScroll</code> property is enabled.\n     *\n     * @event sap.ui.webcomponents.main.List#load-more\n     * @public\n     * @since 1.0.0-rc.6\n     */\n    \"load-more\": {}\n  }\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code>ui5-list</code> component allows displaying a list of items, advanced keyboard\n * handling support for navigating between items, and predefined modes to improve the development efficiency.\n * <br><br>\n * The <code>ui5-list</code> is Ð° container for the available list items:\n * <ul>\n * <li><code>ui5-li</code></li>\n * <li><code>ui5-li-custom</code></li>\n * <li><code>ui5-li-groupheader</code></li>\n * </ul>\n * <br><br>\n * To benefit from the built-in selection mechanism, you can use the available\n * selection modes, such as\n * <code>SingleSelect</code>, <code>MultiSelect</code> and <code>Delete</code>.\n * <br><br>\n * Additionally, the <code>ui5-list</code> provides header, footer, and customization for the list item separators.\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/List.js\";</code>\n * <br>\n * <code>import \"@ui5/webcomponents/dist/StandardListItem.js\";</code> (for <code>ui5-li</code>)\n * <br>\n * <code>import \"@ui5/webcomponents/dist/CustomListItem.js\";</code> (for <code>ui5-li-custom</code>)\n * <br>\n * <code>import \"@ui5/webcomponents/dist/GroupHeaderListItem.js\";</code> (for <code>ui5-li-groupheader</code>)\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.List\n * @extends UI5Element\n * @tagname ui5-list\n * @appenddocs StandardListItem CustomListItem GroupHeaderListItem\n * @public\n */\nclass List extends UI5Element {\n  static get metadata() {\n    return metadata;\n  }\n  static get render() {\n    return litRender;\n  }\n  static get template() {\n    return ListTemplate;\n  }\n  static get styles() {\n    return listCss;\n  }\n  constructor() {\n    super();\n    this.initItemNavigation();\n\n    // Stores the last focused item within the internal ul element.\n    this._previouslyFocusedItem = null;\n\n    // Indicates that the List is forwarding the focus before or after the internal ul.\n    this._forwardingFocus = false;\n    this._previouslySelectedItem = null;\n    this.addEventListener(\"ui5-_press\", this.onItemPress.bind(this));\n    this.addEventListener(\"ui5-close\", this.onItemClose.bind(this));\n    this.addEventListener(\"ui5-toggle\", this.onItemToggle.bind(this));\n    this.addEventListener(\"ui5-_focused\", this.onItemFocused.bind(this));\n    this.addEventListener(\"ui5-_forward-after\", this.onForwardAfter.bind(this));\n    this.addEventListener(\"ui5-_forward-before\", this.onForwardBefore.bind(this));\n    this.addEventListener(\"ui5-_selection-requested\", this.onSelectionRequested.bind(this));\n    this.addEventListener(\"ui5-_focus-requested\", this.focusUploadCollectionItem.bind(this));\n  }\n  get shouldRenderH1() {\n    return !this.header.length && this.headerText;\n  }\n  get headerID() {\n    return `${this._id}-header`;\n  }\n  get hasData() {\n    return this.getSlottedNodes(\"items\").length !== 0;\n  }\n  get showNoDataText() {\n    return !this.hasData && this.noDataText;\n  }\n  get showBusy() {\n    return this.busy || this.infiniteScroll;\n  }\n  get isMultiSelect() {\n    return this.mode === ListMode.MultiSelect;\n  }\n  get ariaLabelledBy() {\n    if (this.ariaLabelledby || this.ariaLabel) {\n      return undefined;\n    }\n    return this.shouldRenderH1 ? this.headerID : undefined;\n  }\n  get ariaLabelÐ¢xt() {\n    return getEffectiveAriaLabelText(this);\n  }\n  onBeforeRendering() {\n    this.prepareListItems();\n  }\n  initItemNavigation() {\n    this._itemNavigation = new ItemNavigation(this, {\n      navigationMode: NavigationMode.Vertical,\n      getItemsCallback: () => this.getSlottedNodes(\"items\")\n    });\n  }\n  prepareListItems() {\n    const slottedItems = this.getSlottedNodes(\"items\");\n    slottedItems.forEach((item, key) => {\n      const isLastChild = key === slottedItems.length - 1;\n      const showBottomBorder = this.separators === ListSeparators.All || this.separators === ListSeparators.Inner && !isLastChild;\n      item._mode = this.mode;\n      item.hasBorder = showBottomBorder;\n    });\n    this._previouslySelectedItem = null;\n  }\n\n  /*\n  * ITEM SELECTION BASED ON THE CURRENT MODE\n  */\n  onSelectionRequested(event) {\n    const previouslySelectedItems = this.getSelectedItems();\n    let selectionChange = false;\n    this._selectionRequested = true;\n    if (this[`handle${this.mode}`]) {\n      selectionChange = this[`handle${this.mode}`](event.detail.item, event.detail.selected);\n    }\n    if (selectionChange) {\n      this.fireEvent(\"selection-change\", {\n        selectedItems: this.getSelectedItems(),\n        previouslySelectedItems,\n        selectionComponentPressed: event.detail.selectionComponentPressed,\n        key: event.detail.key\n      });\n    }\n  }\n  handleSingleSelect(item) {\n    if (item.selected) {\n      return false;\n    }\n    this.deselectSelectedItems();\n    item.selected = true;\n    return true;\n  }\n  handleSingleSelectBegin(item) {\n    return this.handleSingleSelect(item);\n  }\n  handleSingleSelectEnd(item) {\n    return this.handleSingleSelect(item);\n  }\n  handleSingleSelectAuto(item) {\n    return this.handleSingleSelect(item);\n  }\n  handleMultiSelect(item, selected) {\n    item.selected = selected;\n    return true;\n  }\n  handleDelete(item) {\n    this.fireEvent(\"item-delete\", {\n      item\n    });\n  }\n  deselectSelectedItems() {\n    this.getSelectedItems().forEach(item => {\n      item.selected = false;\n    });\n  }\n  getSelectedItems() {\n    return this.getSlottedNodes(\"items\").filter(item => item.selected);\n  }\n  getFirstSelectedItem() {\n    const slottedItems = this.getSlottedNodes(\"items\");\n    let firstSelectedItem = null;\n    for (let i = 0; i < slottedItems.length; i++) {\n      if (slottedItems[i].selected) {\n        firstSelectedItem = slottedItems[i];\n        break;\n      }\n    }\n    return firstSelectedItem;\n  }\n  _onkeydown(event) {\n    if (isTabNext(event)) {\n      this._handleTabNext(event);\n    }\n  }\n\n  /*\n  * KEYBOARD SUPPORT\n  */\n  _handleTabNext(event) {\n    // If forward navigation is performed, we check if the List has headerToolbar.\n    // If yes - we check if the target is at the last tabbable element of the headerToolbar\n    // to forward correctly the focus to the selected, previously focused or to the first list item.\n    let lastTabbableEl;\n    const target = this.getNormalizedTarget(event.target);\n    if (this.headerToolbar) {\n      lastTabbableEl = this.getHeaderToolbarLastTabbableElement();\n    }\n    if (!lastTabbableEl) {\n      return;\n    }\n    if (lastTabbableEl === target) {\n      if (this.getFirstSelectedItem()) {\n        this.focusFirstSelectedItem();\n      } else if (this.getPreviouslyFocusedItem()) {\n        this.focusPreviouslyFocusedItem();\n      } else {\n        this.focusFirstItem();\n      }\n      event.stopImmediatePropagation();\n      event.preventDefault();\n    }\n  }\n  _onScroll(event) {\n    if (!this.infiniteScroll) {\n      return;\n    }\n    this.debounce(this.loadMore.bind(this, event.target), INFINITE_SCROLL_DEBOUNCE_RATE);\n  }\n  _onfocusin(event) {\n    // If the focusin event does not origin from one of the 'triggers' - ignore it.\n    if (!this.isForwardElement(this.getNormalizedTarget(event.target))) {\n      event.stopImmediatePropagation();\n      return;\n    }\n\n    // The focus arrives in the List for the first time.\n    // If there is selected item - focus it or focus the first item.\n    if (!this.getPreviouslyFocusedItem()) {\n      if (this.getFirstSelectedItem()) {\n        this.focusFirstSelectedItem();\n      } else {\n        this.focusFirstItem();\n      }\n      event.stopImmediatePropagation();\n      return;\n    }\n\n    // The focus returns to the List,\n    // focus the first selected item or the previously focused element.\n    if (!this.getForwardingFocus()) {\n      if (this.getFirstSelectedItem()) {\n        this.focusFirstSelectedItem();\n      } else {\n        this.focusPreviouslyFocusedItem();\n      }\n    }\n    this.setForwardingFocus(false);\n  }\n  isForwardElement(node) {\n    const nodeId = node.id;\n    if (this._id === nodeId || this.getBeforeElement().id === nodeId) {\n      return true;\n    }\n    return this.getAfterElement().id === nodeId;\n  }\n  onItemFocused(event) {\n    const target = event.target;\n    this._itemNavigation.update(target);\n    this.fireEvent(\"item-focused\", {\n      item: target\n    });\n    if (this.mode === ListMode.SingleSelectAuto) {\n      this.onSelectionRequested({\n        detail: {\n          item: target,\n          selectionComponentPressed: false,\n          selected: true,\n          key: event.detail.key\n        }\n      });\n    }\n  }\n  onItemPress(event) {\n    const pressedItem = event.detail.item;\n    if (!this._selectionRequested && this.mode !== ListMode.Delete) {\n      this._selectionRequested = true;\n      this.onSelectionRequested({\n        detail: {\n          item: pressedItem,\n          selectionComponentPressed: false,\n          selected: !pressedItem.selected,\n          key: event.detail.key\n        }\n      });\n    }\n    this.fireEvent(\"item-press\", {\n      item: pressedItem\n    });\n    this.fireEvent(\"item-click\", {\n      item: pressedItem\n    });\n    this._selectionRequested = false;\n  }\n\n  // This is applicable to NoficationListItem\n  onItemClose(event) {\n    this.fireEvent(\"item-close\", {\n      item: event.detail.item\n    });\n  }\n  onItemToggle(event) {\n    this.fireEvent(\"item-toggle\", {\n      item: event.detail.item\n    });\n  }\n  onForwardBefore(event) {\n    this.setPreviouslyFocusedItem(event.target);\n    this.focusBeforeElement();\n  }\n  onForwardAfter(event) {\n    this.setPreviouslyFocusedItem(event.target);\n    this.focusAfterElement();\n  }\n  focusBeforeElement() {\n    this.setForwardingFocus(true);\n    this.getBeforeElement().focus();\n  }\n  focusAfterElement() {\n    this.setForwardingFocus(true);\n    this.getAfterElement().focus();\n  }\n  focusFirstItem() {\n    const firstItem = this.getFirstItem();\n    if (firstItem) {\n      firstItem.focus();\n    }\n  }\n  focusPreviouslyFocusedItem() {\n    const previouslyFocusedItem = this.getPreviouslyFocusedItem();\n    if (previouslyFocusedItem) {\n      previouslyFocusedItem.focus();\n    }\n  }\n  focusFirstSelectedItem() {\n    const firstSelectedItem = this.getFirstSelectedItem();\n    if (firstSelectedItem) {\n      firstSelectedItem.focus();\n    }\n  }\n  focusItem(item) {\n    item.focus();\n  }\n  focusUploadCollectionItem(event) {\n    setTimeout(() => {\n      this.setPreviouslyFocusedItem(event.target);\n      this.focusPreviouslyFocusedItem();\n    }, 0);\n  }\n  setForwardingFocus(forwardingFocus) {\n    this._forwardingFocus = forwardingFocus;\n  }\n  getForwardingFocus() {\n    return this._forwardingFocus;\n  }\n  setPreviouslyFocusedItem(item) {\n    this._previouslyFocusedItem = item;\n  }\n  getPreviouslyFocusedItem() {\n    return this._previouslyFocusedItem;\n  }\n  getFirstItem() {\n    const slottedItems = this.getSlottedNodes(\"items\");\n    return !!slottedItems.length && slottedItems[0];\n  }\n  getAfterElement() {\n    if (!this._afterElement) {\n      this._afterElement = this.shadowRoot.querySelector(`#${this._id}-after`);\n    }\n    return this._afterElement;\n  }\n  getBeforeElement() {\n    if (!this._beforeElement) {\n      this._beforeElement = this.shadowRoot.querySelector(`#${this._id}-before`);\n    }\n    return this._beforeElement;\n  }\n  getHeaderToolbarLastTabbableElement() {\n    return getLastTabbableElement(this.headerToolbar.getDomRef()) || this.headerToolbar.getDomRef();\n  }\n  getNormalizedTarget(target) {\n    let focused = target;\n    if (target.shadowRoot && target.shadowRoot.activeElement) {\n      focused = target.shadowRoot.activeElement;\n    }\n    return focused;\n  }\n  loadMore(el) {\n    const scrollTop = el.scrollTop;\n    const height = el.offsetHeight;\n    const scrollHeight = el.scrollHeight;\n    if (this.previousScrollPosition > scrollTop) {\n      // skip scrolling upwards\n      this.previousScrollPosition = scrollTop;\n      return;\n    }\n    this.previousScrollPosition = scrollTop;\n    if (scrollHeight - BUSYINDICATOR_HEIGHT <= height + scrollTop) {\n      this.fireEvent(\"load-more\");\n    }\n  }\n  debounce(fn, delay) {\n    clearTimeout(this.debounceInterval);\n    this.debounceInterval = setTimeout(() => {\n      this.debounceInterval = null;\n      fn();\n    }, delay);\n  }\n  static get dependencies() {\n    return [BusyIndicator];\n  }\n}\nList.define();\nexport default List;","map":{"version":3,"names":["UI5Element","litRender","ItemNavigation","getLastTabbableElement","isTabNext","NavigationMode","getEffectiveAriaLabelText","ListMode","ListSeparators","BusyIndicator","ListTemplate","listCss","BUSYINDICATOR_HEIGHT","INFINITE_SCROLL_DEBOUNCE_RATE","metadata","tag","managedSlots","slots","header","type","HTMLElement","propertyName","properties","headerText","String","footerText","inset","Boolean","mode","defaultValue","None","noDataText","separators","All","infiniteScroll","busy","ariaLabel","ariaLabelledby","role","events","detail","item","selectedItems","Array","previouslySelectedItems","selectionComponentPressed","List","render","template","styles","constructor","initItemNavigation","_previouslyFocusedItem","_forwardingFocus","_previouslySelectedItem","addEventListener","onItemPress","bind","onItemClose","onItemToggle","onItemFocused","onForwardAfter","onForwardBefore","onSelectionRequested","focusUploadCollectionItem","shouldRenderH1","length","headerID","_id","hasData","getSlottedNodes","showNoDataText","showBusy","isMultiSelect","MultiSelect","ariaLabelledBy","undefined","ariaLabelÐ¢xt","onBeforeRendering","prepareListItems","_itemNavigation","navigationMode","Vertical","getItemsCallback","slottedItems","forEach","key","isLastChild","showBottomBorder","Inner","_mode","hasBorder","event","getSelectedItems","selectionChange","_selectionRequested","selected","fireEvent","handleSingleSelect","deselectSelectedItems","handleSingleSelectBegin","handleSingleSelectEnd","handleSingleSelectAuto","handleMultiSelect","handleDelete","filter","getFirstSelectedItem","firstSelectedItem","i","_onkeydown","_handleTabNext","lastTabbableEl","target","getNormalizedTarget","headerToolbar","getHeaderToolbarLastTabbableElement","focusFirstSelectedItem","getPreviouslyFocusedItem","focusPreviouslyFocusedItem","focusFirstItem","stopImmediatePropagation","preventDefault","_onScroll","debounce","loadMore","_onfocusin","isForwardElement","getForwardingFocus","setForwardingFocus","node","nodeId","id","getBeforeElement","getAfterElement","update","SingleSelectAuto","pressedItem","Delete","setPreviouslyFocusedItem","focusBeforeElement","focusAfterElement","focus","firstItem","getFirstItem","previouslyFocusedItem","focusItem","setTimeout","forwardingFocus","_afterElement","shadowRoot","querySelector","_beforeElement","getDomRef","focused","activeElement","el","scrollTop","height","offsetHeight","scrollHeight","previousScrollPosition","fn","delay","clearTimeout","debounceInterval","dependencies","define"],"sources":["/home/paris/projekty/haergi/feng/workspace/recipe-sharing-app/frontend/node_modules/@ui5/webcomponents/dist/List.js"],"sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport ItemNavigation from \"@ui5/webcomponents-base/dist/delegate/ItemNavigation.js\";\nimport { getLastTabbableElement } from \"@ui5/webcomponents-base/dist/util/TabbableElements.js\";\nimport { isTabNext } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport NavigationMode from \"@ui5/webcomponents-base/dist/types/NavigationMode.js\";\nimport { getEffectiveAriaLabelText } from \"@ui5/webcomponents-base/dist/util/AriaLabelHelper.js\";\nimport ListMode from \"./types/ListMode.js\";\nimport ListSeparators from \"./types/ListSeparators.js\";\nimport BusyIndicator from \"./BusyIndicator.js\";\n\n// Template\nimport ListTemplate from \"./generated/templates/ListTemplate.lit.js\";\n\n// Styles\nimport listCss from \"./generated/themes/List.css.js\";\n\nconst BUSYINDICATOR_HEIGHT = 48; // px\nconst INFINITE_SCROLL_DEBOUNCE_RATE = 250; // ms\n\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-list\",\n\tmanagedSlots: true,\n\tslots: /** @lends sap.ui.webcomponents.main.List.prototype */ {\n\n\t\t/**\n\t\t * Defines the <code>ui5-list</code> header.\n\t\t * <br><br>\n\t\t * <b>Note:</b> When <code>header</code> is set, the\n\t\t * <code>headerText</code> property is ignored.\n\t\t *\n\t\t * @type {HTMLElement[]}\n\t\t * @slot\n\t\t * @public\n\t\t */\n\t\theader: {\n\t\t\ttype: HTMLElement,\n\t\t},\n\n\t\t/**\n\t\t * Defines the items of the <code>ui5-list</code>.\n\t\t * <br><br>\n\t\t * <b>Note:</b> Use <code>ui5-li</code>, <code>ui5-li-custom</code>, and <code>ui5-li-groupheader</code> for the intended design.\n\t\t *\n\t\t * @type {HTMLElement[]}\n\t\t * @slot\n\t\t * @public\n\t\t */\n\t\t\"default\": {\n\t\t\tpropertyName: \"items\",\n\t\t\ttype: HTMLElement,\n\t\t},\n\t},\n\tproperties: /** @lends  sap.ui.webcomponents.main.List.prototype */ {\n\n\t\t/**\n\t\t * Defines the <code>ui5-list</code> header text.\n\t\t * <br><br>\n\t\t * <b>Note:</b> If <code>header</code> is set this property is ignored.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\theaderText: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Defines the footer text.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tfooterText: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Determines whether the list items are indented.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tinset: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines the mode of the <code>ui5-list</code>.\n\t\t * <br><br>\n\t\t * <b>Note:</b> Available options are <code>None</code>, <code>SingleSelect</code>, <code>SingleSelectBegin</code>,\n\t\t * <code>SingleSelectEnd</code>, <code>MultiSelect</code>, and <code>Delete</code>.\n\t\t *\n\t\t * @type {ListMode}\n\t\t * @defaultvalue \"None\"\n\t\t * @public\n\t\t */\n\t\tmode: {\n\t\t\ttype: ListMode,\n\t\t\tdefaultValue: ListMode.None,\n\t\t},\n\n\t\t/**\n\t\t * Defines the text that is displayed when the <code>ui5-list</code> contains no items.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tnoDataText: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Defines the item separator style that is used.\n\t\t * <br><br>\n\t\t * <b>Notes:</b>\n\t\t * <ul>\n\t\t * <li>Avalaible options are <code>All</code>, <code>Inner</code>, and <code>None</code>.</li>\n\t\t * <li>When set to <code>None</code>, none of the items are separated by horizontal lines.</li>\n\t\t * <li>When set to <code>Inner</code>, the first item doesn't have a top separator and the last\n\t\t * item doesn't have a bottom separator.</li>\n\t\t * </ul>\n\t\t *\n\t\t * @type {ListSeparators}\n\t\t * @defaultvalue \"All\"\n\t\t * @public\n\t\t */\n\t\tseparators: {\n\t\t\ttype: ListSeparators,\n\t\t\tdefaultValue: ListSeparators.All,\n\t\t},\n\n\t\t/**\n\t\t * Defines if the component would fire the <code>load-more</code> event\n\t\t * when the user scrolls to the bottom of the list, and helps achieving an \"infinite scroll\" effect\n\t\t * by adding new items each time.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t * @since 1.0.0-rc.6\n\t\t */\n\t\tinfiniteScroll: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines if the component would display a loading indicator at the bottom of the list.\n\t\t * It's especially useful, when combined with <code>infiniteScroll</code>.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t * @since 1.0.0-rc.6\n\t\t */\n\t\tbusy: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * @type {String}\n\t\t * @defaultvalue \"\"\n\t\t * @private\n\t\t * @since 1.0.0-rc.8\n\t\t */\n\t\tariaLabel: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Receives id(or many ids) of the elements that label the input\n\t\t *\n\t\t * @type {String}\n\t\t * @defaultvalue \"\"\n\t\t * @private\n\t\t * @since 1.0.0-rc.8\n\t\t */\n\t\tariaLabelledby: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: \"\",\n\t\t},\n\n\t\t/**\n\t\t * Used to externally manipulate the role of the list\n\t\t *\n\t\t * @private\n\t\t * @type {String}\n\t\t * @defaultvalue \"listbox\"\n\t\t * @since 1.0.0-rc.9\n\t\t */\n\t\trole: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: \"listbox\",\n\t\t},\n\t},\n\tevents: /** @lends  sap.ui.webcomponents.main.List.prototype */ {\n\n\t\t/**\n\t\t * Fired when an item is activated, unless the item's <code>type</code> property\n\t\t * is set to <code>Inactive</code>.\n\t\t *\n\t\t * @event sap.ui.webcomponents.main.List#item-click\n\t\t * @param {HTMLElement} item the clicked item.\n\t\t * @public\n\t\t */\n\t\t\"item-click\": {\n\t\t\tdetail: {\n\t\t\t\titem: { type: HTMLElement },\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Fired when the <code>Close</code> button of any item is clicked\n\t\t * <br><br>\n\t\t * <b>Note:</b> This event is applicable to <code>ui5-li-notification</code> items only,\n\t\t * not to be confused with <code>item-delete</code>.\n\t\t *\n\t\t * @event sap.ui.webcomponents.main.List#item-close\n\t\t * @param {HTMLElement} item the item about to be closed.\n\t\t * @public\n\t\t * @since 1.0.0-rc.8\n\t\t */\n\t\t\"item-close\": {\n\t\t\tdetail: {\n\t\t\t\titem: { type: HTMLElement },\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Fired when the <code>Toggle</code> button of any item is clicked.\n\t\t * <br><br>\n\t\t * <b>Note:</b> This event is applicable to <code>ui5-li-notification-group</code> items only.\n\t\t *\n\t\t * @event sap.ui.webcomponents.main.List#item-toggle\n\t\t * @param {HTMLElement} item the toggled item.\n\t\t * @public\n\t\t * @since 1.0.0-rc.8\n\t\t */\n\t\t\"item-toggle\": {\n\t\t\tdetail: {\n\t\t\t\titem: { type: HTMLElement },\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Fired when the Delete button of any item is pressed.\n\t\t * <br><br>\n\t\t * <b>Note:</b> A Delete button is displayed on each item,\n\t\t * when the <code>ui5-list</code> <code>mode</code> property is set to <code>Delete</code>.\n\t\t *\n\t\t * @event sap.ui.webcomponents.main.List#item-delete\n\t\t * @param {HTMLElement} item the deleted item.\n\t\t * @public\n\t\t */\n\t\t\"item-delete\": {\n\t\t\tdetail: {\n\t\t\t\titem: { type: HTMLElement },\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Fired when selection is changed by user interaction\n\t\t * in <code>SingleSelect</code>, <code>SingleSelectBegin</code>, <code>SingleSelectEnd</code> and <code>MultiSelect</code> modes.\n\t\t *\n\t\t * @event sap.ui.webcomponents.main.List#selection-change\n\t\t * @param {Array} selectedItems An array of the selected items.\n\t\t * @param {Array} previouslySelectedItems An array of the previously selected items.\n\t\t * @public\n\t\t */\n\t\t\"selection-change\": {\n\t\t\tdetail: {\n\t\t\t\tselectedItems: { type: Array },\n\t\t\t\tpreviouslySelectedItems: { type: Array },\n\t\t\t\tselectionComponentPressed: { type: Boolean }, // protected, indicates if the user used the selection components to change the selection\n\t\t\t},\n\t\t},\n\n\t\t/**\n\t\t * Fired when the user scrolls to the bottom of the list.\n\t\t * <br><br>\n\t\t * <b>Note:</b> The event is fired when the <code>infiniteScroll</code> property is enabled.\n\t\t *\n\t\t * @event sap.ui.webcomponents.main.List#load-more\n\t\t * @public\n\t\t * @since 1.0.0-rc.6\n\t\t */\n\t\t\"load-more\": {},\n\t},\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code>ui5-list</code> component allows displaying a list of items, advanced keyboard\n * handling support for navigating between items, and predefined modes to improve the development efficiency.\n * <br><br>\n * The <code>ui5-list</code> is Ð° container for the available list items:\n * <ul>\n * <li><code>ui5-li</code></li>\n * <li><code>ui5-li-custom</code></li>\n * <li><code>ui5-li-groupheader</code></li>\n * </ul>\n * <br><br>\n * To benefit from the built-in selection mechanism, you can use the available\n * selection modes, such as\n * <code>SingleSelect</code>, <code>MultiSelect</code> and <code>Delete</code>.\n * <br><br>\n * Additionally, the <code>ui5-list</code> provides header, footer, and customization for the list item separators.\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/List.js\";</code>\n * <br>\n * <code>import \"@ui5/webcomponents/dist/StandardListItem.js\";</code> (for <code>ui5-li</code>)\n * <br>\n * <code>import \"@ui5/webcomponents/dist/CustomListItem.js\";</code> (for <code>ui5-li-custom</code>)\n * <br>\n * <code>import \"@ui5/webcomponents/dist/GroupHeaderListItem.js\";</code> (for <code>ui5-li-groupheader</code>)\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.List\n * @extends UI5Element\n * @tagname ui5-list\n * @appenddocs StandardListItem CustomListItem GroupHeaderListItem\n * @public\n */\nclass List extends UI5Element {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get render() {\n\t\treturn litRender;\n\t}\n\n\tstatic get template() {\n\t\treturn ListTemplate;\n\t}\n\n\tstatic get styles() {\n\t\treturn listCss;\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\t\tthis.initItemNavigation();\n\n\t\t// Stores the last focused item within the internal ul element.\n\t\tthis._previouslyFocusedItem = null;\n\n\t\t// Indicates that the List is forwarding the focus before or after the internal ul.\n\t\tthis._forwardingFocus = false;\n\n\t\tthis._previouslySelectedItem = null;\n\n\t\tthis.addEventListener(\"ui5-_press\", this.onItemPress.bind(this));\n\t\tthis.addEventListener(\"ui5-close\", this.onItemClose.bind(this));\n\t\tthis.addEventListener(\"ui5-toggle\", this.onItemToggle.bind(this));\n\t\tthis.addEventListener(\"ui5-_focused\", this.onItemFocused.bind(this));\n\t\tthis.addEventListener(\"ui5-_forward-after\", this.onForwardAfter.bind(this));\n\t\tthis.addEventListener(\"ui5-_forward-before\", this.onForwardBefore.bind(this));\n\t\tthis.addEventListener(\"ui5-_selection-requested\", this.onSelectionRequested.bind(this));\n\t\tthis.addEventListener(\"ui5-_focus-requested\", this.focusUploadCollectionItem.bind(this));\n\t}\n\n\tget shouldRenderH1() {\n\t\treturn !this.header.length && this.headerText;\n\t}\n\n\tget headerID() {\n\t\treturn `${this._id}-header`;\n\t}\n\n\tget hasData() {\n\t\treturn this.getSlottedNodes(\"items\").length !== 0;\n\t}\n\n\tget showNoDataText() {\n\t\treturn !this.hasData && this.noDataText;\n\t}\n\n\tget showBusy() {\n\t\treturn this.busy || this.infiniteScroll;\n\t}\n\n\tget isMultiSelect() {\n\t\treturn this.mode === ListMode.MultiSelect;\n\t}\n\n\tget ariaLabelledBy() {\n\t\tif (this.ariaLabelledby || this.ariaLabel) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn this.shouldRenderH1 ? this.headerID : undefined;\n\t}\n\n\tget ariaLabelÐ¢xt() {\n\t\treturn getEffectiveAriaLabelText(this);\n\t}\n\n\tonBeforeRendering() {\n\t\tthis.prepareListItems();\n\t}\n\n\tinitItemNavigation() {\n\t\tthis._itemNavigation = new ItemNavigation(this, {\n\t\t\tnavigationMode: NavigationMode.Vertical,\n\t\t\tgetItemsCallback: () => this.getSlottedNodes(\"items\"),\n\t\t});\n\t}\n\n\tprepareListItems() {\n\t\tconst slottedItems = this.getSlottedNodes(\"items\");\n\n\t\tslottedItems.forEach((item, key) => {\n\t\t\tconst isLastChild = key === slottedItems.length - 1;\n\t\t\tconst showBottomBorder = this.separators === ListSeparators.All\n\t\t\t\t|| (this.separators === ListSeparators.Inner && !isLastChild);\n\n\t\t\titem._mode = this.mode;\n\t\t\titem.hasBorder = showBottomBorder;\n\t\t});\n\n\t\tthis._previouslySelectedItem = null;\n\t}\n\n\t/*\n\t* ITEM SELECTION BASED ON THE CURRENT MODE\n\t*/\n\tonSelectionRequested(event) {\n\t\tconst previouslySelectedItems = this.getSelectedItems();\n\t\tlet selectionChange = false;\n\t\tthis._selectionRequested = true;\n\n\t\tif (this[`handle${this.mode}`]) {\n\t\t\tselectionChange = this[`handle${this.mode}`](event.detail.item, event.detail.selected);\n\t\t}\n\n\t\tif (selectionChange) {\n\t\t\tthis.fireEvent(\"selection-change\", {\n\t\t\t\tselectedItems: this.getSelectedItems(),\n\t\t\t\tpreviouslySelectedItems,\n\t\t\t\tselectionComponentPressed: event.detail.selectionComponentPressed,\n\t\t\t\tkey: event.detail.key,\n\t\t\t});\n\t\t}\n\t}\n\n\thandleSingleSelect(item) {\n\t\tif (item.selected) {\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.deselectSelectedItems();\n\t\titem.selected = true;\n\n\t\treturn true;\n\t}\n\n\thandleSingleSelectBegin(item) {\n\t\treturn this.handleSingleSelect(item);\n\t}\n\n\thandleSingleSelectEnd(item) {\n\t\treturn this.handleSingleSelect(item);\n\t}\n\n\thandleSingleSelectAuto(item) {\n\t\treturn this.handleSingleSelect(item);\n\t}\n\n\thandleMultiSelect(item, selected) {\n\t\titem.selected = selected;\n\t\treturn true;\n\t}\n\n\thandleDelete(item) {\n\t\tthis.fireEvent(\"item-delete\", { item });\n\t}\n\n\tdeselectSelectedItems() {\n\t\tthis.getSelectedItems().forEach(item => { item.selected = false; });\n\t}\n\n\tgetSelectedItems() {\n\t\treturn this.getSlottedNodes(\"items\").filter(item => item.selected);\n\t}\n\n\tgetFirstSelectedItem() {\n\t\tconst slottedItems = this.getSlottedNodes(\"items\");\n\t\tlet firstSelectedItem = null;\n\n\t\tfor (let i = 0; i < slottedItems.length; i++) {\n\t\t\tif (slottedItems[i].selected) {\n\t\t\t\tfirstSelectedItem = slottedItems[i];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn firstSelectedItem;\n\t}\n\n\t_onkeydown(event) {\n\t\tif (isTabNext(event)) {\n\t\t\tthis._handleTabNext(event);\n\t\t}\n\t}\n\n\t/*\n\t* KEYBOARD SUPPORT\n\t*/\n\t_handleTabNext(event) {\n\t\t// If forward navigation is performed, we check if the List has headerToolbar.\n\t\t// If yes - we check if the target is at the last tabbable element of the headerToolbar\n\t\t// to forward correctly the focus to the selected, previously focused or to the first list item.\n\t\tlet lastTabbableEl;\n\t\tconst target = this.getNormalizedTarget(event.target);\n\n\t\tif (this.headerToolbar) {\n\t\t\tlastTabbableEl = this.getHeaderToolbarLastTabbableElement();\n\t\t}\n\n\t\tif (!lastTabbableEl) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (lastTabbableEl === target) {\n\t\t\tif (this.getFirstSelectedItem()) {\n\t\t\t\tthis.focusFirstSelectedItem();\n\t\t\t} else if (this.getPreviouslyFocusedItem()) {\n\t\t\t\tthis.focusPreviouslyFocusedItem();\n\t\t\t} else {\n\t\t\t\tthis.focusFirstItem();\n\t\t\t}\n\n\t\t\tevent.stopImmediatePropagation();\n\t\t\tevent.preventDefault();\n\t\t}\n\t}\n\n\t_onScroll(event) {\n\t\tif (!this.infiniteScroll) {\n\t\t\treturn;\n\t\t}\n\t\tthis.debounce(this.loadMore.bind(this, event.target), INFINITE_SCROLL_DEBOUNCE_RATE);\n\t}\n\n\t_onfocusin(event) {\n\t\t// If the focusin event does not origin from one of the 'triggers' - ignore it.\n\t\tif (!this.isForwardElement(this.getNormalizedTarget(event.target))) {\n\t\t\tevent.stopImmediatePropagation();\n\t\t\treturn;\n\t\t}\n\n\t\t// The focus arrives in the List for the first time.\n\t\t// If there is selected item - focus it or focus the first item.\n\t\tif (!this.getPreviouslyFocusedItem()) {\n\t\t\tif (this.getFirstSelectedItem()) {\n\t\t\t\tthis.focusFirstSelectedItem();\n\t\t\t} else {\n\t\t\t\tthis.focusFirstItem();\n\t\t\t}\n\n\t\t\tevent.stopImmediatePropagation();\n\t\t\treturn;\n\t\t}\n\n\t\t// The focus returns to the List,\n\t\t// focus the first selected item or the previously focused element.\n\t\tif (!this.getForwardingFocus()) {\n\t\t\tif (this.getFirstSelectedItem()) {\n\t\t\t\tthis.focusFirstSelectedItem();\n\t\t\t} else {\n\t\t\t\tthis.focusPreviouslyFocusedItem();\n\t\t\t}\n\t\t}\n\n\t\tthis.setForwardingFocus(false);\n\t}\n\n\tisForwardElement(node) {\n\t\tconst nodeId = node.id;\n\n\t\tif (this._id === nodeId || this.getBeforeElement().id === nodeId) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn this.getAfterElement().id === nodeId;\n\t}\n\n\tonItemFocused(event) {\n\t\tconst target = event.target;\n\n\t\tthis._itemNavigation.update(target);\n\t\tthis.fireEvent(\"item-focused\", { item: target });\n\n\t\tif (this.mode === ListMode.SingleSelectAuto) {\n\t\t\tthis.onSelectionRequested({\n\t\t\t\tdetail: {\n\t\t\t\t\titem: target,\n\t\t\t\t\tselectionComponentPressed: false,\n\t\t\t\t\tselected: true,\n\t\t\t\t\tkey: event.detail.key,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\t}\n\n\tonItemPress(event) {\n\t\tconst pressedItem = event.detail.item;\n\n\t\tif (!this._selectionRequested && this.mode !== ListMode.Delete) {\n\t\t\tthis._selectionRequested = true;\n\t\t\tthis.onSelectionRequested({\n\t\t\t\tdetail: {\n\t\t\t\t\titem: pressedItem,\n\t\t\t\t\tselectionComponentPressed: false,\n\t\t\t\t\tselected: !pressedItem.selected,\n\t\t\t\t\tkey: event.detail.key,\n\t\t\t\t},\n\t\t\t});\n\t\t}\n\n\t\tthis.fireEvent(\"item-press\", { item: pressedItem });\n\t\tthis.fireEvent(\"item-click\", { item: pressedItem });\n\n\t\tthis._selectionRequested = false;\n\t}\n\n\t// This is applicable to NoficationListItem\n\tonItemClose(event) {\n\t\tthis.fireEvent(\"item-close\", { item: event.detail.item });\n\t}\n\n\tonItemToggle(event) {\n\t\tthis.fireEvent(\"item-toggle\", { item: event.detail.item });\n\t}\n\n\tonForwardBefore(event) {\n\t\tthis.setPreviouslyFocusedItem(event.target);\n\t\tthis.focusBeforeElement();\n\t}\n\n\tonForwardAfter(event) {\n\t\tthis.setPreviouslyFocusedItem(event.target);\n\t\tthis.focusAfterElement();\n\t}\n\n\tfocusBeforeElement() {\n\t\tthis.setForwardingFocus(true);\n\t\tthis.getBeforeElement().focus();\n\t}\n\n\tfocusAfterElement() {\n\t\tthis.setForwardingFocus(true);\n\t\tthis.getAfterElement().focus();\n\t}\n\n\tfocusFirstItem() {\n\t\tconst firstItem = this.getFirstItem();\n\n\t\tif (firstItem) {\n\t\t\tfirstItem.focus();\n\t\t}\n\t}\n\n\tfocusPreviouslyFocusedItem() {\n\t\tconst previouslyFocusedItem = this.getPreviouslyFocusedItem();\n\n\t\tif (previouslyFocusedItem) {\n\t\t\tpreviouslyFocusedItem.focus();\n\t\t}\n\t}\n\n\tfocusFirstSelectedItem() {\n\t\tconst firstSelectedItem = this.getFirstSelectedItem();\n\n\t\tif (firstSelectedItem) {\n\t\t\tfirstSelectedItem.focus();\n\t\t}\n\t}\n\n\tfocusItem(item) {\n\t\titem.focus();\n\t}\n\n\n\tfocusUploadCollectionItem(event) {\n\t\tsetTimeout(() => {\n\t\t\tthis.setPreviouslyFocusedItem(event.target);\n\t\t\tthis.focusPreviouslyFocusedItem();\n\t\t}, 0);\n\t}\n\n\tsetForwardingFocus(forwardingFocus) {\n\t\tthis._forwardingFocus = forwardingFocus;\n\t}\n\n\tgetForwardingFocus() {\n\t\treturn this._forwardingFocus;\n\t}\n\n\tsetPreviouslyFocusedItem(item) {\n\t\tthis._previouslyFocusedItem = item;\n\t}\n\n\tgetPreviouslyFocusedItem() {\n\t\treturn this._previouslyFocusedItem;\n\t}\n\n\tgetFirstItem() {\n\t\tconst slottedItems = this.getSlottedNodes(\"items\");\n\t\treturn !!slottedItems.length && slottedItems[0];\n\t}\n\n\tgetAfterElement() {\n\t\tif (!this._afterElement) {\n\t\t\tthis._afterElement = this.shadowRoot.querySelector(`#${this._id}-after`);\n\t\t}\n\t\treturn this._afterElement;\n\t}\n\n\tgetBeforeElement() {\n\t\tif (!this._beforeElement) {\n\t\t\tthis._beforeElement = this.shadowRoot.querySelector(`#${this._id}-before`);\n\t\t}\n\t\treturn this._beforeElement;\n\t}\n\n\tgetHeaderToolbarLastTabbableElement() {\n\t\treturn getLastTabbableElement(this.headerToolbar.getDomRef()) || this.headerToolbar.getDomRef();\n\t}\n\n\tgetNormalizedTarget(target) {\n\t\tlet focused = target;\n\n\t\tif (target.shadowRoot && target.shadowRoot.activeElement) {\n\t\t\tfocused = target.shadowRoot.activeElement;\n\t\t}\n\n\t\treturn focused;\n\t}\n\n\tloadMore(el) {\n\t\tconst scrollTop = el.scrollTop;\n\t\tconst height = el.offsetHeight;\n\t\tconst scrollHeight = el.scrollHeight;\n\n\t\tif (this.previousScrollPosition > scrollTop) { // skip scrolling upwards\n\t\t\tthis.previousScrollPosition = scrollTop;\n\t\t\treturn;\n\t\t}\n\t\tthis.previousScrollPosition = scrollTop;\n\n\t\tif (scrollHeight - BUSYINDICATOR_HEIGHT <= height + scrollTop) {\n\t\t\tthis.fireEvent(\"load-more\");\n\t\t}\n\t}\n\n\tdebounce(fn, delay) {\n\t\tclearTimeout(this.debounceInterval);\n\t\tthis.debounceInterval = setTimeout(() => {\n\t\t\tthis.debounceInterval = null;\n\t\t\tfn();\n\t\t}, delay);\n\t}\n\n\tstatic get dependencies() {\n\t\treturn [BusyIndicator];\n\t}\n}\n\nList.define();\n\nexport default List;\n"],"mappings":"AAAA,OAAOA,UAAU,MAAM,4CAA4C;AACnE,OAAOC,SAAS,MAAM,sDAAsD;AAC5E,OAAOC,cAAc,MAAM,yDAAyD;AACpF,SAASC,sBAAsB,QAAQ,uDAAuD;AAC9F,SAASC,SAAS,QAAQ,sCAAsC;AAChE,OAAOC,cAAc,MAAM,sDAAsD;AACjF,SAASC,yBAAyB,QAAQ,sDAAsD;AAChG,OAAOC,QAAQ,MAAM,qBAAqB;AAC1C,OAAOC,cAAc,MAAM,2BAA2B;AACtD,OAAOC,aAAa,MAAM,oBAAoB;;AAE9C;AACA,OAAOC,YAAY,MAAM,2CAA2C;;AAEpE;AACA,OAAOC,OAAO,MAAM,gCAAgC;AAEpD,MAAMC,oBAAoB,GAAG,EAAE,CAAC,CAAC;AACjC,MAAMC,6BAA6B,GAAG,GAAG,CAAC,CAAC;;AAE3C;AACA;AACA;AACA,MAAMC,QAAQ,GAAG;EAChBC,GAAG,EAAE,UAAU;EACfC,YAAY,EAAE,IAAI;EAClBC,KAAK,EAAE,sDAAuD;IAE7D;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,MAAM,EAAE;MACPC,IAAI,EAAEC;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACE,SAAS,EAAE;MACVC,YAAY,EAAE,OAAO;MACrBF,IAAI,EAAEC;IACP;EACD,CAAC;EACDE,UAAU,EAAE,uDAAwD;IAEnE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,UAAU,EAAE;MACXJ,IAAI,EAAEK;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;IACEC,UAAU,EAAE;MACXN,IAAI,EAAEK;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;IACEE,KAAK,EAAE;MACNP,IAAI,EAAEQ;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,IAAI,EAAE;MACLT,IAAI,EAAEZ,QAAQ;MACdsB,YAAY,EAAEtB,QAAQ,CAACuB;IACxB,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;IACEC,UAAU,EAAE;MACXZ,IAAI,EAAEK;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEQ,UAAU,EAAE;MACXb,IAAI,EAAEX,cAAc;MACpBqB,YAAY,EAAErB,cAAc,CAACyB;IAC9B,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,cAAc,EAAE;MACff,IAAI,EAAEQ;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEQ,IAAI,EAAE;MACLhB,IAAI,EAAEQ;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;IACES,SAAS,EAAE;MACVjB,IAAI,EAAEK;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACEa,cAAc,EAAE;MACflB,IAAI,EAAEK,MAAM;MACZK,YAAY,EAAE;IACf,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACES,IAAI,EAAE;MACLnB,IAAI,EAAEK,MAAM;MACZK,YAAY,EAAE;IACf;EACD,CAAC;EACDU,MAAM,EAAE,uDAAwD;IAE/D;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACE,YAAY,EAAE;MACbC,MAAM,EAAE;QACPC,IAAI,EAAE;UAAEtB,IAAI,EAAEC;QAAY;MAC3B;IACD,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACE,YAAY,EAAE;MACboB,MAAM,EAAE;QACPC,IAAI,EAAE;UAAEtB,IAAI,EAAEC;QAAY;MAC3B;IACD,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACE,aAAa,EAAE;MACdoB,MAAM,EAAE;QACPC,IAAI,EAAE;UAAEtB,IAAI,EAAEC;QAAY;MAC3B;IACD,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACE,aAAa,EAAE;MACdoB,MAAM,EAAE;QACPC,IAAI,EAAE;UAAEtB,IAAI,EAAE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"},"metadata":{},"sourceType":"module","externalDependencies":[]}