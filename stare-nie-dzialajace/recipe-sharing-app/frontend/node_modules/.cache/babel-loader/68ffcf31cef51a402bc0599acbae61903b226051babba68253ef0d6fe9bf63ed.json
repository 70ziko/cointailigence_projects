{"ast":null,"code":"// Shorthands\nconst w = window;\n\n// Map of observer objects per dom node\nconst observers = new WeakMap();\n\n/**\n * Implements universal DOM node observation methods.\n */\nclass DOMObserver {\n  constructor() {\n    throw new Error(\"Static class\");\n  }\n\n  /**\n   * This function abstracts out mutation observer usage inside shadow DOM.\n   * For native shadow DOM the native mutation observer is used.\n   * When the polyfill is used, the observeChildren ShadyDOM method is used instead.\n   *\n   * @throws Exception\n   * Note: does not allow several mutation observers per node. If there is a valid use-case, this behavior can be changed.\n   *\n   * @param node\n   * @param callback\n   * @param options - Only used for the native mutation observer\n   */\n  static observeDOMNode(node, callback, options) {\n    let observerObject = observers.get(node);\n    if (observerObject) {\n      throw new Error(\"A mutation/ShadyDOM observer is already assigned to this node.\");\n    }\n    if (w.ShadyDOM) {\n      observerObject = w.ShadyDOM.observeChildren(node, callback);\n    } else {\n      observerObject = new MutationObserver(callback);\n      observerObject.observe(node, options);\n    }\n    observers.set(node, observerObject);\n  }\n\n  /**\n   * De-registers the mutation observer, depending on its type\n   * @param node\n   */\n  static unobserveDOMNode(node) {\n    const observerObject = observers.get(node);\n    if (!observerObject) {\n      return;\n    }\n    if (observerObject instanceof MutationObserver) {\n      observerObject.disconnect();\n    } else {\n      w.ShadyDOM.unobserveChildren(observerObject);\n    }\n    observers.delete(node);\n  }\n}\nexport default DOMObserver;","map":{"version":3,"names":["w","window","observers","WeakMap","DOMObserver","constructor","Error","observeDOMNode","node","callback","options","observerObject","get","ShadyDOM","observeChildren","MutationObserver","observe","set","unobserveDOMNode","disconnect","unobserveChildren","delete"],"sources":["/home/paris/projekty/haergi/feng/workspace/recipe-sharing-app/frontend/node_modules/@ui5/webcomponents-base/dist/compatibility/DOMObserver.js"],"sourcesContent":["// Shorthands\nconst w = window;\n\n// Map of observer objects per dom node\nconst observers = new WeakMap();\n\n/**\n * Implements universal DOM node observation methods.\n */\nclass DOMObserver {\n\tconstructor() {\n\t\tthrow new Error(\"Static class\");\n\t}\n\n\t/**\n\t * This function abstracts out mutation observer usage inside shadow DOM.\n\t * For native shadow DOM the native mutation observer is used.\n\t * When the polyfill is used, the observeChildren ShadyDOM method is used instead.\n\t *\n\t * @throws Exception\n\t * Note: does not allow several mutation observers per node. If there is a valid use-case, this behavior can be changed.\n\t *\n\t * @param node\n\t * @param callback\n\t * @param options - Only used for the native mutation observer\n\t */\n\tstatic observeDOMNode(node, callback, options) {\n\t\tlet observerObject = observers.get(node);\n\t\tif (observerObject) {\n\t\t\tthrow new Error(\"A mutation/ShadyDOM observer is already assigned to this node.\");\n\t\t}\n\n\t\tif (w.ShadyDOM) {\n\t\t\tobserverObject = w.ShadyDOM.observeChildren(node, callback);\n\t\t} else {\n\t\t\tobserverObject = new MutationObserver(callback);\n\t\t\tobserverObject.observe(node, options);\n\t\t}\n\n\t\tobservers.set(node, observerObject);\n\t}\n\n\t/**\n\t * De-registers the mutation observer, depending on its type\n\t * @param node\n\t */\n\tstatic unobserveDOMNode(node) {\n\t\tconst observerObject = observers.get(node);\n\t\tif (!observerObject) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (observerObject instanceof MutationObserver) {\n\t\t\tobserverObject.disconnect();\n\t\t} else {\n\t\t\tw.ShadyDOM.unobserveChildren(observerObject);\n\t\t}\n\t\tobservers.delete(node);\n\t}\n}\n\nexport default DOMObserver;\n"],"mappings":"AAAA;AACA,MAAMA,CAAC,GAAGC,MAAM;;AAEhB;AACA,MAAMC,SAAS,GAAG,IAAIC,OAAO,CAAC,CAAC;;AAE/B;AACA;AACA;AACA,MAAMC,WAAW,CAAC;EACjBC,WAAWA,CAAA,EAAG;IACb,MAAM,IAAIC,KAAK,CAAC,cAAc,CAAC;EAChC;;EAEA;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACC,OAAOC,cAAcA,CAACC,IAAI,EAAEC,QAAQ,EAAEC,OAAO,EAAE;IAC9C,IAAIC,cAAc,GAAGT,SAAS,CAACU,GAAG,CAACJ,IAAI,CAAC;IACxC,IAAIG,cAAc,EAAE;MACnB,MAAM,IAAIL,KAAK,CAAC,gEAAgE,CAAC;IAClF;IAEA,IAAIN,CAAC,CAACa,QAAQ,EAAE;MACfF,cAAc,GAAGX,CAAC,CAACa,QAAQ,CAACC,eAAe,CAACN,IAAI,EAAEC,QAAQ,CAAC;IAC5D,CAAC,MAAM;MACNE,cAAc,GAAG,IAAII,gBAAgB,CAACN,QAAQ,CAAC;MAC/CE,cAAc,CAACK,OAAO,CAACR,IAAI,EAAEE,OAAO,CAAC;IACtC;IAEAR,SAAS,CAACe,GAAG,CAACT,IAAI,EAAEG,cAAc,CAAC;EACpC;;EAEA;AACD;AACA;AACA;EACC,OAAOO,gBAAgBA,CAACV,IAAI,EAAE;IAC7B,MAAMG,cAAc,GAAGT,SAAS,CAACU,GAAG,CAACJ,IAAI,CAAC;IAC1C,IAAI,CAACG,cAAc,EAAE;MACpB;IACD;IAEA,IAAIA,cAAc,YAAYI,gBAAgB,EAAE;MAC/CJ,cAAc,CAACQ,UAAU,CAAC,CAAC;IAC5B,CAAC,MAAM;MACNnB,CAAC,CAACa,QAAQ,CAACO,iBAAiB,CAACT,cAAc,CAAC;IAC7C;IACAT,SAAS,CAACmB,MAAM,CAACb,IAAI,CAAC;EACvB;AACD;AAEA,eAAeJ,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}