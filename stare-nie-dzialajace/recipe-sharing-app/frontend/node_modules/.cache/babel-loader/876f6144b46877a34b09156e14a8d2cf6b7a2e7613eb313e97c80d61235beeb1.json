{"ast":null,"code":"import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport { fetchCldr } from \"@ui5/webcomponents-base/dist/asset-registries/LocaleData.js\";\nimport { getCalendarType } from \"@ui5/webcomponents-base/dist/config/CalendarType.js\";\nimport getLocale from \"@ui5/webcomponents-base/dist/locale/getLocale.js\";\nimport { getFeature } from \"@ui5/webcomponents-base/dist/FeaturesRegistry.js\";\nimport getCachedLocaleDataInstance from \"@ui5/webcomponents-localization/dist/getCachedLocaleDataInstance.js\";\nimport DateFormat from \"@ui5/webcomponents-localization/dist/DateFormat.js\";\nimport CalendarType from \"@ui5/webcomponents-base/dist/types/CalendarType.js\";\nimport CalendarDate from \"@ui5/webcomponents-localization/dist/dates/CalendarDate.js\";\nimport ValueState from \"@ui5/webcomponents-base/dist/types/ValueState.js\";\nimport { getEffectiveAriaLabelText } from \"@ui5/webcomponents-base/dist/util/AriaLabelHelper.js\";\nimport { isEnter, isPageUp, isPageDown, isPageUpShift, isPageDownShift, isPageUpShiftCtrl, isPageDownShiftCtrl, isShow, isF4 } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport { isPhone, isIE } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport { fetchI18nBundle, getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport \"@ui5/webcomponents-icons/dist/appointment-2.js\";\nimport \"@ui5/webcomponents-icons/dist/decline.js\";\nimport CalendarSelection from \"@ui5/webcomponents-base/dist/types/CalendarSelection.js\";\nimport RenderScheduler from \"@ui5/webcomponents-base/dist/RenderScheduler.js\";\nimport { DATEPICKER_OPEN_ICON_TITLE, DATEPICKER_DATE_ACC_TEXT, INPUT_SUGGESTIONS_TITLE } from \"./generated/i18n/i18n-defaults.js\";\nimport { getMaxCalendarDate, getMinCalendarDate } from \"./util/DateTime.js\";\nimport Icon from \"./Icon.js\";\nimport Button from \"./Button.js\";\nimport ResponsivePopover from \"./ResponsivePopover.js\";\nimport Calendar from \"./Calendar.js\";\nimport Input from \"./Input.js\";\nimport InputType from \"./types/InputType.js\";\nimport DatePickerTemplate from \"./generated/templates/DatePickerTemplate.lit.js\";\nimport DatePickerPopoverTemplate from \"./generated/templates/DatePickerPopoverTemplate.lit.js\";\n\n// default calendar for bundling\nimport \"@ui5/webcomponents-localization/dist/features/calendar/Gregorian.js\";\n\n// Styles\nimport datePickerCss from \"./generated/themes/DatePicker.css.js\";\nimport datePickerPopoverCss from \"./generated/themes/DatePickerPopover.css.js\";\nimport ResponsivePopoverCommonCss from \"./generated/themes/ResponsivePopoverCommon.css.js\";\n\n/**\n * @public\n */\nconst metadata = {\n  tag: \"ui5-date-picker\",\n  altTag: \"ui5-datepicker\",\n  languageAware: true,\n  managedSlots: true,\n  properties: /** @lends  sap.ui.webcomponents.main.DatePicker.prototype */{\n    /**\n     * Defines a formatted date value.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    value: {\n      type: String\n    },\n    /**\n     * Defines the value state of the <code>ui5-date-picker</code>.\n     * <br><br>\n     * Available options are:\n     * <ul>\n     * <li><code>None</code></li>\n     * <li><code>Error</code></li>\n     * <li><code>Warning</code></li>\n     * <li><code>Success</code></li>\n     * <li><code>Information</code></li>\n     * </ul>\n     *\n     * @type {ValueState}\n     * @defaultvalue \"None\"\n     * @public\n     */\n    valueState: {\n      type: ValueState,\n      defaultValue: ValueState.None\n    },\n    /**\n     * Determines the format, displayed in the input field.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    formatPattern: {\n      type: String\n    },\n    /**\n     * Determines the minimum date available for selection.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @since 1.0.0-rc.6\n     * @public\n     */\n    minDate: {\n      type: String\n    },\n    /**\n     * Determines the maximum date available for selection.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @since 1.0.0-rc.6\n     * @public\n     */\n    maxDate: {\n      type: String\n    },\n    /**\n     * Determines the calendar type.\n     * The input value is formated according to the calendar type\n     * and the picker shows the months and years from the specified calendar.\n     * <br><br>\n     * Available options are:\n     * <ul>\n     * <li><code>Gregorian</code></li>\n     * <li><code>Islamic</code></li>\n     * <li><code>Japanese</code></li>\n     * <li><code>Buddhist</code></li>\n     * <li><code>Persian</code></li>\n     * </ul>\n     *\n     * @type {CalendarType}\n     * @defaultvalue \"Gregorian\"\n     * @public\n     */\n    primaryCalendarType: {\n      type: CalendarType\n    },\n    /**\n     * Defines whether the <code>ui5-date-picker</code> is required.\n     *\n     * @since 1.0.0-rc.9\n     * @type {Boolean}\n     * @defaultvalue false\n     * @public\n     */\n    required: {\n      type: Boolean\n    },\n    /**\n     * Determines whether the <code>ui5-date-picker</code> is displayed as disabled.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    disabled: {\n      type: Boolean\n    },\n    /**\n     * Determines whether the <code>ui5-date-picker</code> is displayed as read-only.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    readonly: {\n      type: Boolean\n    },\n    /**\n     * Defines a short hint, intended to aid the user with data entry when the\n     * <code>ui5-date-picker</code> has no value.\n     *\n     * <br><br>\n     * <b>Note:</b> When no placeholder is set, the format pattern is displayed as a placeholder.\n     * Passing an empty string as the value of this property will make the <code>ui5-date-picker</code> appear empty - without placeholder or format pattern.\n     *\n     * @type {string}\n     * @defaultvalue undefined\n     * @public\n     */\n    placeholder: {\n      type: String,\n      defaultValue: undefined\n    },\n    /**\n     * Determines the name with which the <code>ui5-date-picker</code> will be submitted in an HTML form.\n     *\n     * <br><br>\n     * <b>Important:</b> For the <code>name</code> property to have effect, you must add the following import to your project:\n     * <code>import \"@ui5/webcomponents/dist/features/InputElementsFormSupport.js\";</code>\n     *\n     * <br><br>\n     * <b>Note:</b> When set, a native <code>input</code> HTML element\n     * will be created inside the <code>ui5-date-picker</code> so that it can be submitted as\n     * part of an HTML form. Do not use this property unless you need to submit a form.\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    name: {\n      type: String\n    },\n    /**\n     * Defines the visibility of the week numbers column.\n     * <br><br>\n     *\n     * <b>Note:<b> For calendars other than Gregorian,\n     * the week numbers are not displayed regardless of what is set.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     * @since 1.0.0-rc.8\n     */\n    hideWeekNumbers: {\n      type: Boolean\n    },\n    /**\n     * Defines the aria-label attribute for the <code>ui5-date-picker</code>.\n     *\n     * @type {String}\n     * @since 1.0.0-rc.9\n     * @private\n     * @defaultvalue \"\"\n     */\n    ariaLabel: {\n      type: String\n    },\n    /**\n     * Receives id(or many ids) of the elements that label the <code>ui5-date-picker</code>.\n     *\n     * @type {String}\n     * @defaultvalue \"\"\n     * @private\n     * @since 1.0.0-rc.9\n     */\n    ariaLabelledby: {\n      type: String,\n      defaultValue: \"\"\n    },\n    _isPickerOpen: {\n      type: Boolean,\n      noAttribute: true\n    },\n    _respPopoverConfig: {\n      type: Object\n    },\n    _calendar: {\n      type: Object\n    }\n  },\n  slots: /** @lends  sap.ui.webcomponents.main.DatePicker.prototype */{\n    /**\n     * Defines the value state message that will be displayed as pop up under the <code>ui5-date-picker</code>.\n     * <br><br>\n     *\n     * <b>Note:</b> If not specified, a default text (in the respective language) will be displayed.\n     * <br>\n     * <b>Note:</b> The <code>valueStateMessage</code> would be displayed,\n     * when the <code>ui5-date-picker</code> is in <code>Information</code>, <code>Warning</code> or <code>Error</code> value state.\n     * @type {HTMLElement}\n     * @since 1.0.0-rc.7\n     * @slot\n     * @public\n     */\n    valueStateMessage: {\n      type: HTMLElement\n    }\n  },\n  events: /** @lends  sap.ui.webcomponents.main.DatePicker.prototype */{\n    /**\n     * Fired when the input operation has finished by pressing Enter or on focusout.\n     *\n     * @event\n     * @public\n    */\n    change: {},\n    /**\n     * Fired when the value of the <code>ui5-date-picker</code> is changed at each key stroke.\n     *\n     * @event\n     * @public\n    */\n    input: {}\n  }\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code>ui5-date-picker</code> component provides an input field with assigned calendar which opens on user action.\n * The <code>ui5-date-picker</code> allows users to select a localized date using touch,\n * mouse, or keyboard input. It consists of two parts: the date input field and the\n * date picker.\n *\n * <h3>Usage</h3>\n *\n * The user can enter a date by:\n * <ul>\n * <li>Using the calendar that opens in a popup</li>\n * <li>Typing it in directly in the input field</li>\n * </ul>\n * <br><br>\n * When the user makes an entry and chooses the enter key, the calendar shows the corresponding date.\n * When the user directly triggers the calendar display, the actual date is displayed.\n *\n * <h3>Formatting</h3>\n *\n * If a date is entered by typing it into\n * the input field, it must fit to the used date format.\n * <br><br>\n * Supported format options are pattern-based on Unicode LDML Date Format notation.\n * For more information, see <ui5-link target=\"_blank\" href=\"http://unicode.org/reports/tr35/#Date_Field_Symbol_Table\" class=\"api-table-content-cell-link\">UTS #35: Unicode Locale Data Markup Language</ui5-link>.\n * <br><br>\n * For example, if the <code>format-pattern</code> is \"yyyy-MM-dd\",\n * a valid value string is \"2015-07-30\" and the same is displayed in the input.\n *\n * <h3>Keyboard Handling</h3>\n * The <code>ui5-date-picker</code> provides advanced keyboard handling.\n * If the <code>ui5-date-picker</code> is focused,\n * you can open or close the drop-down by pressing <code>F4</code>, <code>ALT+UP</code> or <code>ALT+DOWN</code> keys.\n * Once the drop-down is opened, you can use the <code>UP</code>, <code>DOWN</code>, <code>LEFT</code>, <code>RIGHT</code> arrow keys\n * to navigate through the dates and select one by pressing the <code>Space</code> or <code>Enter</code> keys. Moreover you can\n * use TAB to reach the buttons for changing month and year.\n * <br>\n *\n * If the <code>ui5-date-picker</code> is focused and the picker dialog is not opened the user can\n * increment or decrement the corresponding field of the JS date object referenced by <code>dateValue</code> propery\n * by using the following shortcuts:\n * <br>\n * <ul>\n * <li>[PAGEDOWN] - Decrements the corresponding day of the month by one</li>\n * <li>[SHIFT] + [PAGEDOWN] - Decrements the corresponding month by one</li>\n * <li>[SHIFT] + [CTRL] + [PAGEDOWN] - Decrements the corresponding year by one</li>\n * <li>[PAGEUP] - Increments the corresponding day of the month by one</li>\n * <li>[SHIFT] + [PAGEUP] - Increments the corresponding month by one</li>\n * <li>[SHIFT] + [CTRL] + [PAGEUP] - Increments the corresponding year by one</li>\n * </ul>\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/DatePicker\";</code>\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.DatePicker\n * @extends sap.ui.webcomponents.base.UI5Element\n * @tagname ui5-date-picker\n * @public\n */\nclass DatePicker extends UI5Element {\n  static get metadata() {\n    return metadata;\n  }\n  static get render() {\n    return litRender;\n  }\n  static get template() {\n    return DatePickerTemplate;\n  }\n  static get staticAreaTemplate() {\n    return DatePickerPopoverTemplate;\n  }\n  static get styles() {\n    return datePickerCss;\n  }\n  static get staticAreaStyles() {\n    return [ResponsivePopoverCommonCss, datePickerPopoverCss];\n  }\n  constructor() {\n    super();\n    this._respPopoverConfig = {\n      allowTargetOverlap: true,\n      stayOpenOnScroll: true,\n      afterClose: () => {\n        this._isPickerOpen = false;\n        if (isPhone()) {\n          // close device's keyboard and prevent further typing\n          this.blur();\n        } else if (this._focusInputAfterClose) {\n          this._getInput().focus();\n          this._focusInputAfterClose = false;\n        }\n        const calendar = this.calendar;\n        if (calendar) {\n          calendar._hideMonthPicker();\n          calendar._hideYearPicker();\n        }\n      },\n      afterOpen: async () => {\n        await RenderScheduler.whenFinished();\n        const calendar = this.calendar;\n        if (!calendar) {\n          return;\n        }\n        const dayPicker = calendar.shadowRoot.querySelector(`#${calendar._id}-daypicker`);\n        const selectedDay = dayPicker.shadowRoot.querySelector(\".ui5-dp-item--selected\");\n        const today = dayPicker.shadowRoot.querySelector(\".ui5-dp-item--now\");\n        let focusableDay = selectedDay || today;\n        if (!selectedDay && (this.minDate || this.maxDate) && !this.isInValidRange(new Date().getTime())) {\n          focusableDay = this.findFirstFocusableDay(dayPicker);\n        }\n        if (this._focusInputAfterOpen) {\n          this._focusInputAfterOpen = false;\n          this._getInput().focus();\n        } else if (focusableDay) {\n          focusableDay.focus();\n          let focusableDayIdx = parseInt(focusableDay.getAttribute(\"data-sap-index\"));\n          const focusableItem = dayPicker.focusableDays.find(item => parseInt(item._index) === focusableDayIdx);\n          focusableDayIdx = focusableItem ? dayPicker.focusableDays.indexOf(focusableItem) : focusableDayIdx;\n          dayPicker._itemNav.current = focusableDayIdx;\n          dayPicker._itemNav.update();\n        }\n      }\n    };\n    this._calendar = {\n      onSelectedDatesChange: this._handleCalendarChange.bind(this),\n      selection: CalendarSelection.Single,\n      selectedDates: []\n    };\n    this.i18nBundle = getI18nBundle(\"@ui5/webcomponents\");\n  }\n  findFirstFocusableDay(daypicker) {\n    const today = new Date();\n    if (!this.isInValidRange(today.getTime())) {\n      const focusableItems = Array.from(daypicker.shadowRoot.querySelectorAll(\".ui5-dp-item\"));\n      return focusableItems.filter(x => !x.classList.contains(\"ui5-dp-item--disabled\"))[0];\n    }\n  }\n  onBeforeRendering() {\n    this._calendar.primaryCalendarType = this._primaryCalendarType;\n    this._calendar.formatPattern = this._formatPattern;\n    if (this.minDate && !this.isValid(this.minDate)) {\n      this.minDate = null;\n      console.warn(`In order for the \"minDate\" property to have effect, you should enter valid date format`); // eslint-disable-line\n    }\n\n    if (this.maxDate && !this.isValid(this.maxDate)) {\n      this.maxDate = null;\n      console.warn(`In order for the \"maxDate\" property to have effect, you should enter valid date format`); // eslint-disable-line\n    }\n\n    if (this._checkValueValidity(this.value)) {\n      this._changeCalendarSelection();\n    } else if (this.value !== \"\") {\n      this._calendar.selectedDates = [];\n    }\n    const FormSupport = getFeature(\"FormSupport\");\n    if (FormSupport) {\n      FormSupport.syncNativeHiddenInput(this);\n    } else if (this.name) {\n      console.warn(`In order for the \"name\" property to have effect, you should also: import \"@ui5/webcomponents/dist/features/InputElementsFormSupport.js\";`); // eslint-disable-line\n    }\n\n    if (this.minDate) {\n      this._calendar.minDate = this.minDate;\n    }\n    if (this.maxDate) {\n      this._calendar.maxDate = this.maxDate;\n    }\n  }\n  _getTimeStampFromString(value) {\n    const jsDate = this.getFormat().parse(value);\n    if (jsDate) {\n      return CalendarDate.fromLocalJSDate(jsDate, this._primaryCalendarType).toUTCJSDate().valueOf();\n    }\n    return undefined;\n  }\n  _onkeydown(event) {\n    if (isShow(event)) {\n      event.preventDefault(); // Prevent scroll on Alt/Option + Arrow Up/Down\n      if (this.isOpen()) {\n        if (isF4(event)) {\n          if (this.calendar._monthPicker._hidden) {\n            this.calendar._showYearPicker();\n          }\n        } else {\n          this._toggleAndFocusInput();\n        }\n      } else {\n        this._toggleAndFocusInput();\n      }\n    }\n    if (this.isOpen()) {\n      return;\n    }\n    if (isEnter(event)) {\n      this._handleEnterPressed();\n    }\n    if (isPageUpShiftCtrl(event)) {\n      event.preventDefault();\n      this._changeDateValueWrapper(true, true, false, false);\n    } else if (isPageUpShift(event)) {\n      event.preventDefault();\n      this._changeDateValueWrapper(true, false, true, false);\n    } else if (isPageUp(event)) {\n      event.preventDefault();\n      this._changeDateValueWrapper(true, false, false, true);\n    }\n    if (isPageDownShiftCtrl(event)) {\n      event.preventDefault();\n      this._changeDateValueWrapper(false, true, false, false);\n    } else if (isPageDownShift(event)) {\n      event.preventDefault();\n      this._changeDateValueWrapper(false, false, true, false);\n    } else if (isPageDown(event)) {\n      event.preventDefault();\n      this._changeDateValueWrapper(false, false, false, true);\n    }\n  }\n\n  /**\n   * This method is used in the derived classes\n   */\n  _handleEnterPressed() {}\n\n  /**\n   * This method is used in the derived classes\n   */\n  _onfocusout() {}\n\n  /**\n   * Adds or extracts a given number of measuring units from the \"dateValue\" property value\n   * @param {boolean} forward if true indicates addition\n   * @param {boolean} years indicates that the measuring unit is in years\n   * @param {boolean} months indicates that the measuring unit is in months\n   * @param {boolean} days indicates that the measuring unit is in days\n   * @param {int} step number of measuring units to substract or add defaults to 1\n   */\n  _changeDateValueWrapper(forward, years, months, days, step = 1) {\n    let date = this.dateValue;\n    date = this._changeDateValue(date, forward, years, months, days, step);\n    this.value = this.formatValue(date);\n  }\n\n  /**\n   * Adds or extracts a given number of measuring units from the \"dateValue\" property value\n   *\n   * @param {boolean} date js date object to be changed\n   * @param {boolean} years indicates that the measuring unit is in years\n   * @param {boolean} months indicates that the measuring unit is in months\n   * @param {boolean} days indicates that the measuring unit is in days\n   * @param {boolean} forward if true indicates addition\n   * @param {int} step number of measuring units to substract or add defaults ot 1\n   * @returns {Object} JS date object\n   */\n  _changeDateValue(date, forward, years, months, days, step = 1) {\n    if (!date) {\n      return;\n    }\n    let calDate = CalendarDate.fromLocalJSDate(date, this._primaryCalendarType);\n    const oldCalDate = new CalendarDate(calDate, this._primaryCalendarType);\n    const incrementStep = forward ? step : -step;\n    if (incrementStep === 0 || !days && !months && !years) {\n      return;\n    }\n    if (days) {\n      calDate.setDate(calDate.getDate() + incrementStep);\n    } else if (months) {\n      calDate.setMonth(calDate.getMonth() + incrementStep);\n      const monthDiff = (calDate.getYear() - oldCalDate.getYear()) * 12 + (calDate.getMonth() - oldCalDate.getMonth());\n      if (calDate.getMonth() === oldCalDate.getMonth() || monthDiff !== incrementStep) {\n        // first condition example: 31th of March increment month with -1 results in 2th of March\n        // second condition example: 31th of January increment month with +1 results in 2th of March\n        calDate.setDate(0);\n      }\n    } else if (years) {\n      calDate.setYear(calDate.getYear() + incrementStep);\n      if (calDate.getMonth() !== oldCalDate.getMonth()) {\n        // day doesn't exist in this month (February 29th)\n        calDate.setDate(0);\n      }\n    }\n    if (calDate.valueOf() < this._minDate) {\n      calDate = CalendarDate.fromTimestamp(this._minDate, this._primaryCalendarType);\n    } else if (calDate.valueOf() > this._maxDate) {\n      calDate = CalendarDate.fromTimestamp(this._maxDate, this._primaryCalendarType);\n    }\n    return calDate.toLocalJSDate();\n  }\n  _toggleAndFocusInput() {\n    this.togglePicker();\n    this._getInput().focus();\n  }\n  _getInput() {\n    return this.shadowRoot.querySelector(\"[ui5-input]\");\n  }\n  async _handleInputChange() {\n    let nextValue = await this._getInput().getInputValue();\n    const emptyValue = nextValue === \"\";\n    const isValid = emptyValue || this._checkValueValidity(nextValue);\n    if (isValid) {\n      nextValue = this.normalizeValue(nextValue);\n      this.valueState = ValueState.None;\n    } else {\n      this.valueState = ValueState.Error;\n    }\n    this.value = nextValue;\n    this.fireEvent(\"change\", {\n      value: nextValue,\n      valid: isValid\n    });\n    // Angular two way data binding\n    this.fireEvent(\"value-changed\", {\n      value: nextValue,\n      valid: isValid\n    });\n  }\n  async _handleInputLiveChange() {\n    const nextValue = await this._getInput().getInputValue();\n    const emptyValue = nextValue === \"\";\n    const isValid = emptyValue || this._checkValueValidity(nextValue);\n    this.value = nextValue;\n    this.fireEvent(\"input\", {\n      value: nextValue,\n      valid: isValid\n    });\n  }\n  _checkValueValidity(value) {\n    return this.isValid(value) && this.isInValidRange(this._getTimeStampFromString(value));\n  }\n  _click(event) {\n    if (isPhone()) {\n      this.responsivePopover.open(this);\n      event.preventDefault(); // prevent immediate selection of any item\n    }\n  }\n\n  /**\n   * Checks if a value is valid against the current date format of the DatePicker.\n   * @param {string} value A value to be tested against the current date format\n   * @public\n   */\n  isValid(value = \"\") {\n    return !!(value && this.getFormat().parse(value));\n  }\n\n  /**\n   * Checks if a date is in range between minimum and maximum date.\n   * @param {object} value\n   * @public\n   */\n  isInValidRange(value = \"\") {\n    if (value === \"\") {\n      return true;\n    }\n    const pickedDate = new Date(value),\n      minDate = new Date(this._minDate),\n      maxDate = new Date(this._maxDate);\n    if (minDate && maxDate) {\n      if (minDate <= pickedDate && maxDate >= pickedDate) {\n        return true;\n      }\n    } else if (minDate && !maxDate) {\n      if (minDate <= pickedDate) {\n        return true;\n      }\n    } else if (maxDate && !minDate) {\n      if (maxDate >= pickedDate) {\n        return true;\n      }\n    } else if (!maxDate && !minDate) {\n      return true;\n    }\n    return false;\n  }\n\n  // because the parser understands more than one format\n  // but we need values in one format\n  normalizeValue(value) {\n    if (value === \"\") {\n      return value;\n    }\n    return this.getFormat().format(this.getFormat().parse(value));\n  }\n  get validValue() {\n    if (this.isValid(this.value)) {\n      return this.value;\n    }\n    return this.getFormat().format(new Date());\n  }\n  get calendar() {\n    return this.responsivePopover.querySelector(`#${this._id}-calendar`);\n  }\n  get _calendarDate() {\n    const millisecondsUTC = this.getFormat().parse(this.validValue, true).getTime();\n    const oCalDate = CalendarDate.fromTimestamp(millisecondsUTC - millisecondsUTC % (24 * 60 * 60 * 1000), this._primaryCalendarType);\n    return oCalDate;\n  }\n  get _primaryCalendarType() {\n    const localeData = getCachedLocaleDataInstance(getLocale());\n    return this.primaryCalendarType || getCalendarType() || localeData.getPreferredCalendarType();\n  }\n  get _formatPattern() {\n    return this.formatPattern || \"medium\"; // get from config\n  }\n\n  get _isPattern() {\n    return this._formatPattern !== \"medium\" && this._formatPattern !== \"short\" && this._formatPattern !== \"long\";\n  }\n  get _displayFormat() {\n    return this.getFormat().oFormatOptions.pattern;\n  }\n  get _placeholder() {\n    return this.placeholder !== undefined ? this.placeholder : this._displayFormat;\n  }\n  get _headerTitleText() {\n    return this.i18nBundle.getText(INPUT_SUGGESTIONS_TITLE);\n  }\n  get phone() {\n    return isPhone();\n  }\n  get showHeader() {\n    return this.phone;\n  }\n  get showFooter() {\n    return this.phone;\n  }\n  get _isIE() {\n    return isIE();\n  }\n  getFormat() {\n    let dateFormat;\n    if (this._isPattern) {\n      dateFormat = DateFormat.getInstance({\n        pattern: this._formatPattern,\n        calendarType: this._primaryCalendarType\n      });\n    } else {\n      dateFormat = DateFormat.getInstance({\n        style: this._formatPattern,\n        calendarType: this._primaryCalendarType\n      });\n    }\n    return dateFormat;\n  }\n  get accInfo() {\n    return {\n      \"ariaDescribedBy\": `${this._id}-date`,\n      \"ariaHasPopup\": \"true\",\n      \"ariaAutoComplete\": \"none\",\n      \"role\": \"combobox\",\n      \"ariaOwns\": `${this._id}-responsive-popover`,\n      \"ariaExpanded\": this.isOpen(),\n      \"ariaDescription\": this.dateAriaDescription,\n      \"ariaLabel\": getEffectiveAriaLabelText(this)\n    };\n  }\n  get _maxDate() {\n    return this.maxDate ? this._getTimeStampFromString(this.maxDate) : this._getMaxCalendarDate();\n  }\n  get _minDate() {\n    return this.minDate ? this._getTimeStampFromString(this.minDate) : this._getMinCalendarDate();\n  }\n  _getMinCalendarDate() {\n    return getMinCalendarDate(this._primaryCalendarType);\n  }\n  _getMaxCalendarDate() {\n    return getMaxCalendarDate(this._primaryCalendarType);\n  }\n  get openIconTitle() {\n    return this.i18nBundle.getText(DATEPICKER_OPEN_ICON_TITLE);\n  }\n  get openIconName() {\n    return \"appointment-2\";\n  }\n  get dateAriaDescription() {\n    return this.i18nBundle.getText(DATEPICKER_DATE_ACC_TEXT);\n  }\n\n  /**\n   * Defines whether the dialog on mobile should have header\n   * @private\n   */\n  get _shouldHideHeader() {\n    return false;\n  }\n  async _respPopover() {\n    const staticAreaItem = await this.getStaticAreaItemDomRef();\n    return staticAreaItem.querySelector(\"[ui5-responsive-popover]\");\n  }\n  _canOpenPicker() {\n    return !this.disabled && !this.readonly;\n  }\n  _handleCalendarChange(event) {\n    const iNewValue = event.detail.dates && event.detail.dates[0];\n    if (this._calendar.selectedDates.indexOf(iNewValue) !== -1) {\n      this.closePicker();\n      return false;\n    }\n    const fireChange = this._handleCalendarSelectedDatesChange(event, iNewValue);\n    if (fireChange) {\n      this.fireEvent(\"change\", {\n        value: this.value,\n        valid: true\n      });\n      // Angular two way data binding\n      this.fireEvent(\"value-changed\", {\n        value: this.value,\n        valid: true\n      });\n    }\n    this.closePicker();\n  }\n  _handleCalendarSelectedDatesChange(event, newValue) {\n    this._updateValueCalendarSelectedDatesChange(newValue);\n    this._calendar.timestamp = newValue;\n    this._calendar.selectedDates = [...event.detail.dates];\n    this._focusInputAfterClose = true;\n    if (this.isInValidRange(this._getTimeStampFromString(this.value))) {\n      this.valueState = ValueState.None;\n    } else {\n      this.valueState = ValueState.Error;\n    }\n    return true;\n  }\n  _updateValueCalendarSelectedDatesChange(newValue) {\n    this.value = this.getFormat().format(new Date(CalendarDate.fromTimestamp(newValue * 1000, this._primaryCalendarType).valueOf()), true);\n  }\n\n  /**\n   * Formats a Java Script date object into a string representing a locale date\n   * according to the <code>formatPattern</code> property of the DatePicker instance\n   * @param {object} oDate A Java Script date object to be formatted as string\n   * @public\n   */\n  formatValue(oDate) {\n    return this.getFormat().format(oDate);\n  }\n\n  /**\n   * Closes the picker.\n   * @public\n   */\n  closePicker() {\n    this.responsivePopover.close();\n  }\n\n  /**\n   * Opens the picker.\n   * @param {object} options A JSON object with additional configuration.<br>\n   * <code>{ focusInput: true }</code> By default, the focus goes in the picker after opening it.\n   * Specify this option to focus the input field.\n   * @public\n   */\n  async openPicker(options) {\n    this._isPickerOpen = true;\n    this.responsivePopover = await this._respPopover();\n    this._changeCalendarSelection();\n    if (options && options.focusInput) {\n      this._focusInputAfterOpen = true;\n    }\n    this.responsivePopover.open(this);\n  }\n  togglePicker() {\n    if (this.isOpen()) {\n      this.closePicker();\n    } else if (this._canOpenPicker()) {\n      this.openPicker();\n    }\n  }\n  _changeCalendarSelection() {\n    if (this._calendarDate.getYear() < 1) {\n      // 0 is a valid year, but we cannot display it\n      return;\n    }\n    const timestamp = this._calendarDate.valueOf() / 1000;\n    this._calendar = Object.assign({}, this._calendar);\n    this._calendar.timestamp = timestamp;\n    this._calendar.selectedDates = this.value ? [timestamp] : [];\n  }\n\n  /**\n   * Checks if the picker is open.\n   * @returns {Boolean} true if the picker is open, false otherwise\n   * @public\n   */\n  isOpen() {\n    return !!this._isPickerOpen;\n  }\n\n  /**\n   * Gets some semantic details about an event originated in the control.\n   * @param {*} event An event object\n   * @returns {Object} Semantic details\n   */\n  getSemanticTargetInfo(event) {\n    const oDomTarget = getDomTarget(event);\n    let isInput = false;\n    if (oDomTarget && oDomTarget.className.indexOf(\"ui5-input-inner\") > -1) {\n      isInput = true;\n    }\n    return {\n      isInput\n    };\n  }\n\n  /**\n   * Currently selected date represented as JavaScript Date instance.\n   *\n   * @readonly\n   * @type { Date }\n   * @public\n   */\n  get dateValue() {\n    return this.getFormat().parse(this.value);\n  }\n  get styles() {\n    return {\n      main: {\n        width: \"100%\"\n      }\n    };\n  }\n  get type() {\n    return InputType.Text;\n  }\n  static get dependencies() {\n    return [Icon, ResponsivePopover, Calendar, Input, Button];\n  }\n  static async onDefine() {\n    await Promise.all([fetchCldr(getLocale().getLanguage(), getLocale().getRegion(), getLocale().getScript()), fetchI18nBundle(\"@ui5/webcomponents\")]);\n  }\n}\nconst getDomTarget = event => {\n  let target, composedPath;\n  if (typeof event.composedPath === \"function\") {\n    composedPath = event.composedPath();\n  }\n  if (Array.isArray(composedPath) && composedPath.length) {\n    target = composedPath[0];\n  }\n  return target;\n};\nDatePicker.define();\nexport default DatePicker;","map":{"version":3,"names":["UI5Element","litRender","fetchCldr","getCalendarType","getLocale","getFeature","getCachedLocaleDataInstance","DateFormat","CalendarType","CalendarDate","ValueState","getEffectiveAriaLabelText","isEnter","isPageUp","isPageDown","isPageUpShift","isPageDownShift","isPageUpShiftCtrl","isPageDownShiftCtrl","isShow","isF4","isPhone","isIE","fetchI18nBundle","getI18nBundle","CalendarSelection","RenderScheduler","DATEPICKER_OPEN_ICON_TITLE","DATEPICKER_DATE_ACC_TEXT","INPUT_SUGGESTIONS_TITLE","getMaxCalendarDate","getMinCalendarDate","Icon","Button","ResponsivePopover","Calendar","Input","InputType","DatePickerTemplate","DatePickerPopoverTemplate","datePickerCss","datePickerPopoverCss","ResponsivePopoverCommonCss","metadata","tag","altTag","languageAware","managedSlots","properties","value","type","String","valueState","defaultValue","None","formatPattern","minDate","maxDate","primaryCalendarType","required","Boolean","disabled","readonly","placeholder","undefined","name","hideWeekNumbers","ariaLabel","ariaLabelledby","_isPickerOpen","noAttribute","_respPopoverConfig","Object","_calendar","slots","valueStateMessage","HTMLElement","events","change","input","DatePicker","render","template","staticAreaTemplate","styles","staticAreaStyles","constructor","allowTargetOverlap","stayOpenOnScroll","afterClose","blur","_focusInputAfterClose","_getInput","focus","calendar","_hideMonthPicker","_hideYearPicker","afterOpen","whenFinished","dayPicker","shadowRoot","querySelector","_id","selectedDay","today","focusableDay","isInValidRange","Date","getTime","findFirstFocusableDay","_focusInputAfterOpen","focusableDayIdx","parseInt","getAttribute","focusableItem","focusableDays","find","item","_index","indexOf","_itemNav","current","update","onSelectedDatesChange","_handleCalendarChange","bind","selection","Single","selectedDates","i18nBundle","daypicker","focusableItems","Array","from","querySelectorAll","filter","x","classList","contains","onBeforeRendering","_primaryCalendarType","_formatPattern","isValid","console","warn","_checkValueValidity","_changeCalendarSelection","FormSupport","syncNativeHiddenInput","_getTimeStampFromString","jsDate","getFormat","parse","fromLocalJSDate","toUTCJSDate","valueOf","_onkeydown","event","preventDefault","isOpen","_monthPicker","_hidden","_showYearPicker","_toggleAndFocusInput","_handleEnterPressed","_changeDateValueWrapper","_onfocusout","forward","years","months","days","step","date","dateValue","_changeDateValue","formatValue","calDate","oldCalDate","incrementStep","setDate","getDate","setMonth","getMonth","monthDiff","getYear","setYear","_minDate","fromTimestamp","_maxDate","toLocalJSDate","togglePicker","_handleInputChange","nextValue","getInputValue","emptyValue","normalizeValue","Error","fireEvent","valid","_handleInputLiveChange","_click","responsivePopover","open","pickedDate","format","validValue","_calendarDate","millisecondsUTC","oCalDate","localeData","getPreferredCalendarType","_isPattern","_displayFormat","oFormatOptions","pattern","_placeholder","_headerTitleText","getText","phone","showHeader","showFooter","_isIE","dateFormat","getInstance","calendarType","style","accInfo","dateAriaDescription","_getMaxCalendarDate","_getMinCalendarDate","openIconTitle","openIconName","_shouldHideHeader","_respPopover","staticAreaItem","getStaticAreaItemDomRef","_canOpenPicker","iNewValue","detail","dates","closePicker","fireChange","_handleCalendarSelectedDatesChange","newValue","_updateValueCalendarSelectedDatesChange","timestamp","oDate","close","openPicker","options","focusInput","assign","getSemanticTargetInfo","oDomTarget","getDomTarget","isInput","className","main","width","Text","dependencies","onDefine","Promise","all","getLanguage","getRegion","getScript","target","composedPath","isArray","length","define"],"sources":["/home/paris/projekty/haergi/feng/workspace/recipe-sharing-app/frontend/node_modules/@ui5/webcomponents/dist/DatePicker.js"],"sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport { fetchCldr } from \"@ui5/webcomponents-base/dist/asset-registries/LocaleData.js\";\nimport { getCalendarType } from \"@ui5/webcomponents-base/dist/config/CalendarType.js\";\nimport getLocale from \"@ui5/webcomponents-base/dist/locale/getLocale.js\";\nimport { getFeature } from \"@ui5/webcomponents-base/dist/FeaturesRegistry.js\";\nimport getCachedLocaleDataInstance from \"@ui5/webcomponents-localization/dist/getCachedLocaleDataInstance.js\";\nimport DateFormat from \"@ui5/webcomponents-localization/dist/DateFormat.js\";\nimport CalendarType from \"@ui5/webcomponents-base/dist/types/CalendarType.js\";\nimport CalendarDate from \"@ui5/webcomponents-localization/dist/dates/CalendarDate.js\";\nimport ValueState from \"@ui5/webcomponents-base/dist/types/ValueState.js\";\nimport { getEffectiveAriaLabelText } from \"@ui5/webcomponents-base/dist/util/AriaLabelHelper.js\";\nimport {\n\tisEnter,\n\tisPageUp,\n\tisPageDown,\n\tisPageUpShift,\n\tisPageDownShift,\n\tisPageUpShiftCtrl,\n\tisPageDownShiftCtrl,\n\tisShow,\n\tisF4,\n} from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport { isPhone, isIE } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport { fetchI18nBundle, getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport \"@ui5/webcomponents-icons/dist/appointment-2.js\";\nimport \"@ui5/webcomponents-icons/dist/decline.js\";\nimport CalendarSelection from \"@ui5/webcomponents-base/dist/types/CalendarSelection.js\";\nimport RenderScheduler from \"@ui5/webcomponents-base/dist/RenderScheduler.js\";\nimport { DATEPICKER_OPEN_ICON_TITLE, DATEPICKER_DATE_ACC_TEXT, INPUT_SUGGESTIONS_TITLE } from \"./generated/i18n/i18n-defaults.js\";\nimport { getMaxCalendarDate, getMinCalendarDate } from \"./util/DateTime.js\";\nimport Icon from \"./Icon.js\";\nimport Button from \"./Button.js\";\nimport ResponsivePopover from \"./ResponsivePopover.js\";\nimport Calendar from \"./Calendar.js\";\nimport Input from \"./Input.js\";\nimport InputType from \"./types/InputType.js\";\nimport DatePickerTemplate from \"./generated/templates/DatePickerTemplate.lit.js\";\nimport DatePickerPopoverTemplate from \"./generated/templates/DatePickerPopoverTemplate.lit.js\";\n\n// default calendar for bundling\nimport \"@ui5/webcomponents-localization/dist/features/calendar/Gregorian.js\";\n\n// Styles\nimport datePickerCss from \"./generated/themes/DatePicker.css.js\";\nimport datePickerPopoverCss from \"./generated/themes/DatePickerPopover.css.js\";\nimport ResponsivePopoverCommonCss from \"./generated/themes/ResponsivePopoverCommon.css.js\";\n\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-date-picker\",\n\taltTag: \"ui5-datepicker\",\n\tlanguageAware: true,\n\tmanagedSlots: true,\n\tproperties: /** @lends  sap.ui.webcomponents.main.DatePicker.prototype */ {\n\t\t/**\n\t\t * Defines a formatted date value.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tvalue: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Defines the value state of the <code>ui5-date-picker</code>.\n\t\t * <br><br>\n\t\t * Available options are:\n\t\t * <ul>\n\t\t * <li><code>None</code></li>\n\t\t * <li><code>Error</code></li>\n\t\t * <li><code>Warning</code></li>\n\t\t * <li><code>Success</code></li>\n\t\t * <li><code>Information</code></li>\n\t\t * </ul>\n\t\t *\n\t\t * @type {ValueState}\n\t\t * @defaultvalue \"None\"\n\t\t * @public\n\t\t */\n\t\tvalueState: {\n\t\t\ttype: ValueState,\n\t\t\tdefaultValue: ValueState.None,\n\t\t},\n\n\t\t/**\n\t\t * Determines the format, displayed in the input field.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tformatPattern: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Determines the minimum date available for selection.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @since 1.0.0-rc.6\n\t\t * @public\n\t\t */\n\t\tminDate: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Determines the maximum date available for selection.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @since 1.0.0-rc.6\n\t\t * @public\n\t\t */\n\t\tmaxDate: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Determines the calendar type.\n\t\t * The input value is formated according to the calendar type\n\t\t * and the picker shows the months and years from the specified calendar.\n\t\t * <br><br>\n\t\t * Available options are:\n\t\t * <ul>\n\t\t * <li><code>Gregorian</code></li>\n\t\t * <li><code>Islamic</code></li>\n\t\t * <li><code>Japanese</code></li>\n\t\t * <li><code>Buddhist</code></li>\n\t\t * <li><code>Persian</code></li>\n\t\t * </ul>\n\t\t *\n\t\t * @type {CalendarType}\n\t\t * @defaultvalue \"Gregorian\"\n\t\t * @public\n\t\t */\n\t\tprimaryCalendarType: {\n\t\t\ttype: CalendarType,\n\t\t},\n\n\t\t/**\n\t\t * Defines whether the <code>ui5-date-picker</code> is required.\n\t\t *\n\t\t * @since 1.0.0-rc.9\n\t\t * @type {Boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\trequired: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Determines whether the <code>ui5-date-picker</code> is displayed as disabled.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Determines whether the <code>ui5-date-picker</code> is displayed as read-only.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\treadonly: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines a short hint, intended to aid the user with data entry when the\n\t\t * <code>ui5-date-picker</code> has no value.\n\t\t *\n\t\t * <br><br>\n\t\t * <b>Note:</b> When no placeholder is set, the format pattern is displayed as a placeholder.\n\t\t * Passing an empty string as the value of this property will make the <code>ui5-date-picker</code> appear empty - without placeholder or format pattern.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue undefined\n\t\t * @public\n\t\t */\n\t\tplaceholder: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: undefined,\n\t\t},\n\n\t\t/**\n\t\t * Determines the name with which the <code>ui5-date-picker</code> will be submitted in an HTML form.\n\t\t *\n\t\t * <br><br>\n\t\t * <b>Important:</b> For the <code>name</code> property to have effect, you must add the following import to your project:\n\t\t * <code>import \"@ui5/webcomponents/dist/features/InputElementsFormSupport.js\";</code>\n\t\t *\n\t\t * <br><br>\n\t\t * <b>Note:</b> When set, a native <code>input</code> HTML element\n\t\t * will be created inside the <code>ui5-date-picker</code> so that it can be submitted as\n\t\t * part of an HTML form. Do not use this property unless you need to submit a form.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tname: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Defines the visibility of the week numbers column.\n\t\t * <br><br>\n\t\t *\n\t\t * <b>Note:<b> For calendars other than Gregorian,\n\t\t * the week numbers are not displayed regardless of what is set.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t * @since 1.0.0-rc.8\n\t\t */\n\t\thideWeekNumbers: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Defines the aria-label attribute for the <code>ui5-date-picker</code>.\n\t\t *\n\t\t * @type {String}\n\t\t * @since 1.0.0-rc.9\n\t\t * @private\n\t\t * @defaultvalue \"\"\n\t\t */\n\t\tariaLabel: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Receives id(or many ids) of the elements that label the <code>ui5-date-picker</code>.\n\t\t *\n\t\t * @type {String}\n\t\t * @defaultvalue \"\"\n\t\t * @private\n\t\t * @since 1.0.0-rc.9\n\t\t */\n\t\tariaLabelledby: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: \"\",\n\t\t},\n\n\t\t_isPickerOpen: {\n\t\t\ttype: Boolean,\n\t\t\tnoAttribute: true,\n\t\t},\n\n\t\t_respPopoverConfig: {\n\t\t\ttype: Object,\n\t\t},\n\n\t\t_calendar: {\n\t\t\ttype: Object,\n\t\t},\n\t},\n\n\tslots: /** @lends  sap.ui.webcomponents.main.DatePicker.prototype */ {\n\t\t/**\n\t\t * Defines the value state message that will be displayed as pop up under the <code>ui5-date-picker</code>.\n\t\t * <br><br>\n\t\t *\n\t\t * <b>Note:</b> If not specified, a default text (in the respective language) will be displayed.\n\t\t * <br>\n\t\t * <b>Note:</b> The <code>valueStateMessage</code> would be displayed,\n\t\t * when the <code>ui5-date-picker</code> is in <code>Information</code>, <code>Warning</code> or <code>Error</code> value state.\n\t\t * @type {HTMLElement}\n\t\t * @since 1.0.0-rc.7\n\t\t * @slot\n\t\t * @public\n\t\t */\n\t\tvalueStateMessage: {\n\t\t\ttype: HTMLElement,\n\t\t},\n\t},\n\n\tevents: /** @lends  sap.ui.webcomponents.main.DatePicker.prototype */ {\n\n\t\t/**\n\t\t * Fired when the input operation has finished by pressing Enter or on focusout.\n\t\t *\n\t\t * @event\n\t\t * @public\n\t\t*/\n\t\tchange: {},\n\n\t\t/**\n\t\t * Fired when the value of the <code>ui5-date-picker</code> is changed at each key stroke.\n\t\t *\n\t\t * @event\n\t\t * @public\n\t\t*/\n\t\tinput: {},\n\t},\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n *\n * The <code>ui5-date-picker</code> component provides an input field with assigned calendar which opens on user action.\n * The <code>ui5-date-picker</code> allows users to select a localized date using touch,\n * mouse, or keyboard input. It consists of two parts: the date input field and the\n * date picker.\n *\n * <h3>Usage</h3>\n *\n * The user can enter a date by:\n * <ul>\n * <li>Using the calendar that opens in a popup</li>\n * <li>Typing it in directly in the input field</li>\n * </ul>\n * <br><br>\n * When the user makes an entry and chooses the enter key, the calendar shows the corresponding date.\n * When the user directly triggers the calendar display, the actual date is displayed.\n *\n * <h3>Formatting</h3>\n *\n * If a date is entered by typing it into\n * the input field, it must fit to the used date format.\n * <br><br>\n * Supported format options are pattern-based on Unicode LDML Date Format notation.\n * For more information, see <ui5-link target=\"_blank\" href=\"http://unicode.org/reports/tr35/#Date_Field_Symbol_Table\" class=\"api-table-content-cell-link\">UTS #35: Unicode Locale Data Markup Language</ui5-link>.\n * <br><br>\n * For example, if the <code>format-pattern</code> is \"yyyy-MM-dd\",\n * a valid value string is \"2015-07-30\" and the same is displayed in the input.\n *\n * <h3>Keyboard Handling</h3>\n * The <code>ui5-date-picker</code> provides advanced keyboard handling.\n * If the <code>ui5-date-picker</code> is focused,\n * you can open or close the drop-down by pressing <code>F4</code>, <code>ALT+UP</code> or <code>ALT+DOWN</code> keys.\n * Once the drop-down is opened, you can use the <code>UP</code>, <code>DOWN</code>, <code>LEFT</code>, <code>RIGHT</code> arrow keys\n * to navigate through the dates and select one by pressing the <code>Space</code> or <code>Enter</code> keys. Moreover you can\n * use TAB to reach the buttons for changing month and year.\n * <br>\n *\n * If the <code>ui5-date-picker</code> is focused and the picker dialog is not opened the user can\n * increment or decrement the corresponding field of the JS date object referenced by <code>dateValue</code> propery\n * by using the following shortcuts:\n * <br>\n * <ul>\n * <li>[PAGEDOWN] - Decrements the corresponding day of the month by one</li>\n * <li>[SHIFT] + [PAGEDOWN] - Decrements the corresponding month by one</li>\n * <li>[SHIFT] + [CTRL] + [PAGEDOWN] - Decrements the corresponding year by one</li>\n * <li>[PAGEUP] - Increments the corresponding day of the month by one</li>\n * <li>[SHIFT] + [PAGEUP] - Increments the corresponding month by one</li>\n * <li>[SHIFT] + [CTRL] + [PAGEUP] - Increments the corresponding year by one</li>\n * </ul>\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import \"@ui5/webcomponents/dist/DatePicker\";</code>\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.DatePicker\n * @extends sap.ui.webcomponents.base.UI5Element\n * @tagname ui5-date-picker\n * @public\n */\nclass DatePicker extends UI5Element {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get render() {\n\t\treturn litRender;\n\t}\n\n\tstatic get template() {\n\t\treturn DatePickerTemplate;\n\t}\n\n\tstatic get staticAreaTemplate() {\n\t\treturn DatePickerPopoverTemplate;\n\t}\n\n\tstatic get styles() {\n\t\treturn datePickerCss;\n\t}\n\n\tstatic get staticAreaStyles() {\n\t\treturn [ResponsivePopoverCommonCss, datePickerPopoverCss];\n\t}\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis._respPopoverConfig = {\n\t\t\tallowTargetOverlap: true,\n\t\t\tstayOpenOnScroll: true,\n\t\t\tafterClose: () => {\n\t\t\t\tthis._isPickerOpen = false;\n\n\t\t\t\tif (isPhone()) {\n\t\t\t\t\t// close device's keyboard and prevent further typing\n\t\t\t\t\tthis.blur();\n\t\t\t\t} else if (this._focusInputAfterClose) {\n\t\t\t\t\tthis._getInput().focus();\n\t\t\t\t\tthis._focusInputAfterClose = false;\n\t\t\t\t}\n\n\t\t\t\tconst calendar = this.calendar;\n\t\t\t\tif (calendar) {\n\t\t\t\t\tcalendar._hideMonthPicker();\n\t\t\t\t\tcalendar._hideYearPicker();\n\t\t\t\t}\n\t\t\t},\n\t\t\tafterOpen: async () => {\n\t\t\t\tawait RenderScheduler.whenFinished();\n\t\t\t\tconst calendar = this.calendar;\n\n\t\t\t\tif (!calendar) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst dayPicker = calendar.shadowRoot.querySelector(`#${calendar._id}-daypicker`);\n\t\t\t\tconst selectedDay = dayPicker.shadowRoot.querySelector(\".ui5-dp-item--selected\");\n\t\t\t\tconst today = dayPicker.shadowRoot.querySelector(\".ui5-dp-item--now\");\n\t\t\t\tlet focusableDay = selectedDay || today;\n\t\t\t\tif (!selectedDay && (this.minDate || this.maxDate) && !this.isInValidRange((new Date().getTime()))) {\n\t\t\t\t\tfocusableDay = this.findFirstFocusableDay(dayPicker);\n\t\t\t\t}\n\n\t\t\t\tif (this._focusInputAfterOpen) {\n\t\t\t\t\tthis._focusInputAfterOpen = false;\n\t\t\t\t\tthis._getInput().focus();\n\t\t\t\t} else if (focusableDay) {\n\t\t\t\t\tfocusableDay.focus();\n\n\t\t\t\t\tlet focusableDayIdx = parseInt(focusableDay.getAttribute(\"data-sap-index\"));\n\t\t\t\t\tconst focusableItem = dayPicker.focusableDays.find(item => parseInt(item._index) === focusableDayIdx);\n\t\t\t\t\tfocusableDayIdx = focusableItem ? dayPicker.focusableDays.indexOf(focusableItem) : focusableDayIdx;\n\n\t\t\t\t\tdayPicker._itemNav.current = focusableDayIdx;\n\t\t\t\t\tdayPicker._itemNav.update();\n\t\t\t\t}\n\t\t\t},\n\t\t};\n\n\t\tthis._calendar = {\n\t\t\tonSelectedDatesChange: this._handleCalendarChange.bind(this),\n\t\t\tselection: CalendarSelection.Single,\n\t\t\tselectedDates: [],\n\t\t};\n\n\t\tthis.i18nBundle = getI18nBundle(\"@ui5/webcomponents\");\n\t}\n\n\tfindFirstFocusableDay(daypicker) {\n\t\tconst today = new Date();\n\t\tif (!this.isInValidRange(today.getTime())) {\n\t\t\tconst focusableItems = Array.from(daypicker.shadowRoot.querySelectorAll(\".ui5-dp-item\"));\n\t\t\treturn focusableItems.filter(x => !x.classList.contains(\"ui5-dp-item--disabled\"))[0];\n\t\t}\n\t}\n\n\tonBeforeRendering() {\n\t\tthis._calendar.primaryCalendarType = this._primaryCalendarType;\n\t\tthis._calendar.formatPattern = this._formatPattern;\n\n\t\tif (this.minDate && !this.isValid(this.minDate)) {\n\t\t\tthis.minDate = null;\n\t\t\tconsole.warn(`In order for the \"minDate\" property to have effect, you should enter valid date format`); // eslint-disable-line\n\t\t}\n\n\t\tif (this.maxDate && !this.isValid(this.maxDate)) {\n\t\t\tthis.maxDate = null;\n\t\t\tconsole.warn(`In order for the \"maxDate\" property to have effect, you should enter valid date format`); // eslint-disable-line\n\t\t}\n\n\t\tif (this._checkValueValidity(this.value)) {\n\t\t\tthis._changeCalendarSelection();\n\t\t} else if (this.value !== \"\") {\n\t\t\tthis._calendar.selectedDates = [];\n\t\t}\n\n\t\tconst FormSupport = getFeature(\"FormSupport\");\n\t\tif (FormSupport) {\n\t\t\tFormSupport.syncNativeHiddenInput(this);\n\t\t} else if (this.name) {\n\t\t\tconsole.warn(`In order for the \"name\" property to have effect, you should also: import \"@ui5/webcomponents/dist/features/InputElementsFormSupport.js\";`); // eslint-disable-line\n\t\t}\n\n\t\tif (this.minDate) {\n\t\t\tthis._calendar.minDate = this.minDate;\n\t\t}\n\n\t\tif (this.maxDate) {\n\t\t\tthis._calendar.maxDate = this.maxDate;\n\t\t}\n\t}\n\n\t_getTimeStampFromString(value) {\n\t\tconst jsDate = this.getFormat().parse(value);\n\t\tif (jsDate) {\n\t\t\treturn CalendarDate.fromLocalJSDate(jsDate, this._primaryCalendarType).toUTCJSDate().valueOf();\n\t\t}\n\t\treturn undefined;\n\t}\n\n\t_onkeydown(event) {\n\t\tif (isShow(event)) {\n\t\t\tevent.preventDefault(); // Prevent scroll on Alt/Option + Arrow Up/Down\n\t\t\tif (this.isOpen()) {\n\t\t\t\tif (isF4(event)) {\n\t\t\t\t\tif (this.calendar._monthPicker._hidden) {\n\t\t\t\t\t\tthis.calendar._showYearPicker();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tthis._toggleAndFocusInput();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis._toggleAndFocusInput();\n\t\t\t}\n\t\t}\n\n\t\tif (this.isOpen()) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (isEnter(event)) {\n\t\t\tthis._handleEnterPressed();\n\t\t}\n\n\t\tif (isPageUpShiftCtrl(event)) {\n\t\t\tevent.preventDefault();\n\t\t\tthis._changeDateValueWrapper(true, true, false, false);\n\t\t} else if (isPageUpShift(event)) {\n\t\t\tevent.preventDefault();\n\t\t\tthis._changeDateValueWrapper(true, false, true, false);\n\t\t} else if (isPageUp(event)) {\n\t\t\tevent.preventDefault();\n\t\t\tthis._changeDateValueWrapper(true, false, false, true);\n\t\t}\n\n\t\tif (isPageDownShiftCtrl(event)) {\n\t\t\tevent.preventDefault();\n\t\t\tthis._changeDateValueWrapper(false, true, false, false);\n\t\t} else if (isPageDownShift(event)) {\n\t\t\tevent.preventDefault();\n\t\t\tthis._changeDateValueWrapper(false, false, true, false);\n\t\t} else if (isPageDown(event)) {\n\t\t\tevent.preventDefault();\n\t\t\tthis._changeDateValueWrapper(false, false, false, true);\n\t\t}\n\t}\n\n\t/**\n\t * This method is used in the derived classes\n\t */\n\t_handleEnterPressed() {}\n\n\t/**\n\t * This method is used in the derived classes\n\t */\n\t_onfocusout() {}\n\n\t/**\n\t * Adds or extracts a given number of measuring units from the \"dateValue\" property value\n\t * @param {boolean} forward if true indicates addition\n\t * @param {boolean} years indicates that the measuring unit is in years\n\t * @param {boolean} months indicates that the measuring unit is in months\n\t * @param {boolean} days indicates that the measuring unit is in days\n\t * @param {int} step number of measuring units to substract or add defaults to 1\n\t */\n\t_changeDateValueWrapper(forward, years, months, days, step = 1) {\n\t\tlet date = this.dateValue;\n\t\tdate = this._changeDateValue(date, forward, years, months, days, step);\n\t\tthis.value = this.formatValue(date);\n\t}\n\n\t/**\n\t * Adds or extracts a given number of measuring units from the \"dateValue\" property value\n\t *\n\t * @param {boolean} date js date object to be changed\n\t * @param {boolean} years indicates that the measuring unit is in years\n\t * @param {boolean} months indicates that the measuring unit is in months\n\t * @param {boolean} days indicates that the measuring unit is in days\n\t * @param {boolean} forward if true indicates addition\n\t * @param {int} step number of measuring units to substract or add defaults ot 1\n\t * @returns {Object} JS date object\n\t */\n\t_changeDateValue(date, forward, years, months, days, step = 1) {\n\t\tif (!date) {\n\t\t\treturn;\n\t\t}\n\n\t\tlet calDate = CalendarDate.fromLocalJSDate(date, this._primaryCalendarType);\n\t\tconst oldCalDate = new CalendarDate(calDate, this._primaryCalendarType);\n\t\tconst incrementStep = forward ? step : -step;\n\n\t\tif (incrementStep === 0 || (!days && !months && !years)) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (days) {\n\t\t\tcalDate.setDate(calDate.getDate() + incrementStep);\n\t\t} else if (months) {\n\t\t\tcalDate.setMonth(calDate.getMonth() + incrementStep);\n\t\t\tconst monthDiff = (calDate.getYear() - oldCalDate.getYear()) * 12 + (calDate.getMonth() - oldCalDate.getMonth());\n\n\t\t\tif (calDate.getMonth() === oldCalDate.getMonth() || monthDiff !== incrementStep) {\n\t\t\t\t// first condition example: 31th of March increment month with -1 results in 2th of March\n\t\t\t\t// second condition example: 31th of January increment month with +1 results in 2th of March\n\t\t\t\tcalDate.setDate(0);\n\t\t\t}\n\t\t} else if (years) {\n\t\t\tcalDate.setYear(calDate.getYear() + incrementStep);\n\n\t\t\tif (calDate.getMonth() !== oldCalDate.getMonth()) {\n\t\t\t\t// day doesn't exist in this month (February 29th)\n\t\t\t\tcalDate.setDate(0);\n\t\t\t}\n\t\t}\n\n\t\tif (calDate.valueOf() < this._minDate) {\n\t\t\tcalDate = CalendarDate.fromTimestamp(this._minDate, this._primaryCalendarType);\n\t\t} else if (calDate.valueOf() > this._maxDate) {\n\t\t\tcalDate = CalendarDate.fromTimestamp(this._maxDate, this._primaryCalendarType);\n\t\t}\n\n\t\treturn calDate.toLocalJSDate();\n\t}\n\n\t_toggleAndFocusInput() {\n\t\tthis.togglePicker();\n\t\tthis._getInput().focus();\n\t}\n\n\t_getInput() {\n\t\treturn this.shadowRoot.querySelector(\"[ui5-input]\");\n\t}\n\n\tasync _handleInputChange() {\n\t\tlet nextValue = await this._getInput().getInputValue();\n\t\tconst emptyValue = nextValue === \"\";\n\t\tconst isValid = emptyValue || this._checkValueValidity(nextValue);\n\n\t\tif (isValid) {\n\t\t\tnextValue = this.normalizeValue(nextValue);\n\t\t\tthis.valueState = ValueState.None;\n\t\t} else {\n\t\t\tthis.valueState = ValueState.Error;\n\t\t}\n\n\n\t\tthis.value = nextValue;\n\t\tthis.fireEvent(\"change\", { value: nextValue, valid: isValid });\n\t\t// Angular two way data binding\n\t\tthis.fireEvent(\"value-changed\", { value: nextValue, valid: isValid });\n\t}\n\n\tasync _handleInputLiveChange() {\n\t\tconst nextValue = await this._getInput().getInputValue();\n\t\tconst emptyValue = nextValue === \"\";\n\t\tconst isValid = emptyValue || this._checkValueValidity(nextValue);\n\n\t\tthis.value = nextValue;\n\t\tthis.fireEvent(\"input\", { value: nextValue, valid: isValid });\n\t}\n\n\t_checkValueValidity(value) {\n\t\treturn this.isValid(value) && this.isInValidRange(this._getTimeStampFromString(value));\n\t}\n\n\t_click(event) {\n\t\tif (isPhone()) {\n\t\t\tthis.responsivePopover.open(this);\n\t\t\tevent.preventDefault(); // prevent immediate selection of any item\n\t\t}\n\t}\n\n\t/**\n\t * Checks if a value is valid against the current date format of the DatePicker.\n\t * @param {string} value A value to be tested against the current date format\n\t * @public\n\t */\n\tisValid(value = \"\") {\n\t\treturn !!(value && this.getFormat().parse(value));\n\t}\n\n\t/**\n\t * Checks if a date is in range between minimum and maximum date.\n\t * @param {object} value\n\t * @public\n\t */\n\tisInValidRange(value = \"\") {\n\t\tif (value === \"\") {\n\t\t\treturn true;\n\t\t}\n\n\t\tconst pickedDate = new Date(value),\n\t\t\tminDate = new Date(this._minDate),\n\t\t\tmaxDate = new Date(this._maxDate);\n\n\t\tif (minDate && maxDate) {\n\t\t\tif (minDate <= pickedDate && maxDate >= pickedDate) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else if (minDate && !maxDate) {\n\t\t\tif (minDate <= pickedDate) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else if (maxDate && !minDate) {\n\t\t\tif (maxDate >= pickedDate) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else if (!maxDate && !minDate) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t// because the parser understands more than one format\n\t// but we need values in one format\n\tnormalizeValue(value) {\n\t\tif (value === \"\") {\n\t\t\treturn value;\n\t\t}\n\n\t\treturn this.getFormat().format(this.getFormat().parse(value));\n\t}\n\n\tget validValue() {\n\t\tif (this.isValid(this.value)) {\n\t\t\treturn this.value;\n\t\t}\n\t\treturn this.getFormat().format(new Date());\n\t}\n\n\tget calendar() {\n\t\treturn this.responsivePopover.querySelector(`#${this._id}-calendar`);\n\t}\n\n\tget _calendarDate() {\n\t\tconst millisecondsUTC = this.getFormat().parse(this.validValue, true).getTime();\n\t\tconst oCalDate = CalendarDate.fromTimestamp(\n\t\t\tmillisecondsUTC - (millisecondsUTC % (24 * 60 * 60 * 1000)),\n\t\t\tthis._primaryCalendarType\n\t\t);\n\t\treturn oCalDate;\n\t}\n\n\tget _primaryCalendarType() {\n\t\tconst localeData = getCachedLocaleDataInstance(getLocale());\n\t\treturn this.primaryCalendarType || getCalendarType() || localeData.getPreferredCalendarType();\n\t}\n\n\tget _formatPattern() {\n\t\treturn this.formatPattern || \"medium\"; // get from config\n\t}\n\n\tget _isPattern() {\n\t\treturn this._formatPattern !== \"medium\" && this._formatPattern !== \"short\" && this._formatPattern !== \"long\";\n\t}\n\n\tget _displayFormat() {\n\t\treturn this.getFormat().oFormatOptions.pattern;\n\t}\n\n\tget _placeholder() {\n\t\treturn this.placeholder !== undefined ? this.placeholder : this._displayFormat;\n\t}\n\n\tget _headerTitleText() {\n\t\treturn this.i18nBundle.getText(INPUT_SUGGESTIONS_TITLE);\n\t}\n\n\tget phone() {\n\t\treturn isPhone();\n\t}\n\n\tget showHeader() {\n\t\treturn this.phone;\n\t}\n\n\tget showFooter() {\n\t\treturn this.phone;\n\t}\n\n\tget _isIE() {\n\t\treturn isIE();\n\t}\n\n\tgetFormat() {\n\t\tlet dateFormat;\n\t\tif (this._isPattern) {\n\t\t\tdateFormat = DateFormat.getInstance({\n\t\t\t\tpattern: this._formatPattern,\n\t\t\t\tcalendarType: this._primaryCalendarType,\n\t\t\t});\n\t\t} else {\n\t\t\tdateFormat = DateFormat.getInstance({\n\t\t\t\tstyle: this._formatPattern,\n\t\t\t\tcalendarType: this._primaryCalendarType,\n\t\t\t});\n\t\t}\n\t\treturn dateFormat;\n\t}\n\n\tget accInfo() {\n\t\treturn {\n\t\t\t\"ariaDescribedBy\": `${this._id}-date`,\n\t\t\t\"ariaHasPopup\": \"true\",\n\t\t\t\"ariaAutoComplete\": \"none\",\n\t\t\t\"role\": \"combobox\",\n\t\t\t\"ariaOwns\": `${this._id}-responsive-popover`,\n\t\t\t\"ariaExpanded\": this.isOpen(),\n\t\t\t\"ariaDescription\": this.dateAriaDescription,\n\t\t\t\"ariaLabel\": getEffectiveAriaLabelText(this),\n\t\t};\n\t}\n\n\tget _maxDate() {\n\t\treturn this.maxDate ? this._getTimeStampFromString(this.maxDate) : this._getMaxCalendarDate();\n\t}\n\n\tget _minDate() {\n\t\treturn this.minDate ? this._getTimeStampFromString(this.minDate) : this._getMinCalendarDate();\n\t}\n\n\t_getMinCalendarDate() {\n\t\treturn getMinCalendarDate(this._primaryCalendarType);\n\t}\n\n\t_getMaxCalendarDate() {\n\t\treturn getMaxCalendarDate(this._primaryCalendarType);\n\t}\n\n\tget openIconTitle() {\n\t\treturn this.i18nBundle.getText(DATEPICKER_OPEN_ICON_TITLE);\n\t}\n\n\tget openIconName() {\n\t\treturn \"appointment-2\";\n\t}\n\n\tget dateAriaDescription() {\n\t\treturn this.i18nBundle.getText(DATEPICKER_DATE_ACC_TEXT);\n\t}\n\n\t/**\n\t * Defines whether the dialog on mobile should have header\n\t * @private\n\t */\n\tget _shouldHideHeader() {\n\t\treturn false;\n\t}\n\n\tasync _respPopover() {\n\t\tconst staticAreaItem = await this.getStaticAreaItemDomRef();\n\t\treturn staticAreaItem.querySelector(\"[ui5-responsive-popover]\");\n\t}\n\n\t_canOpenPicker() {\n\t\treturn !this.disabled && !this.readonly;\n\t}\n\n\t_handleCalendarChange(event) {\n\t\tconst iNewValue = event.detail.dates && event.detail.dates[0];\n\n\t\tif (this._calendar.selectedDates.indexOf(iNewValue) !== -1) {\n\t\t\tthis.closePicker();\n\t\t\treturn false;\n\t\t}\n\n\t\tconst fireChange = this._handleCalendarSelectedDatesChange(event, iNewValue);\n\n\t\tif (fireChange) {\n\t\t\tthis.fireEvent(\"change\", { value: this.value, valid: true });\n\t\t\t// Angular two way data binding\n\t\t\tthis.fireEvent(\"value-changed\", { value: this.value, valid: true });\n\t\t}\n\n\t\tthis.closePicker();\n\t}\n\n\t_handleCalendarSelectedDatesChange(event, newValue) {\n\t\tthis._updateValueCalendarSelectedDatesChange(newValue);\n\n\t\tthis._calendar.timestamp = newValue;\n\t\tthis._calendar.selectedDates = [...event.detail.dates];\n\t\tthis._focusInputAfterClose = true;\n\n\t\tif (this.isInValidRange(this._getTimeStampFromString(this.value))) {\n\t\t\tthis.valueState = ValueState.None;\n\t\t} else {\n\t\t\tthis.valueState = ValueState.Error;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t_updateValueCalendarSelectedDatesChange(newValue) {\n\t\tthis.value = this.getFormat().format(\n\t\t\tnew Date(CalendarDate.fromTimestamp(\n\t\t\t\tnewValue * 1000,\n\t\t\t\tthis._primaryCalendarType\n\t\t\t).valueOf()),\n\t\t\ttrue\n\t\t);\n\t}\n\n\t/**\n\t * Formats a Java Script date object into a string representing a locale date\n\t * according to the <code>formatPattern</code> property of the DatePicker instance\n\t * @param {object} oDate A Java Script date object to be formatted as string\n\t * @public\n\t */\n\tformatValue(oDate) {\n\t\treturn this.getFormat().format(oDate);\n\t}\n\n\t/**\n\t * Closes the picker.\n\t * @public\n\t */\n\tclosePicker() {\n\t\tthis.responsivePopover.close();\n\t}\n\n\t/**\n\t * Opens the picker.\n\t * @param {object} options A JSON object with additional configuration.<br>\n\t * <code>{ focusInput: true }</code> By default, the focus goes in the picker after opening it.\n\t * Specify this option to focus the input field.\n\t * @public\n\t */\n\tasync openPicker(options) {\n\t\tthis._isPickerOpen = true;\n\t\tthis.responsivePopover = await this._respPopover();\n\t\tthis._changeCalendarSelection();\n\n\t\tif (options && options.focusInput) {\n\t\t\tthis._focusInputAfterOpen = true;\n\t\t}\n\n\t\tthis.responsivePopover.open(this);\n\t}\n\n\ttogglePicker() {\n\t\tif (this.isOpen()) {\n\t\t\tthis.closePicker();\n\t\t} else if (this._canOpenPicker()) {\n\t\t\tthis.openPicker();\n\t\t}\n\t}\n\n\t_changeCalendarSelection() {\n\t\tif (this._calendarDate.getYear() < 1) {\n\t\t\t// 0 is a valid year, but we cannot display it\n\t\t\treturn;\n\t\t}\n\n\t\tconst timestamp = this._calendarDate.valueOf() / 1000;\n\t\tthis._calendar = Object.assign({}, this._calendar);\n\t\tthis._calendar.timestamp = timestamp;\n\t\tthis._calendar.selectedDates = this.value ? [timestamp] : [];\n\t}\n\n\t/**\n\t * Checks if the picker is open.\n\t * @returns {Boolean} true if the picker is open, false otherwise\n\t * @public\n\t */\n\tisOpen() {\n\t\treturn !!this._isPickerOpen;\n\t}\n\n\t/**\n\t * Gets some semantic details about an event originated in the control.\n\t * @param {*} event An event object\n\t * @returns {Object} Semantic details\n\t */\n\tgetSemanticTargetInfo(event) {\n\t\tconst oDomTarget = getDomTarget(event);\n\t\tlet isInput = false;\n\n\t\tif (oDomTarget && oDomTarget.className.indexOf(\"ui5-input-inner\") > -1) {\n\t\t\tisInput = true;\n\t\t}\n\n\t\treturn { isInput };\n\t}\n\n\t/**\n\t * Currently selected date represented as JavaScript Date instance.\n\t *\n\t * @readonly\n\t * @type { Date }\n\t * @public\n\t */\n\tget dateValue() {\n\t\treturn this.getFormat().parse(this.value);\n\t}\n\n\tget styles() {\n\t\treturn {\n\t\t\tmain: {\n\t\t\t\twidth: \"100%\",\n\t\t\t},\n\t\t};\n\t}\n\n\tget type() {\n\t\treturn InputType.Text;\n\t}\n\n\tstatic get dependencies() {\n\t\treturn [\n\t\t\tIcon,\n\t\t\tResponsivePopover,\n\t\t\tCalendar,\n\t\t\tInput,\n\t\t\tButton,\n\t\t];\n\t}\n\n\tstatic async onDefine() {\n\t\tawait Promise.all([\n\t\t\tfetchCldr(getLocale().getLanguage(), getLocale().getRegion(), getLocale().getScript()),\n\t\t\tfetchI18nBundle(\"@ui5/webcomponents\"),\n\t\t]);\n\t}\n}\n\nconst getDomTarget = event => {\n\tlet target,\n\t\tcomposedPath;\n\n\tif (typeof event.composedPath === \"function\") {\n\t\tcomposedPath = event.composedPath();\n\t}\n\n\tif (Array.isArray(composedPath) && composedPath.length) {\n\t\ttarget = composedPath[0];\n\t}\n\n\treturn target;\n};\n\nDatePicker.define();\n\nexport default DatePicker;\n"],"mappings":"AAAA,OAAOA,UAAU,MAAM,4CAA4C;AACnE,OAAOC,SAAS,MAAM,sDAAsD;AAC5E,SAASC,SAAS,QAAQ,6DAA6D;AACvF,SAASC,eAAe,QAAQ,qDAAqD;AACrF,OAAOC,SAAS,MAAM,kDAAkD;AACxE,SAASC,UAAU,QAAQ,kDAAkD;AAC7E,OAAOC,2BAA2B,MAAM,qEAAqE;AAC7G,OAAOC,UAAU,MAAM,oDAAoD;AAC3E,OAAOC,YAAY,MAAM,oDAAoD;AAC7E,OAAOC,YAAY,MAAM,4DAA4D;AACrF,OAAOC,UAAU,MAAM,kDAAkD;AACzE,SAASC,yBAAyB,QAAQ,sDAAsD;AAChG,SACCC,OAAO,EACPC,QAAQ,EACRC,UAAU,EACVC,aAAa,EACbC,eAAe,EACfC,iBAAiB,EACjBC,mBAAmB,EACnBC,MAAM,EACNC,IAAI,QACE,sCAAsC;AAC7C,SAASC,OAAO,EAAEC,IAAI,QAAQ,wCAAwC;AACtE,SAASC,eAAe,EAAEC,aAAa,QAAQ,4CAA4C;AAC3F,OAAO,gDAAgD;AACvD,OAAO,0CAA0C;AACjD,OAAOC,iBAAiB,MAAM,yDAAyD;AACvF,OAAOC,eAAe,MAAM,iDAAiD;AAC7E,SAASC,0BAA0B,EAAEC,wBAAwB,EAAEC,uBAAuB,QAAQ,mCAAmC;AACjI,SAASC,kBAAkB,EAAEC,kBAAkB,QAAQ,oBAAoB;AAC3E,OAAOC,IAAI,MAAM,WAAW;AAC5B,OAAOC,MAAM,MAAM,aAAa;AAChC,OAAOC,iBAAiB,MAAM,wBAAwB;AACtD,OAAOC,QAAQ,MAAM,eAAe;AACpC,OAAOC,KAAK,MAAM,YAAY;AAC9B,OAAOC,SAAS,MAAM,sBAAsB;AAC5C,OAAOC,kBAAkB,MAAM,iDAAiD;AAChF,OAAOC,yBAAyB,MAAM,wDAAwD;;AAE9F;AACA,OAAO,qEAAqE;;AAE5E;AACA,OAAOC,aAAa,MAAM,sCAAsC;AAChE,OAAOC,oBAAoB,MAAM,6CAA6C;AAC9E,OAAOC,0BAA0B,MAAM,mDAAmD;;AAE1F;AACA;AACA;AACA,MAAMC,QAAQ,GAAG;EAChBC,GAAG,EAAE,iBAAiB;EACtBC,MAAM,EAAE,gBAAgB;EACxBC,aAAa,EAAE,IAAI;EACnBC,YAAY,EAAE,IAAI;EAClBC,UAAU,EAAE,6DAA8D;IACzE;AACF;AACA;AACA;AACA;AACA;AACA;IACEC,KAAK,EAAE;MACNC,IAAI,EAAEC;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,UAAU,EAAE;MACXF,IAAI,EAAExC,UAAU;MAChB2C,YAAY,EAAE3C,UAAU,CAAC4C;IAC1B,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;IACEC,aAAa,EAAE;MACdL,IAAI,EAAEC;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACEK,OAAO,EAAE;MACRN,IAAI,EAAEC;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACEM,OAAO,EAAE;MACRP,IAAI,EAAEC;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEO,mBAAmB,EAAE;MACpBR,IAAI,EAAE1C;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACEmD,QAAQ,EAAE;MACTT,IAAI,EAAEU;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;IACEC,QAAQ,EAAE;MACTX,IAAI,EAAEU;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;IACEE,QAAQ,EAAE;MACTZ,IAAI,EAAEU;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEG,WAAW,EAAE;MACZb,IAAI,EAAEC,MAAM;MACZE,YAAY,EAAEW;IACf,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,IAAI,EAAE;MACLf,IAAI,EAAEC;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEe,eAAe,EAAE;MAChBhB,IAAI,EAAEU;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACEO,SAAS,EAAE;MACVjB,IAAI,EAAEC;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;IACEiB,cAAc,EAAE;MACflB,IAAI,EAAEC,MAAM;MACZE,YAAY,EAAE;IACf,CAAC;IAEDgB,aAAa,EAAE;MACdnB,IAAI,EAAEU,OAAO;MACbU,WAAW,EAAE;IACd,CAAC;IAEDC,kBAAkB,EAAE;MACnBrB,IAAI,EAAEsB;IACP,CAAC;IAEDC,SAAS,EAAE;MACVvB,IAAI,EAAEsB;IACP;EACD,CAAC;EAEDE,KAAK,EAAE,6DAA8D;IACpE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,iBAAiB,EAAE;MAClBzB,IAAI,EAAE0B;IACP;EACD,CAAC;EAEDC,MAAM,EAAE,6DAA8D;IAErE;AACF;AACA;AACA;AACA;AACA;IACEC,MAAM,EAAE,CAAC,CAAC;IAEV;AACF;AACA;AACA;AACA;AACA;IACEC,KAAK,EAAE,CAAC;EACT;AACD,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,UAAU,SAAShF,UAAU,CAAC;EACnC,WAAW2C,QAAQA,CAAA,EAAG;IACrB,OAAOA,QAAQ;EAChB;EAEA,WAAWsC,MAAMA,CAAA,EAAG;IACnB,OAAOhF,SAAS;EACjB;EAEA,WAAWiF,QAAQA,CAAA,E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"},"metadata":{},"sourceType":"module","externalDependencies":[]}