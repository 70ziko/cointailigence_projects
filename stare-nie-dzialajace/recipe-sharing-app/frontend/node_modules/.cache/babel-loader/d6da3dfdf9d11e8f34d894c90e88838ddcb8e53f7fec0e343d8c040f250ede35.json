{"ast":null,"code":"import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport { fetchI18nBundle, getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport getLocale from \"@ui5/webcomponents-base/dist/locale/getLocale.js\";\nimport ValueState from \"@ui5/webcomponents-base/dist/types/ValueState.js\";\nimport DateFormat from \"@ui5/webcomponents-localization/dist/DateFormat.js\";\nimport getCachedLocaleDataInstance from \"@ui5/webcomponents-localization/dist/getCachedLocaleDataInstance.js\";\nimport \"@ui5/webcomponents-localization/dist/features/calendar/Gregorian.js\"; // default calendar for bundling\nimport { fetchCldr } from \"@ui5/webcomponents-base/dist/asset-registries/LocaleData.js\";\nimport { isPhone } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport { isLeft, isRight, isTabNext, isTabPrevious, isShow, isPageUp, isPageDown, isPageUpShift, isPageDownShift, isPageUpShiftCtrl, isPageDownShiftCtrl } from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport \"@ui5/webcomponents-icons/dist/time-entry-request.js\";\nimport Icon from \"./Icon.js\";\nimport PopoverHorizontalAlign from \"./types/PopoverHorizontalAlign.js\";\nimport ResponsivePopover from \"./ResponsivePopover.js\";\nimport PopoverPlacementType from \"./types/PopoverPlacementType.js\";\nimport TimePickerTemplate from \"./generated/templates/TimePickerTemplate.lit.js\";\nimport TimePickerPopoverTemplate from \"./generated/templates/TimePickerPopoverTemplate.lit.js\";\nimport Input from \"./Input.js\";\nimport Button from \"./Button.js\";\nimport WheelSlider from \"./WheelSlider.js\";\nimport { getHours, getMinutes, getSeconds, getHoursConfigByFormat, getTimeControlsByFormat } from \"./timepicker-utils/TimeSlider.js\";\nimport { TIMEPICKER_HOURS_LABEL, TIMEPICKER_MINUTES_LABEL, TIMEPICKER_SECONDS_LABEL, TIMEPICKER_PERIODS_LABEL, TIMEPICKER_SUBMIT_BUTTON, TIMEPICKER_CANCEL_BUTTON } from \"./generated/i18n/i18n-defaults.js\";\n\n// Styles\nimport TimePickerCss from \"./generated/themes/TimePicker.css.js\";\nimport TimePickerPopoverCss from \"./generated/themes/TimePickerPopover.css.js\";\nimport ResponsivePopoverCommonCss from \"./generated/themes/ResponsivePopoverCommon.css.js\";\n\n/**\n * @public\n */\nconst metadata = {\n  tag: \"ui5-time-picker\",\n  altTag: \"ui5-timepicker\",\n  languageAware: true,\n  managedSlots: true,\n  properties: /** @lends sap.ui.webcomponents.main.TimePicker.prototype */{\n    /**\n     * Defines a formatted time value.\n     *\n     * @type {string}\n     * @defaultvalue undefined\n     * @public\n     */\n    value: {\n      type: String,\n      defaultValue: undefined\n    },\n    /**\n     * Defines a short hint, intended to aid the user with data entry when the\n     * <code>ui5-time-picker</code> has no value.\n     *\n     * <br><br>\n     * <b>Note:</b> When no placeholder is set, the format pattern is displayed as a placeholder.\n     * Passing an empty string as the value of this property will make the <code>ui5-time-picker</code> appear empty - without placeholder or format pattern.\n     *\n     * @type {string}\n     * @defaultvalue undefined\n     * @public\n     */\n    placeholder: {\n      type: String,\n      defaultValue: undefined\n    },\n    /**\n     * Determines the format, displayed in the input field.\n     *\n     * Example:\n     * HH:mm:ss -> 11:42:35\n     * hh:mm:ss a -> 2:23:15 PM\n     * mm:ss -> 12:04 (only minutes and seconds)\n     *\n     * @type {string}\n     * @defaultvalue \"\"\n     * @public\n     */\n    formatPattern: {\n      type: String\n    },\n    /**\n     * Defines the value state of the <code>ui5-time-picker</code>.\n     * <br><br>\n     * Available options are:\n     * <ul>\n     * <li><code>None</code></li>\n     * <li><code>Error</code></li>\n     * <li><code>Warning</code></li>\n     * <li><code>Success</code></li>\n     * <li><code>Information</code></li>\n     * </ul>\n     *\n     * @type {ValueState}\n     * @defaultvalue \"None\"\n     * @public\n     */\n    valueState: {\n      type: ValueState,\n      defaultValue: ValueState.None\n    },\n    /**\n     * Determines whether the <code>ui5-time-picker</code> is displayed as disabled.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    disabled: {\n      type: Boolean\n    },\n    /**\n     * Determines whether the <code>ui5-time-picker</code> is displayed as readonly.\n     *\n     * @type {boolean}\n     * @defaultvalue false\n     * @public\n     */\n    readonly: {\n      type: Boolean\n    },\n    _isPickerOpen: {\n      type: Boolean,\n      noAttribute: true\n    },\n    _respPopover: {\n      type: Object\n    },\n    _hours: {\n      type: String\n    },\n    _minutes: {\n      type: String\n    },\n    _seconds: {\n      type: String\n    }\n  },\n  slots: /** @lends sap.ui.webcomponents.main.TimePicker.prototype */{\n    /**\n     * Defines the value state message that will be displayed as pop up under the <code>ui5-time-picker</code>.\n     * <br><br>\n     *\n     * <b>Note:</b> If not specified, a default text (in the respective language) will be displayed.\n     * <br>\n     * <b>Note:</b> The <code>valueStateMessage</code> would be displayed,\n     * when the <code>ui5-time-picker</code> is in <code>Information</code>, <code>Warning</code> or <code>Error</code> value state.\n     * @type {HTMLElement}\n     * @since 1.0.0-rc.8\n     * @slot\n     * @public\n     */\n    valueStateMessage: {\n      type: HTMLElement\n    }\n  },\n  events: /** @lends sap.ui.webcomponents.main.TimePicker.prototype */{\n    /**\n     * Fired when the input operation has finished by clicking the \"OK\" button or\n     * when the text in the input field has changed and the focus leaves the input field.\n     *\n     * @event\n     * @public\n    */\n    change: {},\n    /**\n     * Fired when the value of the <code>ui5-time-picker</code> is changed at each key stroke.\n     *\n     * @event\n     * @public\n    */\n    input: {}\n  }\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n * The <code>ui5-time-picker</code> component provides an input field with assigned sliders which opens on user action.\n * The <code>ui5-time-picker</code> allows users to select a localized time using touch,\n * mouse, or keyboard input. It consists of two parts: the time input field and the\n * sliders.\n *\n * <h3>Usage</h3>\n * The user can enter a time by:\n * <ul>\n * <li>Using the sliders that opens in a popup</li>\n * <li>Typing it in directly in the input field</li>\n * </ul>\n * <br><br>\n * When the user makes an entry and chooses the enter key, the sliders shows the corresponding time.\n * When the user directly triggers the sliders display, the actual time is displayed.\n * For the <code>ui5-time-picker</code>\n *\n * <h3>Formatting</h3>\n *\n * If a time is entered by typing it into\n * the input field, it must fit to the used time format.\n * <br><br>\n * Supported format options are pattern-based on Unicode LDML Date Format notation.\n * For more information, see <ui5-link target=\"_blank\" href=\"http://unicode.org/reports/tr35/#Date_Field_Symbol_Table\" class=\"api-table-content-cell-link\">UTS #35: Unicode Locale Data Markup Language</ui5-link>.\n * <br><br>\n * For example, if the <code>format-pattern</code> is \"HH:mm:ss\",\n * a valid value string is \"11:42:35\" and the same is displayed in the input.\n *\n * <h3>Keyboard handling</h3>\n * [F4], [ALT]+[UP], [ALT]+[DOWN] Open/Close picker dialog and move focus to it.\n * <br>\n * When closed:\n * <ul>\n * <li>[PAGEUP] - Increments hours by 1. If 12 am is reached, increment hours to 1 pm and vice versa.</li>\n * <li>[PAGEDOWN] - Decrements the corresponding field by 1. If 1 pm is reached, decrement hours to 12 am and vice versa.</li>\n * <li>[SHIFT]+[PAGEUP] Increments minutes by 1.</li>\n * <li>[SHIFT]+ [PAGEDOWN] Decrements minutes by 1.</li>\n * <li>[SHIFT]+[CTRL]+[PAGEUP] Increments seconds by 1.</li>\n * <li>[SHIFT]+[CTRL]+ [PAGEDOWN] Decrements seconds by 1.</li>\n * </ul>\n * When opened:\n * <ul>\n * <li>[UP] If focus is on one of the selection lists: Select the value which is above the current value. If the first value is selected, select the last value in the list. Exception: AM/ PM List: stay on the first item.</li>\n * <li>[DOWN] If focus is on one of the selection lists: Select the value which is below the current value. If the last value is selected, select the first value in the list. Exception: AM/ PM List: stay on the last item.</li>\n * <li>[LEFT] If focus is on one of the selection lists: Move focus to the selection list which is left of the current selection list. If focus is at the first selection list, move focus to the last selection list.</li>\n * <li>[RIGHT] If focus is on one of the selection lists: Move focus to the selection list which is right of the current selection list. When focus is at the last selection list, move focus to the first selection list.</li>\n * <li>[PAGEUP] If focus is on one of the selection lists: Move focus to the first entry of this list.</li>\n * <li>[PAGEDOWN] If focus is on one of the selection lists: Move focus to the last entry of this list.</li>\n * </ul>\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import @ui5/webcomponents/dist/TimePicker.js\";</code>\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.TimePicker\n * @extends UI5Element\n * @tagname ui5-time-picker\n * @public\n * @since 1.0.0-rc.6\n */\nclass TimePicker extends UI5Element {\n  static get metadata() {\n    return metadata;\n  }\n  static get render() {\n    return litRender;\n  }\n  static get styles() {\n    return TimePickerCss;\n  }\n  static get staticAreaTemplate() {\n    return TimePickerPopoverTemplate;\n  }\n  static get template() {\n    return TimePickerTemplate;\n  }\n  static get dependencies() {\n    return [Icon, ResponsivePopover, WheelSlider, Input, Button];\n  }\n  static async onDefine() {\n    await Promise.all([fetchCldr(getLocale().getLanguage(), getLocale().getRegion(), getLocale().getScript()), fetchI18nBundle(\"@ui5/webcomponents\")]);\n  }\n  static get staticAreaStyles() {\n    return [ResponsivePopoverCommonCss, TimePickerPopoverCss];\n  }\n  constructor() {\n    super();\n    this.prevValue = null;\n    this._isPickerOpen = false;\n    this.i18nBundle = getI18nBundle(\"@ui5/webcomponents\");\n    this._respPopover = {\n      placementType: PopoverPlacementType.Bottom,\n      horizontalAlign: PopoverHorizontalAlign.Left,\n      allowTargetOverlap: true,\n      stayOpenOnScroll: true,\n      afterClose: () => {\n        this._isPickerOpen = false;\n        this.closePicker();\n      }\n    };\n    this._hoursParameters = {\n      minHour: 0,\n      maxHour: 0,\n      isTwelveHoursFormat: false\n    };\n    this._slidersDomRefs = [];\n  }\n  onBeforeRendering() {\n    if (!this.formatPattern) {\n      const localeData = getCachedLocaleDataInstance(getLocale());\n      this.formatPattern = localeData.getTimePattern(this.getFormat().oFormatOptions.style);\n    }\n    if (this.value === undefined) {\n      this.value = this.getFormat().format(new Date());\n    }\n    this._initHoursFormatParameters();\n  }\n  async _handleInputClick() {\n    if (this._isPickerOpen) {\n      return;\n    }\n    const inputField = await this._getInputField();\n    if (inputField) {\n      inputField.select();\n    }\n  }\n  async _handleInputChange() {\n    const nextValue = await this._getInput().getInputValue();\n    const isValid = this.isValid(nextValue);\n    this.setValue(nextValue);\n    this.fireEvent(\"change\", {\n      value: nextValue,\n      valid: isValid\n    });\n    this.fireEvent(\"value-changed\", {\n      value: nextValue,\n      valid: isValid\n    });\n  }\n  async _handleInputLiveChange() {\n    const nextValue = await this._getInput().getInputValue();\n    const isValid = this.isValid(nextValue);\n    this.value = nextValue;\n    this.setSlidersValue();\n    this.fireEvent(\"input\", {\n      value: nextValue,\n      valid: isValid\n    });\n  }\n  setSlidersValue() {\n    const currentDate = this._getInput() ? this.getFormat().parse(this._getInput().getAttribute(\"value\")) : null,\n      secondsSlider = this.secondsSlider,\n      minutesSlider = this.minutesSlider,\n      hoursSlider = this.hoursSlider,\n      periodsSlider = this.periodsSlider;\n    if (!currentDate) {\n      return;\n    }\n    if (hoursSlider) {\n      let tempValue = \"\";\n      if (this._hoursParameters.isTwelveHoursFormat && currentDate.getHours() > this._hoursParameters.maxHour) {\n        tempValue = currentDate.getHours() - 12;\n      } else if (this._hoursParameters.isTwelveHoursFormat && currentDate.getHours() < this._hoursParameters.minHour) {\n        tempValue = currentDate.getHours() + 12;\n      } else {\n        tempValue = currentDate.getHours();\n      }\n      if (tempValue.toString().length === 1) {\n        hoursSlider.value = `0${tempValue}`;\n      } else {\n        hoursSlider.value = tempValue.toString();\n      }\n    }\n    if (minutesSlider) {\n      const tempValue = currentDate.getMinutes();\n      if (tempValue.toString().length === 1) {\n        minutesSlider.value = `0${tempValue}`;\n      } else {\n        minutesSlider.value = tempValue.toString();\n      }\n    }\n    if (secondsSlider) {\n      const tempValue = currentDate.getSeconds();\n      if (tempValue.toString().length === 1) {\n        secondsSlider.value = `0${tempValue}`;\n      } else {\n        secondsSlider.value = tempValue.toString();\n      }\n    }\n    if (this._hoursParameters.isTwelveHoursFormat && periodsSlider && this._hoursParameters.minHour === 1) {\n      periodsSlider.value = currentDate.getHours() >= this._hoursParameters.maxHour ? this.periodsArray[1] : this.periodsArray[0];\n    } else if (this._hoursParameters.isTwelveHoursFormat && periodsSlider) {\n      periodsSlider.value = currentDate.getHours() > this._hoursParameters.maxHour || currentDate.getHours() === this._hoursParameters.minHour ? this.periodsArray[1] : this.periodsArray[0];\n    }\n  }\n\n  /**\n   * Closes the picker\n   * @public\n   */\n  async closePicker() {\n    await this._getPopover();\n    this.responsivePopover.close();\n    this._isPickerOpen = false;\n    for (let i = 0; i < this._slidersDomRefs.length; i++) {\n      this._slidersDomRefs[i].collapseSlider();\n    }\n  }\n\n  /**\n   * Opens the picker.\n   * <code>{ focusInput: true }</code> By default, the focus goes in the picker after opening it.\n   * Specify this option to focus the input field.\n   * @public\n   */\n  async openPicker() {\n    await this._getPopover();\n    this.responsivePopover.open(this);\n    this._isPickerOpen = true;\n    this._slidersDomRefs = await this.slidersDomRefs();\n    this.setSlidersValue();\n    if (this._slidersDomRefs[0]) {\n      this._slidersDomRefs[0].focus();\n    }\n  }\n  togglePicker() {\n    if (this.isOpen()) {\n      this.closePicker();\n      this._isPickerOpen = false;\n    } else if (this._canOpenPicker()) {\n      this.openPicker();\n      this._isPickerOpen = true;\n    }\n  }\n\n  /**\n   * Checks if a value is valid against the current date format of the TimePicker\n   * @param {string} value A value to be tested against the current date format\n   * @public\n   */\n  isOpen() {\n    return !!this._isPickerOpen;\n  }\n  _canOpenPicker() {\n    return !this.disabled && !this.readonly;\n  }\n  async _getPopover() {\n    const staticAreaItem = await this.getStaticAreaItemDomRef();\n    this.responsivePopover = staticAreaItem.querySelector(\"[ui5-responsive-popover]\");\n    return this.responsivePopover;\n  }\n  get secondsArray() {\n    return getSeconds();\n  }\n  get minutesArray() {\n    return getMinutes();\n  }\n  get hoursArray() {\n    return getHours(this._hoursParameters);\n  }\n  get periodsArray() {\n    return this.getFormat().aDayPeriods.map(x => x.toUpperCase());\n  }\n  async slidersDomRefs() {\n    await this._getPopover();\n    return this.responsivePopover.default.length ? [...this.responsivePopover.default[0].children].filter(x => x.isUI5Element) : this.responsivePopover.default;\n  }\n  _getInput() {\n    return this.shadowRoot.querySelector(\"[ui5-input]\");\n  }\n  _getInputField() {\n    const input = this._getInput();\n    return input && input.getInputDOMRef();\n  }\n  get secondsSlider() {\n    return this.responsivePopover && this.responsivePopover.querySelector(\".ui5-time-picker-seconds-wheelslider\");\n  }\n  get minutesSlider() {\n    return this.responsivePopover && this.responsivePopover.querySelector(\".ui5-time-picker-minutes-wheelslider\");\n  }\n  get hoursSlider() {\n    return this.responsivePopover && this.responsivePopover.querySelector(\".ui5-time-picker-hours-wheelslider\");\n  }\n  get periodsSlider() {\n    return this.responsivePopover && this.responsivePopover.querySelector(\".ui5-time-picker-period-wheelslider\");\n  }\n  submitPickers() {\n    const selectedDate = new Date(),\n      secondsSlider = this.secondsSlider,\n      minutesSlider = this.minutesSlider,\n      hoursSlider = this.hoursSlider,\n      periodsSlider = this.periodsSlider,\n      minutes = minutesSlider ? minutesSlider.getAttribute(\"value\") : \"0\",\n      seconds = secondsSlider ? secondsSlider.getAttribute(\"value\") : \"0\",\n      period = periodsSlider ? periodsSlider.getAttribute(\"value\") : this.periodsArray[0],\n      isTwelveHoursFormat = this._hoursParameters.isTwelveHoursFormat;\n    let hours = hoursSlider ? hoursSlider.getAttribute(\"value\") : this._hoursParameters.minHour.toString();\n    if (isTwelveHoursFormat) {\n      if (period === this.periodsArray[0]) {\n        // AM\n        hours = hours === \"12\" ? 0 : hours;\n      }\n      if (period === this.periodsArray[1]) {\n        // PM\n        hours = hours === \"12\" ? hours : hours * 1 + 12;\n      }\n    }\n    selectedDate.setHours(hours);\n    selectedDate.setMinutes(minutes);\n    selectedDate.setSeconds(seconds);\n    this.setPrevValue(this.value);\n    this.setValue(this.getFormat().format(selectedDate));\n    if (this.prevValue !== this.value) {\n      this.fireEvent(\"change\", {\n        value: this.value,\n        valid: true\n      });\n      this.previousValue = this.value;\n    }\n    this.closePicker();\n  }\n\n  /**\n   * Checks if a value is valid against the current format patternt of the TimePicker.\n   *\n   * <br><br>\n   * <b>Note:</b> an empty string is considered as valid value.\n   * @param {string} value The value to be tested against the current date format\n   * @public\n   */\n  isValid(value) {\n    if (value === \"\") {\n      return true;\n    }\n    return !!(value && this.getFormat().parse(value));\n  }\n  normalizeValue(value) {\n    if (value === \"\") {\n      return value;\n    }\n    return this.getFormat().format(this.getFormat().parse(value));\n  }\n  get _formatPattern() {\n    return this.formatPattern || \"medium\"; // get from config\n  }\n\n  get _isPattern() {\n    return this._formatPattern !== \"medium\" && this._formatPattern !== \"short\" && this._formatPattern !== \"long\";\n  }\n  get _displayFormat() {\n    return this.getFormat().oFormatOptions.pattern;\n  }\n  get _placeholder() {\n    return this.placeholder !== undefined ? this.placeholder : this._displayFormat;\n  }\n  handleSliderClicked(event) {\n    if (event.target._expanded) {\n      this.openSlider(event.target.label);\n    }\n  }\n  openSlider(label) {\n    for (let i = 0; i < this._slidersDomRefs.length; i++) {\n      if (this._slidersDomRefs[i].label !== label) {\n        this._slidersDomRefs[i].collapseSlider();\n      }\n    }\n  }\n  async _onfocuscontainerin(e) {\n    if (e.target !== e.currentTarget) {\n      return;\n    }\n    let sliders = [];\n    if (this._slidersDomRefs.length) {\n      sliders = await this.slidersDomRefs();\n    } else {\n      sliders = this._slidersDomRefs;\n    }\n    if (sliders[0]) {\n      sliders[0].focus();\n    }\n  }\n  async _oncontainerkeydown(e) {\n    if (isLeft(e)) {\n      let expandedSliderIndex = 0;\n      for (let i = 0; i < this._slidersDomRefs.length; i++) {\n        if (this._slidersDomRefs[i]._expanded) {\n          expandedSliderIndex = i;\n        }\n      }\n      if (this._slidersDomRefs[expandedSliderIndex - 1]) {\n        this._slidersDomRefs[expandedSliderIndex - 1].focus();\n      } else {\n        this._slidersDomRefs[this._slidersDomRefs.length - 1].focus();\n      }\n    } else if (isRight(e)) {\n      let expandedSliderIndex = 0;\n      for (let i = 0; i < this._slidersDomRefs.length; i++) {\n        if (this._slidersDomRefs[i]._expanded) {\n          expandedSliderIndex = i;\n        }\n      }\n      if (this._slidersDomRefs[expandedSliderIndex + 1]) {\n        this._slidersDomRefs[expandedSliderIndex + 1].focus();\n      } else {\n        this._slidersDomRefs[0].focus();\n      }\n    }\n    if (isTabNext(e) && e.target === this._slidersDomRefs[this._slidersDomRefs.length - 1]) {\n      const responsivePopover = await this._getPopover();\n      e.preventDefault();\n      responsivePopover.querySelector(\".ui5-time-picker-footer\").firstElementChild.focus();\n    } else if (isTabPrevious(e) && e.target === this._slidersDomRefs[0]) {\n      const responsivePopover = await this._getPopover();\n      e.preventDefault();\n      responsivePopover.querySelector(`.ui5-time-picker-footer`).lastElementChild.focus();\n    }\n  }\n  _onfooterkeydown(e) {\n    if (isTabNext(e) && e.target === e.target.parentElement.lastElementChild) {\n      e.preventDefault();\n      this._slidersDomRefs[0].focus();\n    }\n    if (isTabPrevious(e) && e.target === e.target.parentElement.firstElementChild) {\n      e.preventDefault();\n      this._slidersDomRefs[this._slidersDomRefs.length - 1].focus();\n    }\n  }\n  _ontimepickerkeydown(e) {\n    this._handleTimepickerKeysDown(e);\n  }\n  _ontimepickerpopoverkeydown(e) {\n    this._handleTimepickerKeysDown(e);\n  }\n  _handleTimepickerKeysDown(e) {\n    if (isShow(e)) {\n      e.preventDefault();\n      this.togglePicker();\n    }\n    if (this.isOpen()) {\n      return;\n    }\n    if (isPageUpShiftCtrl(e)) {\n      e.preventDefault();\n      this._incrementValue(true, false, false, true);\n    } else if (isPageUpShift(e)) {\n      e.preventDefault();\n      this._incrementValue(true, false, true, false);\n    } else if (isPageUp(e)) {\n      e.preventDefault();\n      this._incrementValue(true, true, false, false);\n    }\n    if (isPageDownShiftCtrl(e)) {\n      e.preventDefault();\n      this._incrementValue(false, false, false, true);\n    } else if (isPageDownShift(e)) {\n      e.preventDefault();\n      this._incrementValue(false, false, true, false);\n    } else if (isPageDown(e)) {\n      e.preventDefault();\n      this._incrementValue(false, true, false, false);\n    }\n  }\n  _incrementValue(increment, hours, minutes, seconds) {\n    const date = this.dateValue;\n    const incrementStep = increment ? 1 : -1;\n    if (hours && this.shouldBuildHoursSlider) {\n      date.setHours(date.getHours() + incrementStep);\n    } else if (minutes && this.shouldBuildMinutesSlider) {\n      date.setMinutes(date.getMinutes() + incrementStep);\n    } else if (seconds && this.shouldBuildSecondsSlider) {\n      date.setSeconds(date.getSeconds() + incrementStep);\n    } else {\n      return;\n    }\n    this.setValue(this.formatValue(date));\n    this.fireEvent(\"change\", {\n      value: this.value,\n      valid: true\n    });\n  }\n  _handleWheel(e) {\n    e.preventDefault();\n  }\n  getFormat() {\n    let dateFormat;\n    if (this._isPattern) {\n      dateFormat = DateFormat.getInstance({\n        pattern: this._formatPattern\n      });\n    } else {\n      dateFormat = DateFormat.getInstance({\n        style: this._formatPattern\n      });\n    }\n    return dateFormat;\n  }\n  setValue(value) {\n    if (this.isValid(value)) {\n      this.value = this.normalizeValue(value);\n      this.setSlidersValue();\n      this.valueState = ValueState.None;\n    } else {\n      this.valueState = ValueState.Error;\n    }\n  }\n  setPrevValue(value) {\n    if (this.isValid(value)) {\n      this.prevValue = this.normalizeValue(value);\n    }\n  }\n\n  /**\n   * Formats a Java Script date object into a string representing a locale date and time\n   * according to the <code>formatPattern</code> property of the TimePicker instance\n   * @param {object} oDate A Java Script date object to be formatted as string\n   * @public\n   */\n  formatValue(oDate) {\n    return this.getFormat().format(oDate);\n  }\n  _getSlidersContained() {\n    const formatArray = this.getFormat().aFormatArray;\n    return getTimeControlsByFormat(formatArray, this._hoursParameters);\n  }\n  _initHoursFormatParameters() {\n    const formatArray = this.getFormat().aFormatArray;\n    const config = getHoursConfigByFormat(formatArray[0].type);\n    this._hoursParameters.minHour = config.minHour;\n    this._hoursParameters.maxHour = config.maxHour;\n    this._hoursParameters.isTwelveHoursFormat = config.isTwelveHoursFormat;\n  }\n\n  /**\n   * Currently selected date represented as JavaScript Date instance\n   *\n   * @readonly\n   * @type { Date }\n   * @public\n   */\n  get dateValue() {\n    return this.getFormat().parse(this.value);\n  }\n  get shouldBuildHoursSlider() {\n    return this._getSlidersContained()[0];\n  }\n  get shouldBuildMinutesSlider() {\n    return this._getSlidersContained()[1];\n  }\n  get shouldBuildSecondsSlider() {\n    return this._getSlidersContained()[2];\n  }\n  get shouldBuildPeriodsSlider() {\n    return this._getSlidersContained()[3];\n  }\n  get hoursSliderTitle() {\n    return this.i18nBundle.getText(TIMEPICKER_HOURS_LABEL);\n  }\n  get minutesSliderTitle() {\n    return this.i18nBundle.getText(TIMEPICKER_MINUTES_LABEL);\n  }\n  get secondsSliderTitle() {\n    return this.i18nBundle.getText(TIMEPICKER_SECONDS_LABEL);\n  }\n  get periodSliderTitle() {\n    return this.i18nBundle.getText(TIMEPICKER_PERIODS_LABEL);\n  }\n  get submitButtonLabel() {\n    return this.i18nBundle.getText(TIMEPICKER_SUBMIT_BUTTON);\n  }\n  get cancelButtonLabel() {\n    return this.i18nBundle.getText(TIMEPICKER_CANCEL_BUTTON);\n  }\n  get classes() {\n    return {\n      container: {\n        \"ui5-time-picker-sliders-container\": true,\n        \"ui5-phone\": isPhone()\n      }\n    };\n  }\n}\nTimePicker.define();\nexport default TimePicker;","map":{"version":3,"names":["UI5Element","litRender","fetchI18nBundle","getI18nBundle","getLocale","ValueState","DateFormat","getCachedLocaleDataInstance","fetchCldr","isPhone","isLeft","isRight","isTabNext","isTabPrevious","isShow","isPageUp","isPageDown","isPageUpShift","isPageDownShift","isPageUpShiftCtrl","isPageDownShiftCtrl","Icon","PopoverHorizontalAlign","ResponsivePopover","PopoverPlacementType","TimePickerTemplate","TimePickerPopoverTemplate","Input","Button","WheelSlider","getHours","getMinutes","getSeconds","getHoursConfigByFormat","getTimeControlsByFormat","TIMEPICKER_HOURS_LABEL","TIMEPICKER_MINUTES_LABEL","TIMEPICKER_SECONDS_LABEL","TIMEPICKER_PERIODS_LABEL","TIMEPICKER_SUBMIT_BUTTON","TIMEPICKER_CANCEL_BUTTON","TimePickerCss","TimePickerPopoverCss","ResponsivePopoverCommonCss","metadata","tag","altTag","languageAware","managedSlots","properties","value","type","String","defaultValue","undefined","placeholder","formatPattern","valueState","None","disabled","Boolean","readonly","_isPickerOpen","noAttribute","_respPopover","Object","_hours","_minutes","_seconds","slots","valueStateMessage","HTMLElement","events","change","input","TimePicker","render","styles","staticAreaTemplate","template","dependencies","onDefine","Promise","all","getLanguage","getRegion","getScript","staticAreaStyles","constructor","prevValue","i18nBundle","placementType","Bottom","horizontalAlign","Left","allowTargetOverlap","stayOpenOnScroll","afterClose","closePicker","_hoursParameters","minHour","maxHour","isTwelveHoursFormat","_slidersDomRefs","onBeforeRendering","localeData","getTimePattern","getFormat","oFormatOptions","style","format","Date","_initHoursFormatParameters","_handleInputClick","inputField","_getInputField","select","_handleInputChange","nextValue","_getInput","getInputValue","isValid","setValue","fireEvent","valid","_handleInputLiveChange","setSlidersValue","currentDate","parse","getAttribute","secondsSlider","minutesSlider","hoursSlider","periodsSlider","tempValue","toString","length","periodsArray","_getPopover","responsivePopover","close","i","collapseSlider","openPicker","open","slidersDomRefs","focus","togglePicker","isOpen","_canOpenPicker","staticAreaItem","getStaticAreaItemDomRef","querySelector","secondsArray","minutesArray","hoursArray","aDayPeriods","map","x","toUpperCase","default","children","filter","isUI5Element","shadowRoot","getInputDOMRef","submitPickers","selectedDate","minutes","seconds","period","hours","setHours","setMinutes","setSeconds","setPrevValue","previousValue","normalizeValue","_formatPattern","_isPattern","_displayFormat","pattern","_placeholder","handleSliderClicked","event","target","_expanded","openSlider","label","_onfocuscontainerin","e","currentTarget","sliders","_oncontainerkeydown","expandedSliderIndex","preventDefault","firstElementChild","lastElementChild","_onfooterkeydown","parentElement","_ontimepickerkeydown","_handleTimepickerKeysDown","_ontimepickerpopoverkeydown","_incrementValue","increment","date","dateValue","incrementStep","shouldBuildHoursSlider","shouldBuildMinutesSlider","shouldBuildSecondsSlider","formatValue","_handleWheel","dateFormat","getInstance","Error","oDate","_getSlidersContained","formatArray","aFormatArray","config","shouldBuildPeriodsSlider","hoursSliderTitle","getText","minutesSliderTitle","secondsSliderTitle","periodSliderTitle","submitButtonLabel","cancelButtonLabel","classes","container","define"],"sources":["/home/paris/projekty/haergi/feng/workspace/recipe-sharing-app/frontend/node_modules/@ui5/webcomponents/dist/TimePicker.js"],"sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport { fetchI18nBundle, getI18nBundle } from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport getLocale from \"@ui5/webcomponents-base/dist/locale/getLocale.js\";\nimport ValueState from \"@ui5/webcomponents-base/dist/types/ValueState.js\";\nimport DateFormat from \"@ui5/webcomponents-localization/dist/DateFormat.js\";\nimport getCachedLocaleDataInstance from \"@ui5/webcomponents-localization/dist/getCachedLocaleDataInstance.js\";\nimport \"@ui5/webcomponents-localization/dist/features/calendar/Gregorian.js\"; // default calendar for bundling\nimport { fetchCldr } from \"@ui5/webcomponents-base/dist/asset-registries/LocaleData.js\";\nimport { isPhone } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport {\n\tisLeft,\n\tisRight,\n\tisTabNext,\n\tisTabPrevious,\n\tisShow,\n\tisPageUp,\n\tisPageDown,\n\tisPageUpShift,\n\tisPageDownShift,\n\tisPageUpShiftCtrl,\n\tisPageDownShiftCtrl,\n} from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport \"@ui5/webcomponents-icons/dist/time-entry-request.js\";\nimport Icon from \"./Icon.js\";\nimport PopoverHorizontalAlign from \"./types/PopoverHorizontalAlign.js\";\nimport ResponsivePopover from \"./ResponsivePopover.js\";\nimport PopoverPlacementType from \"./types/PopoverPlacementType.js\";\nimport TimePickerTemplate from \"./generated/templates/TimePickerTemplate.lit.js\";\nimport TimePickerPopoverTemplate from \"./generated/templates/TimePickerPopoverTemplate.lit.js\";\nimport Input from \"./Input.js\";\nimport Button from \"./Button.js\";\nimport WheelSlider from \"./WheelSlider.js\";\nimport {\n\tgetHours,\n\tgetMinutes,\n\tgetSeconds,\n\tgetHoursConfigByFormat,\n\tgetTimeControlsByFormat,\n} from \"./timepicker-utils/TimeSlider.js\";\n\nimport {\n\tTIMEPICKER_HOURS_LABEL,\n\tTIMEPICKER_MINUTES_LABEL,\n\tTIMEPICKER_SECONDS_LABEL,\n\tTIMEPICKER_PERIODS_LABEL,\n\tTIMEPICKER_SUBMIT_BUTTON,\n\tTIMEPICKER_CANCEL_BUTTON,\n} from \"./generated/i18n/i18n-defaults.js\";\n\n// Styles\nimport TimePickerCss from \"./generated/themes/TimePicker.css.js\";\nimport TimePickerPopoverCss from \"./generated/themes/TimePickerPopover.css.js\";\nimport ResponsivePopoverCommonCss from \"./generated/themes/ResponsivePopoverCommon.css.js\";\n\n/**\n * @public\n */\nconst metadata = {\n\ttag: \"ui5-time-picker\",\n\taltTag: \"ui5-timepicker\",\n\tlanguageAware: true,\n\tmanagedSlots: true,\n\tproperties: /** @lends sap.ui.webcomponents.main.TimePicker.prototype */ {\n\t\t/**\n\t\t * Defines a formatted time value.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue undefined\n\t\t * @public\n\t\t */\n\t\tvalue: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: undefined,\n\t\t},\n\n\t\t/**\n\t\t * Defines a short hint, intended to aid the user with data entry when the\n\t\t * <code>ui5-time-picker</code> has no value.\n\t\t *\n\t\t * <br><br>\n\t\t * <b>Note:</b> When no placeholder is set, the format pattern is displayed as a placeholder.\n\t\t * Passing an empty string as the value of this property will make the <code>ui5-time-picker</code> appear empty - without placeholder or format pattern.\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue undefined\n\t\t * @public\n\t\t */\n\t\tplaceholder: {\n\t\t\ttype: String,\n\t\t\tdefaultValue: undefined,\n\t\t},\n\n\t\t/**\n\t\t * Determines the format, displayed in the input field.\n\t\t *\n\t\t * Example:\n\t\t * HH:mm:ss -> 11:42:35\n\t\t * hh:mm:ss a -> 2:23:15 PM\n\t\t * mm:ss -> 12:04 (only minutes and seconds)\n\t\t *\n\t\t * @type {string}\n\t\t * @defaultvalue \"\"\n\t\t * @public\n\t\t */\n\t\tformatPattern: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t/**\n\t\t * Defines the value state of the <code>ui5-time-picker</code>.\n\t\t * <br><br>\n\t\t * Available options are:\n\t\t * <ul>\n\t\t * <li><code>None</code></li>\n\t\t * <li><code>Error</code></li>\n\t\t * <li><code>Warning</code></li>\n\t\t * <li><code>Success</code></li>\n\t\t * <li><code>Information</code></li>\n\t\t * </ul>\n\t\t *\n\t\t * @type {ValueState}\n\t\t * @defaultvalue \"None\"\n\t\t * @public\n\t\t */\n\t\tvalueState: {\n\t\t\ttype: ValueState,\n\t\t\tdefaultValue: ValueState.None,\n\t\t},\n\n\t\t/**\n\t\t * Determines whether the <code>ui5-time-picker</code> is displayed as disabled.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t/**\n\t\t * Determines whether the <code>ui5-time-picker</code> is displayed as readonly.\n\t\t *\n\t\t * @type {boolean}\n\t\t * @defaultvalue false\n\t\t * @public\n\t\t */\n\t\treadonly: {\n\t\t\ttype: Boolean,\n\t\t},\n\n\t\t_isPickerOpen: {\n\t\t\ttype: Boolean,\n\t\t\tnoAttribute: true,\n\t\t},\n\n\t\t_respPopover: {\n\t\t\ttype: Object,\n\t\t},\n\n\t\t_hours: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t_minutes: {\n\t\t\ttype: String,\n\t\t},\n\n\t\t_seconds: {\n\t\t\ttype: String,\n\t\t},\n\t},\n\tslots: /** @lends sap.ui.webcomponents.main.TimePicker.prototype */ {\n\t\t/**\n\t\t * Defines the value state message that will be displayed as pop up under the <code>ui5-time-picker</code>.\n\t\t * <br><br>\n\t\t *\n\t\t * <b>Note:</b> If not specified, a default text (in the respective language) will be displayed.\n\t\t * <br>\n\t\t * <b>Note:</b> The <code>valueStateMessage</code> would be displayed,\n\t\t * when the <code>ui5-time-picker</code> is in <code>Information</code>, <code>Warning</code> or <code>Error</code> value state.\n\t\t * @type {HTMLElement}\n\t\t * @since 1.0.0-rc.8\n\t\t * @slot\n\t\t * @public\n\t\t */\n\t\tvalueStateMessage: {\n\t\t\ttype: HTMLElement,\n\t\t},\n\t},\n\tevents: /** @lends sap.ui.webcomponents.main.TimePicker.prototype */ {\n\t\t/**\n\t\t * Fired when the input operation has finished by clicking the \"OK\" button or\n\t\t * when the text in the input field has changed and the focus leaves the input field.\n\t\t *\n\t\t * @event\n\t\t * @public\n\t\t*/\n\t\tchange: {},\n\t\t/**\n\t\t * Fired when the value of the <code>ui5-time-picker</code> is changed at each key stroke.\n\t\t *\n\t\t * @event\n\t\t * @public\n\t\t*/\n\t\tinput: {},\n\t},\n};\n\n/**\n * @class\n *\n * <h3 class=\"comment-api-title\">Overview</h3>\n * The <code>ui5-time-picker</code> component provides an input field with assigned sliders which opens on user action.\n * The <code>ui5-time-picker</code> allows users to select a localized time using touch,\n * mouse, or keyboard input. It consists of two parts: the time input field and the\n * sliders.\n *\n * <h3>Usage</h3>\n * The user can enter a time by:\n * <ul>\n * <li>Using the sliders that opens in a popup</li>\n * <li>Typing it in directly in the input field</li>\n * </ul>\n * <br><br>\n * When the user makes an entry and chooses the enter key, the sliders shows the corresponding time.\n * When the user directly triggers the sliders display, the actual time is displayed.\n * For the <code>ui5-time-picker</code>\n *\n * <h3>Formatting</h3>\n *\n * If a time is entered by typing it into\n * the input field, it must fit to the used time format.\n * <br><br>\n * Supported format options are pattern-based on Unicode LDML Date Format notation.\n * For more information, see <ui5-link target=\"_blank\" href=\"http://unicode.org/reports/tr35/#Date_Field_Symbol_Table\" class=\"api-table-content-cell-link\">UTS #35: Unicode Locale Data Markup Language</ui5-link>.\n * <br><br>\n * For example, if the <code>format-pattern</code> is \"HH:mm:ss\",\n * a valid value string is \"11:42:35\" and the same is displayed in the input.\n *\n * <h3>Keyboard handling</h3>\n * [F4], [ALT]+[UP], [ALT]+[DOWN] Open/Close picker dialog and move focus to it.\n * <br>\n * When closed:\n * <ul>\n * <li>[PAGEUP] - Increments hours by 1. If 12 am is reached, increment hours to 1 pm and vice versa.</li>\n * <li>[PAGEDOWN] - Decrements the corresponding field by 1. If 1 pm is reached, decrement hours to 12 am and vice versa.</li>\n * <li>[SHIFT]+[PAGEUP] Increments minutes by 1.</li>\n * <li>[SHIFT]+ [PAGEDOWN] Decrements minutes by 1.</li>\n * <li>[SHIFT]+[CTRL]+[PAGEUP] Increments seconds by 1.</li>\n * <li>[SHIFT]+[CTRL]+ [PAGEDOWN] Decrements seconds by 1.</li>\n * </ul>\n * When opened:\n * <ul>\n * <li>[UP] If focus is on one of the selection lists: Select the value which is above the current value. If the first value is selected, select the last value in the list. Exception: AM/ PM List: stay on the first item.</li>\n * <li>[DOWN] If focus is on one of the selection lists: Select the value which is below the current value. If the last value is selected, select the first value in the list. Exception: AM/ PM List: stay on the last item.</li>\n * <li>[LEFT] If focus is on one of the selection lists: Move focus to the selection list which is left of the current selection list. If focus is at the first selection list, move focus to the last selection list.</li>\n * <li>[RIGHT] If focus is on one of the selection lists: Move focus to the selection list which is right of the current selection list. When focus is at the last selection list, move focus to the first selection list.</li>\n * <li>[PAGEUP] If focus is on one of the selection lists: Move focus to the first entry of this list.</li>\n * <li>[PAGEDOWN] If focus is on one of the selection lists: Move focus to the last entry of this list.</li>\n * </ul>\n *\n * <h3>ES6 Module Import</h3>\n *\n * <code>import @ui5/webcomponents/dist/TimePicker.js\";</code>\n *\n * @constructor\n * @author SAP SE\n * @alias sap.ui.webcomponents.main.TimePicker\n * @extends UI5Element\n * @tagname ui5-time-picker\n * @public\n * @since 1.0.0-rc.6\n */\nclass TimePicker extends UI5Element {\n\tstatic get metadata() {\n\t\treturn metadata;\n\t}\n\n\tstatic get render() {\n\t\treturn litRender;\n\t}\n\n\tstatic get styles() {\n\t\treturn TimePickerCss;\n\t}\n\n\tstatic get staticAreaTemplate() {\n\t\treturn TimePickerPopoverTemplate;\n\t}\n\n\tstatic get template() {\n\t\treturn TimePickerTemplate;\n\t}\n\n\tstatic get dependencies() {\n\t\treturn [\n\t\t\tIcon,\n\t\t\tResponsivePopover,\n\t\t\tWheelSlider,\n\t\t\tInput,\n\t\t\tButton,\n\t\t];\n\t}\n\n\tstatic async onDefine() {\n\t\tawait Promise.all([\n\t\t\tfetchCldr(getLocale().getLanguage(), getLocale().getRegion(), getLocale().getScript()),\n\t\t\tfetchI18nBundle(\"@ui5/webcomponents\"),\n\t\t]);\n\t}\n\n\tstatic get staticAreaStyles() {\n\t\treturn [ResponsivePopoverCommonCss, TimePickerPopoverCss];\n\t}\n\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.prevValue = null;\n\t\tthis._isPickerOpen = false;\n\t\tthis.i18nBundle = getI18nBundle(\"@ui5/webcomponents\");\n\n\t\tthis._respPopover = {\n\t\t\tplacementType: PopoverPlacementType.Bottom,\n\t\t\thorizontalAlign: PopoverHorizontalAlign.Left,\n\t\t\tallowTargetOverlap: true,\n\t\t\tstayOpenOnScroll: true,\n\t\t\tafterClose: () => {\n\t\t\t\tthis._isPickerOpen = false;\n\t\t\t\tthis.closePicker();\n\t\t\t},\n\t\t};\n\n\t\tthis._hoursParameters = {\n\t\t\tminHour: 0,\n\t\t\tmaxHour: 0,\n\t\t\tisTwelveHoursFormat: false,\n\t\t};\n\n\t\tthis._slidersDomRefs = [];\n\t}\n\n\tonBeforeRendering() {\n\t\tif (!this.formatPattern) {\n\t\t\tconst localeData = getCachedLocaleDataInstance(getLocale());\n\t\t\tthis.formatPattern = localeData.getTimePattern(this.getFormat().oFormatOptions.style);\n\t\t}\n\n\t\tif (this.value === undefined) {\n\t\t\tthis.value = this.getFormat().format(new Date());\n\t\t}\n\n\t\tthis._initHoursFormatParameters();\n\t}\n\n\tasync _handleInputClick() {\n\t\tif (this._isPickerOpen) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst inputField = await this._getInputField();\n\n\t\tif (inputField) {\n\t\t\tinputField.select();\n\t\t}\n\t}\n\n\tasync _handleInputChange() {\n\t\tconst nextValue = await this._getInput().getInputValue();\n\t\tconst isValid = this.isValid(nextValue);\n\n\t\tthis.setValue(nextValue);\n\t\tthis.fireEvent(\"change\", { value: nextValue, valid: isValid });\n\t\tthis.fireEvent(\"value-changed\", { value: nextValue, valid: isValid });\n\t}\n\n\tasync _handleInputLiveChange() {\n\t\tconst nextValue = await this._getInput().getInputValue();\n\t\tconst isValid = this.isValid(nextValue);\n\n\t\tthis.value = nextValue;\n\t\tthis.setSlidersValue();\n\t\tthis.fireEvent(\"input\", { value: nextValue, valid: isValid });\n\t}\n\n\tsetSlidersValue() {\n\t\tconst currentDate = this._getInput() ? this.getFormat().parse(this._getInput().getAttribute(\"value\")) : null,\n\t\t\tsecondsSlider = this.secondsSlider,\n\t\t\tminutesSlider = this.minutesSlider,\n\t\t\thoursSlider = this.hoursSlider,\n\t\t\tperiodsSlider = this.periodsSlider;\n\n\t\tif (!currentDate) {\n\t\t\treturn;\n\t\t}\n\t\tif (hoursSlider) {\n\t\t\tlet tempValue = \"\";\n\t\t\tif (this._hoursParameters.isTwelveHoursFormat && currentDate.getHours() > this._hoursParameters.maxHour) {\n\t\t\t\ttempValue = currentDate.getHours() - 12;\n\t\t\t} else if (this._hoursParameters.isTwelveHoursFormat && currentDate.getHours() < this._hoursParameters.minHour) {\n\t\t\t\ttempValue = currentDate.getHours() + 12;\n\t\t\t} else {\n\t\t\t\ttempValue = currentDate.getHours();\n\t\t\t}\n\t\t\tif (tempValue.toString().length === 1) {\n\t\t\t\thoursSlider.value = `0${tempValue}`;\n\t\t\t} else {\n\t\t\t\thoursSlider.value = tempValue.toString();\n\t\t\t}\n\t\t}\n\t\tif (minutesSlider) {\n\t\t\tconst tempValue = currentDate.getMinutes();\n\t\t\tif (tempValue.toString().length === 1) {\n\t\t\t\tminutesSlider.value = `0${tempValue}`;\n\t\t\t} else {\n\t\t\t\tminutesSlider.value = tempValue.toString();\n\t\t\t}\n\t\t}\n\t\tif (secondsSlider) {\n\t\t\tconst tempValue = currentDate.getSeconds();\n\t\t\tif (tempValue.toString().length === 1) {\n\t\t\t\tsecondsSlider.value = `0${tempValue}`;\n\t\t\t} else {\n\t\t\t\tsecondsSlider.value = tempValue.toString();\n\t\t\t}\n\t\t}\n\t\tif (this._hoursParameters.isTwelveHoursFormat && periodsSlider && this._hoursParameters.minHour === 1) {\n\t\t\tperiodsSlider.value = currentDate.getHours() >= this._hoursParameters.maxHour ? this.periodsArray[1] : this.periodsArray[0];\n\t\t} else if (this._hoursParameters.isTwelveHoursFormat && periodsSlider) {\n\t\t\tperiodsSlider.value = (currentDate.getHours() > this._hoursParameters.maxHour || currentDate.getHours() === this._hoursParameters.minHour) ? this.periodsArray[1] : this.periodsArray[0];\n\t\t}\n\t}\n\n\t/**\n\t * Closes the picker\n\t * @public\n\t */\n\tasync closePicker() {\n\t\tawait this._getPopover();\n\t\tthis.responsivePopover.close();\n\t\tthis._isPickerOpen = false;\n\n\t\tfor (let i = 0; i < this._slidersDomRefs.length; i++) {\n\t\t\tthis._slidersDomRefs[i].collapseSlider();\n\t\t}\n\t}\n\n\t/**\n\t * Opens the picker.\n\t * <code>{ focusInput: true }</code> By default, the focus goes in the picker after opening it.\n\t * Specify this option to focus the input field.\n\t * @public\n\t */\n\tasync openPicker() {\n\t\tawait this._getPopover();\n\t\tthis.responsivePopover.open(this);\n\t\tthis._isPickerOpen = true;\n\t\tthis._slidersDomRefs = await this.slidersDomRefs();\n\n\t\tthis.setSlidersValue();\n\n\t\tif (this._slidersDomRefs[0]) {\n\t\t\tthis._slidersDomRefs[0].focus();\n\t\t}\n\t}\n\n\ttogglePicker() {\n\t\tif (this.isOpen()) {\n\t\t\tthis.closePicker();\n\t\t\tthis._isPickerOpen = false;\n\t\t} else if (this._canOpenPicker()) {\n\t\t\tthis.openPicker();\n\t\t\tthis._isPickerOpen = true;\n\t\t}\n\t}\n\n\t/**\n\t * Checks if a value is valid against the current date format of the TimePicker\n\t * @param {string} value A value to be tested against the current date format\n\t * @public\n\t */\n\tisOpen() {\n\t\treturn !!this._isPickerOpen;\n\t}\n\n\t_canOpenPicker() {\n\t\treturn !this.disabled && !this.readonly;\n\t}\n\n\tasync _getPopover() {\n\t\tconst staticAreaItem = await this.getStaticAreaItemDomRef();\n\t\tthis.responsivePopover = staticAreaItem.querySelector(\"[ui5-responsive-popover]\");\n\t\treturn this.responsivePopover;\n\t}\n\n\tget secondsArray() {\n\t\treturn getSeconds();\n\t}\n\n\tget minutesArray() {\n\t\treturn getMinutes();\n\t}\n\n\tget hoursArray() {\n\t\treturn getHours(this._hoursParameters);\n\t}\n\n\tget periodsArray() {\n\t\treturn this.getFormat().aDayPeriods.map(x => x.toUpperCase());\n\t}\n\n\tasync slidersDomRefs() {\n\t\tawait this._getPopover();\n\t\treturn this.responsivePopover.default.length ? [...this.responsivePopover.default[0].children].filter(x => x.isUI5Element) : this.responsivePopover.default;\n\t}\n\n\t_getInput() {\n\t\treturn this.shadowRoot.querySelector(\"[ui5-input]\");\n\t}\n\n\t_getInputField() {\n\t\tconst input = this._getInput();\n\t\treturn input && input.getInputDOMRef();\n\t}\n\n\tget secondsSlider() {\n\t\treturn this.responsivePopover && this.responsivePopover.querySelector(\".ui5-time-picker-seconds-wheelslider\");\n\t}\n\n\tget minutesSlider() {\n\t\treturn this.responsivePopover && this.responsivePopover.querySelector(\".ui5-time-picker-minutes-wheelslider\");\n\t}\n\n\tget hoursSlider() {\n\t\treturn this.responsivePopover && this.responsivePopover.querySelector(\".ui5-time-picker-hours-wheelslider\");\n\t}\n\n\tget periodsSlider() {\n\t\treturn this.responsivePopover && this.responsivePopover.querySelector(\".ui5-time-picker-period-wheelslider\");\n\t}\n\n\tsubmitPickers() {\n\t\tconst selectedDate = new Date(),\n\t\t\tsecondsSlider = this.secondsSlider,\n\t\t\tminutesSlider = this.minutesSlider,\n\t\t\thoursSlider = this.hoursSlider,\n\t\t\tperiodsSlider = this.periodsSlider,\n\t\t\tminutes = minutesSlider ? minutesSlider.getAttribute(\"value\") : \"0\",\n\t\t\tseconds = secondsSlider ? secondsSlider.getAttribute(\"value\") : \"0\",\n\t\t\tperiod = periodsSlider ? periodsSlider.getAttribute(\"value\") : this.periodsArray[0],\n\t\t\tisTwelveHoursFormat = this._hoursParameters.isTwelveHoursFormat;\n\n\t\tlet hours = hoursSlider ? hoursSlider.getAttribute(\"value\") : this._hoursParameters.minHour.toString();\n\n\t\tif (isTwelveHoursFormat) {\n\t\t\tif (period === this.periodsArray[0]) { // AM\n\t\t\t\thours = hours === \"12\" ? 0 : hours;\n\t\t\t}\n\n\t\t\tif (period === this.periodsArray[1]) { // PM\n\t\t\t\thours = hours === \"12\" ? hours : hours * 1 + 12;\n\t\t\t}\n\t\t}\n\n\t\tselectedDate.setHours(hours);\n\t\tselectedDate.setMinutes(minutes);\n\t\tselectedDate.setSeconds(seconds);\n\n\t\tthis.setPrevValue(this.value);\n\t\tthis.setValue(this.getFormat().format(selectedDate));\n\n\t\tif (this.prevValue !== this.value) {\n\t\t\tthis.fireEvent(\"change\", { value: this.value, valid: true });\n\t\t\tthis.previousValue = this.value;\n\t\t}\n\n\t\tthis.closePicker();\n\t}\n\n\t/**\n\t * Checks if a value is valid against the current format patternt of the TimePicker.\n\t *\n\t * <br><br>\n\t * <b>Note:</b> an empty string is considered as valid value.\n\t * @param {string} value The value to be tested against the current date format\n\t * @public\n\t */\n\tisValid(value) {\n\t\tif (value === \"\") {\n\t\t\treturn true;\n\t\t}\n\t\treturn !!(value && this.getFormat().parse(value));\n\t}\n\n\tnormalizeValue(value) {\n\t\tif (value === \"\") {\n\t\t\treturn value;\n\t\t}\n\n\t\treturn this.getFormat().format(this.getFormat().parse(value));\n\t}\n\n\tget _formatPattern() {\n\t\treturn this.formatPattern || \"medium\"; // get from config\n\t}\n\n\tget _isPattern() {\n\t\treturn this._formatPattern !== \"medium\" && this._formatPattern !== \"short\" && this._formatPattern !== \"long\";\n\t}\n\n\tget _displayFormat() {\n\t\treturn this.getFormat().oFormatOptions.pattern;\n\t}\n\n\tget _placeholder() {\n\t\treturn this.placeholder !== undefined ? this.placeholder : this._displayFormat;\n\t}\n\n\thandleSliderClicked(event) {\n\t\tif (event.target._expanded) {\n\t\t\tthis.openSlider(event.target.label);\n\t\t}\n\t}\n\n\topenSlider(label) {\n\t\tfor (let i = 0; i < this._slidersDomRefs.length; i++) {\n\t\t\tif (this._slidersDomRefs[i].label !== label) {\n\t\t\t\tthis._slidersDomRefs[i].collapseSlider();\n\t\t\t}\n\t\t}\n\t}\n\n\tasync _onfocuscontainerin(e) {\n\t\tif (e.target !== e.currentTarget) {\n\t\t\treturn;\n\t\t}\n\t\tlet sliders = [];\n\t\tif (this._slidersDomRefs.length) {\n\t\t\tsliders = await this.slidersDomRefs();\n\t\t} else {\n\t\t\tsliders = this._slidersDomRefs;\n\t\t}\n\t\tif (sliders[0]) {\n\t\t\tsliders[0].focus();\n\t\t}\n\t}\n\n\tasync _oncontainerkeydown(e) {\n\t\tif (isLeft(e)) {\n\t\t\tlet expandedSliderIndex = 0;\n\t\t\tfor (let i = 0; i < this._slidersDomRefs.length; i++) {\n\t\t\t\tif (this._slidersDomRefs[i]._expanded) {\n\t\t\t\t\texpandedSliderIndex = i;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this._slidersDomRefs[expandedSliderIndex - 1]) {\n\t\t\t\tthis._slidersDomRefs[expandedSliderIndex - 1].focus();\n\t\t\t} else {\n\t\t\t\tthis._slidersDomRefs[this._slidersDomRefs.length - 1].focus();\n\t\t\t}\n\t\t} else if (isRight(e)) {\n\t\t\tlet expandedSliderIndex = 0;\n\n\t\t\tfor (let i = 0; i < this._slidersDomRefs.length; i++) {\n\t\t\t\tif (this._slidersDomRefs[i]._expanded) {\n\t\t\t\t\texpandedSliderIndex = i;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this._slidersDomRefs[expandedSliderIndex + 1]) {\n\t\t\t\tthis._slidersDomRefs[expandedSliderIndex + 1].focus();\n\t\t\t} else {\n\t\t\t\tthis._slidersDomRefs[0].focus();\n\t\t\t}\n\t\t}\n\n\t\tif (isTabNext(e) && e.target === this._slidersDomRefs[this._slidersDomRefs.length - 1]) {\n\t\t\tconst responsivePopover = await this._getPopover();\n\t\t\te.preventDefault();\n\t\t\tresponsivePopover.querySelector(\".ui5-time-picker-footer\").firstElementChild.focus();\n\t\t} else if (isTabPrevious(e) && e.target === this._slidersDomRefs[0]) {\n\t\t\tconst responsivePopover = await this._getPopover();\n\t\t\te.preventDefault();\n\t\t\tresponsivePopover.querySelector(`.ui5-time-picker-footer`).lastElementChild.focus();\n\t\t}\n\t}\n\n\t_onfooterkeydown(e) {\n\t\tif (isTabNext(e) && e.target === e.target.parentElement.lastElementChild) {\n\t\t\te.preventDefault();\n\t\t\tthis._slidersDomRefs[0].focus();\n\t\t}\n\n\t\tif (isTabPrevious(e) && e.target === e.target.parentElement.firstElementChild) {\n\t\t\te.preventDefault();\n\t\t\tthis._slidersDomRefs[this._slidersDomRefs.length - 1].focus();\n\t\t}\n\t}\n\n\t_ontimepickerkeydown(e) {\n\t\tthis._handleTimepickerKeysDown(e);\n\t}\n\n\t_ontimepickerpopoverkeydown(e) {\n\t\tthis._handleTimepickerKeysDown(e);\n\t}\n\n\t_handleTimepickerKeysDown(e) {\n\t\tif (isShow(e)) {\n\t\t\te.preventDefault();\n\t\t\tthis.togglePicker();\n\t\t}\n\n\t\tif (this.isOpen()) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (isPageUpShiftCtrl(e)) {\n\t\t\te.preventDefault();\n\t\t\tthis._incrementValue(true, false, false, true);\n\t\t} else if (isPageUpShift(e)) {\n\t\t\te.preventDefault();\n\t\t\tthis._incrementValue(true, false, true, false);\n\t\t} else if (isPageUp(e)) {\n\t\t\te.preventDefault();\n\t\t\tthis._incrementValue(true, true, false, false);\n\t\t}\n\n\t\tif (isPageDownShiftCtrl(e)) {\n\t\t\te.preventDefault();\n\t\t\tthis._incrementValue(false, false, false, true);\n\t\t} else if (isPageDownShift(e)) {\n\t\t\te.preventDefault();\n\t\t\tthis._incrementValue(false, false, true, false);\n\t\t} else if (isPageDown(e)) {\n\t\t\te.preventDefault();\n\t\t\tthis._incrementValue(false, true, false, false);\n\t\t}\n\t}\n\n\t_incrementValue(increment, hours, minutes, seconds) {\n\t\tconst date = this.dateValue;\n\t\tconst incrementStep = increment ? 1 : -1;\n\n\t\tif (hours && this.shouldBuildHoursSlider) {\n\t\t\tdate.setHours(date.getHours() + incrementStep);\n\t\t} else if (minutes && this.shouldBuildMinutesSlider) {\n\t\t\tdate.setMinutes(date.getMinutes() + incrementStep);\n\t\t} else if (seconds && this.shouldBuildSecondsSlider) {\n\t\t\tdate.setSeconds(date.getSeconds() + incrementStep);\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setValue(this.formatValue(date));\n\t\tthis.fireEvent(\"change\", { value: this.value, valid: true });\n\t}\n\n\t_handleWheel(e) {\n\t\te.preventDefault();\n\t}\n\n\tgetFormat() {\n\t\tlet dateFormat;\n\t\tif (this._isPattern) {\n\t\t\tdateFormat = DateFormat.getInstance({\n\t\t\t\tpattern: this._formatPattern,\n\t\t\t});\n\t\t} else {\n\t\t\tdateFormat = DateFormat.getInstance({\n\t\t\t\tstyle: this._formatPattern,\n\t\t\t});\n\t\t}\n\n\t\treturn dateFormat;\n\t}\n\n\tsetValue(value) {\n\t\tif (this.isValid(value)) {\n\t\t\tthis.value = this.normalizeValue(value);\n\t\t\tthis.setSlidersValue();\n\t\t\tthis.valueState = ValueState.None;\n\t\t} else {\n\t\t\tthis.valueState = ValueState.Error;\n\t\t}\n\t}\n\n\tsetPrevValue(value) {\n\t\tif (this.isValid(value)) {\n\t\t\tthis.prevValue = this.normalizeValue(value);\n\t\t}\n\t}\n\n\t/**\n\t * Formats a Java Script date object into a string representing a locale date and time\n\t * according to the <code>formatPattern</code> property of the TimePicker instance\n\t * @param {object} oDate A Java Script date object to be formatted as string\n\t * @public\n\t */\n\tformatValue(oDate) {\n\t\treturn this.getFormat().format(oDate);\n\t}\n\n\t_getSlidersContained() {\n\t\tconst formatArray = this.getFormat().aFormatArray;\n\t\treturn getTimeControlsByFormat(formatArray, this._hoursParameters);\n\t}\n\n\t_initHoursFormatParameters() {\n\t\tconst formatArray = this.getFormat().aFormatArray;\n\t\tconst config = getHoursConfigByFormat(formatArray[0].type);\n\n\t\tthis._hoursParameters.minHour = config.minHour;\n\t\tthis._hoursParameters.maxHour = config.maxHour;\n\t\tthis._hoursParameters.isTwelveHoursFormat = config.isTwelveHoursFormat;\n\t}\n\n\t/**\n\t * Currently selected date represented as JavaScript Date instance\n\t *\n\t * @readonly\n\t * @type { Date }\n\t * @public\n\t */\n\tget dateValue() {\n\t\treturn this.getFormat().parse(this.value);\n\t}\n\n\tget shouldBuildHoursSlider() {\n\t\treturn this._getSlidersContained()[0];\n\t}\n\n\tget shouldBuildMinutesSlider() {\n\t\treturn this._getSlidersContained()[1];\n\t}\n\n\tget shouldBuildSecondsSlider() {\n\t\treturn this._getSlidersContained()[2];\n\t}\n\n\tget shouldBuildPeriodsSlider() {\n\t\treturn this._getSlidersContained()[3];\n\t}\n\n\tget hoursSliderTitle() {\n\t\treturn this.i18nBundle.getText(TIMEPICKER_HOURS_LABEL);\n\t}\n\n\tget minutesSliderTitle() {\n\t\treturn this.i18nBundle.getText(TIMEPICKER_MINUTES_LABEL);\n\t}\n\n\tget secondsSliderTitle() {\n\t\treturn this.i18nBundle.getText(TIMEPICKER_SECONDS_LABEL);\n\t}\n\n\tget periodSliderTitle() {\n\t\treturn this.i18nBundle.getText(TIMEPICKER_PERIODS_LABEL);\n\t}\n\n\tget submitButtonLabel() {\n\t\treturn this.i18nBundle.getText(TIMEPICKER_SUBMIT_BUTTON);\n\t}\n\n\tget cancelButtonLabel() {\n\t\treturn this.i18nBundle.getText(TIMEPICKER_CANCEL_BUTTON);\n\t}\n\n\tget classes() {\n\t\treturn {\n\t\t\tcontainer: {\n\t\t\t\t\"ui5-time-picker-sliders-container\": true,\n\t\t\t\t\"ui5-phone\": isPhone(),\n\t\t\t},\n\t\t};\n\t}\n}\n\nTimePicker.define();\n\nexport default TimePicker;\n"],"mappings":"AAAA,OAAOA,UAAU,MAAM,4CAA4C;AACnE,OAAOC,SAAS,MAAM,sDAAsD;AAC5E,SAASC,eAAe,EAAEC,aAAa,QAAQ,4CAA4C;AAC3F,OAAOC,SAAS,MAAM,kDAAkD;AACxE,OAAOC,UAAU,MAAM,kDAAkD;AACzE,OAAOC,UAAU,MAAM,oDAAoD;AAC3E,OAAOC,2BAA2B,MAAM,qEAAqE;AAC7G,OAAO,qEAAqE,CAAC,CAAC;AAC9E,SAASC,SAAS,QAAQ,6DAA6D;AACvF,SAASC,OAAO,QAAQ,wCAAwC;AAChE,SACCC,MAAM,EACNC,OAAO,EACPC,SAAS,EACTC,aAAa,EACbC,MAAM,EACNC,QAAQ,EACRC,UAAU,EACVC,aAAa,EACbC,eAAe,EACfC,iBAAiB,EACjBC,mBAAmB,QACb,sCAAsC;AAC7C,OAAO,qDAAqD;AAC5D,OAAOC,IAAI,MAAM,WAAW;AAC5B,OAAOC,sBAAsB,MAAM,mCAAmC;AACtE,OAAOC,iBAAiB,MAAM,wBAAwB;AACtD,OAAOC,oBAAoB,MAAM,iCAAiC;AAClE,OAAOC,kBAAkB,MAAM,iDAAiD;AAChF,OAAOC,yBAAyB,MAAM,wDAAwD;AAC9F,OAAOC,KAAK,MAAM,YAAY;AAC9B,OAAOC,MAAM,MAAM,aAAa;AAChC,OAAOC,WAAW,MAAM,kBAAkB;AAC1C,SACCC,QAAQ,EACRC,UAAU,EACVC,UAAU,EACVC,sBAAsB,EACtBC,uBAAuB,QACjB,kCAAkC;AAEzC,SACCC,sBAAsB,EACtBC,wBAAwB,EACxBC,wBAAwB,EACxBC,wBAAwB,EACxBC,wBAAwB,EACxBC,wBAAwB,QAClB,mCAAmC;;AAE1C;AACA,OAAOC,aAAa,MAAM,sCAAsC;AAChE,OAAOC,oBAAoB,MAAM,6CAA6C;AAC9E,OAAOC,0BAA0B,MAAM,mDAAmD;;AAE1F;AACA;AACA;AACA,MAAMC,QAAQ,GAAG;EAChBC,GAAG,EAAE,iBAAiB;EACtBC,MAAM,EAAE,gBAAgB;EACxBC,aAAa,EAAE,IAAI;EACnBC,YAAY,EAAE,IAAI;EAClBC,UAAU,EAAE,4DAA6D;IACxE;AACF;AACA;AACA;AACA;AACA;AACA;IACEC,KAAK,EAAE;MACNC,IAAI,EAAEC,MAAM;MACZC,YAAY,EAAEC;IACf,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,WAAW,EAAE;MACZJ,IAAI,EAAEC,MAAM;MACZC,YAAY,EAAEC;IACf,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEE,aAAa,EAAE;MACdL,IAAI,EAAEC;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEK,UAAU,EAAE;MACXN,IAAI,EAAE9C,UAAU;MAChBgD,YAAY,EAAEhD,UAAU,CAACqD;IAC1B,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;IACEC,QAAQ,EAAE;MACTR,IAAI,EAAES;IACP,CAAC;IAED;AACF;AACA;AACA;AACA;AACA;AACA;IACEC,QAAQ,EAAE;MACTV,IAAI,EAAES;IACP,CAAC;IAEDE,aAAa,EAAE;MACdX,IAAI,EAAES,OAAO;MACbG,WAAW,EAAE;IACd,CAAC;IAEDC,YAAY,EAAE;MACbb,IAAI,EAAEc;IACP,CAAC;IAEDC,MAAM,EAAE;MACPf,IAAI,EAAEC;IACP,CAAC;IAEDe,QAAQ,EAAE;MACThB,IAAI,EAAEC;IACP,CAAC;IAEDgB,QAAQ,EAAE;MACTjB,IAAI,EAAEC;IACP;EACD,CAAC;EACDiB,KAAK,EAAE,4DAA6D;IACnE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACEC,iBAAiB,EAAE;MAClBnB,IAAI,EAAEoB;IACP;EACD,CAAC;EACDC,MAAM,EAAE,4DAA6D;IACpE;AACF;AACA;AACA;AACA;AACA;AACA;IACEC,MAAM,EAAE,CAAC,CAAC;IACV;AACF;AACA;AACA;AACA;AACA;IACEC,KAAK,EAAE,CAAC;EACT;AACD,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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"},"metadata":{},"sourceType":"module","externalDependencies":[]}