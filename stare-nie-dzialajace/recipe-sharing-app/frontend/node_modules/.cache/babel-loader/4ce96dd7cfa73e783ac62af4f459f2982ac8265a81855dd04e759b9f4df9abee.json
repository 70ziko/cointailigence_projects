{"ast":null,"code":"const getThemeMetadata = () => {\n  // Check if the class was already applied, most commonly to the link/style tag with the CSS Variables\n  let el = document.querySelector(\".sapThemeMetaData-Base-baseLib\");\n  if (el) {\n    return getComputedStyle(el).backgroundImage;\n  }\n  el = document.createElement(\"span\");\n  el.style.display = \"none\";\n  el.classList.add(\"sapThemeMetaData-Base-baseLib\");\n  document.body.appendChild(el);\n  const metadata = getComputedStyle(el).backgroundImage;\n  document.body.removeChild(el);\n  return metadata;\n};\nconst parseThemeMetadata = metadataString => {\n  const params = /\\([\"']?data:text\\/plain;utf-8,(.*?)['\"]?\\)$/i.exec(metadataString);\n  if (params && params.length >= 2) {\n    let paramsString = params[1];\n    paramsString = paramsString.replace(/\\\\\"/g, `\"`);\n    if (paramsString.charAt(0) !== \"{\" && paramsString.charAt(paramsString.length - 1) !== \"}\") {\n      try {\n        paramsString = decodeURIComponent(paramsString);\n      } catch (ex) {\n        console.warn(\"Malformed theme metadata string, unable to decodeURIComponent\"); // eslint-disable-line\n        return;\n      }\n    }\n    try {\n      return JSON.parse(paramsString);\n    } catch (ex) {\n      console.warn(\"Malformed theme metadata string, unable to parse JSON\"); // eslint-disable-line\n    }\n  }\n};\n\nconst processThemeMetadata = metadata => {\n  let themeName;\n  let baseThemeName;\n  try {\n    themeName = metadata.Path.match(/\\.([^.]+)\\.css_variables$/)[1];\n    baseThemeName = metadata.Extends[0];\n  } catch (ex) {\n    console.warn(\"Malformed theme metadata Object\", metadata); // eslint-disable-line\n    return;\n  }\n  return {\n    themeName,\n    baseThemeName\n  };\n};\nconst getThemeDesignerTheme = () => {\n  const metadataString = getThemeMetadata();\n  if (!metadataString || metadataString === \"none\") {\n    return;\n  }\n  const metadata = parseThemeMetadata(metadataString);\n  return processThemeMetadata(metadata);\n};\nexport default getThemeDesignerTheme;","map":{"version":3,"names":["getThemeMetadata","el","document","querySelector","getComputedStyle","backgroundImage","createElement","style","display","classList","add","body","appendChild","metadata","removeChild","parseThemeMetadata","metadataString","params","exec","length","paramsString","replace","charAt","decodeURIComponent","ex","console","warn","JSON","parse","processThemeMetadata","themeName","baseThemeName","Path","match","Extends","getThemeDesignerTheme"],"sources":["/home/paris/projekty/haergi/feng/workspace/recipe-sharing-app/frontend/node_modules/@ui5/webcomponents-base/dist/theming/getThemeDesignerTheme.js"],"sourcesContent":["const getThemeMetadata = () => {\n\t// Check if the class was already applied, most commonly to the link/style tag with the CSS Variables\n\tlet el = document.querySelector(\".sapThemeMetaData-Base-baseLib\");\n\tif (el) {\n\t\treturn getComputedStyle(el).backgroundImage;\n\t}\n\n\tel = document.createElement(\"span\");\n\tel.style.display = \"none\";\n\tel.classList.add(\"sapThemeMetaData-Base-baseLib\");\n\tdocument.body.appendChild(el);\n\tconst metadata = getComputedStyle(el).backgroundImage;\n\tdocument.body.removeChild(el);\n\n\treturn metadata;\n};\n\nconst parseThemeMetadata = metadataString => {\n\tconst params = /\\([\"']?data:text\\/plain;utf-8,(.*?)['\"]?\\)$/i.exec(metadataString);\n\tif (params && params.length >= 2) {\n\t\tlet paramsString = params[1];\n\t\tparamsString = paramsString.replace(/\\\\\"/g, `\"`);\n\t\tif (paramsString.charAt(0) !== \"{\" && paramsString.charAt(paramsString.length - 1) !== \"}\") {\n\t\t\ttry {\n\t\t\t\tparamsString = decodeURIComponent(paramsString);\n\t\t\t} catch (ex) {\n\t\t\t\tconsole.warn(\"Malformed theme metadata string, unable to decodeURIComponent\"); // eslint-disable-line\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\ttry {\n\t\t\treturn JSON.parse(paramsString);\n\t\t} catch (ex) {\n\t\t\tconsole.warn(\"Malformed theme metadata string, unable to parse JSON\"); // eslint-disable-line\n\t\t}\n\t}\n};\n\nconst processThemeMetadata = metadata => {\n\tlet themeName;\n\tlet baseThemeName;\n\n\ttry {\n\t\tthemeName = metadata.Path.match(/\\.([^.]+)\\.css_variables$/)[1];\n\t\tbaseThemeName = metadata.Extends[0];\n\t} catch (ex) {\n\t\tconsole.warn(\"Malformed theme metadata Object\", metadata); // eslint-disable-line\n\t\treturn;\n\t}\n\n\treturn {\n\t\tthemeName,\n\t\tbaseThemeName,\n\t};\n};\n\nconst getThemeDesignerTheme = () => {\n\tconst metadataString = getThemeMetadata();\n\tif (!metadataString || metadataString === \"none\") {\n\t\treturn;\n\t}\n\n\tconst metadata = parseThemeMetadata(metadataString);\n\treturn processThemeMetadata(metadata);\n};\n\nexport default getThemeDesignerTheme;\n"],"mappings":"AAAA,MAAMA,gBAAgB,GAAGA,CAAA,KAAM;EAC9B;EACA,IAAIC,EAAE,GAAGC,QAAQ,CAACC,aAAa,CAAC,gCAAgC,CAAC;EACjE,IAAIF,EAAE,EAAE;IACP,OAAOG,gBAAgB,CAACH,EAAE,CAAC,CAACI,eAAe;EAC5C;EAEAJ,EAAE,GAAGC,QAAQ,CAACI,aAAa,CAAC,MAAM,CAAC;EACnCL,EAAE,CAACM,KAAK,CAACC,OAAO,GAAG,MAAM;EACzBP,EAAE,CAACQ,SAAS,CAACC,GAAG,CAAC,+BAA+B,CAAC;EACjDR,QAAQ,CAACS,IAAI,CAACC,WAAW,CAACX,EAAE,CAAC;EAC7B,MAAMY,QAAQ,GAAGT,gBAAgB,CAACH,EAAE,CAAC,CAACI,eAAe;EACrDH,QAAQ,CAACS,IAAI,CAACG,WAAW,CAACb,EAAE,CAAC;EAE7B,OAAOY,QAAQ;AAChB,CAAC;AAED,MAAME,kBAAkB,GAAGC,cAAc,IAAI;EAC5C,MAAMC,MAAM,GAAG,8CAA8C,CAACC,IAAI,CAACF,cAAc,CAAC;EAClF,IAAIC,MAAM,IAAIA,MAAM,CAACE,MAAM,IAAI,CAAC,EAAE;IACjC,IAAIC,YAAY,GAAGH,MAAM,CAAC,CAAC,CAAC;IAC5BG,YAAY,GAAGA,YAAY,CAACC,OAAO,CAAC,MAAM,EAAG,GAAE,CAAC;IAChD,IAAID,YAAY,CAACE,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,IAAIF,YAAY,CAACE,MAAM,CAACF,YAAY,CAACD,MAAM,GAAG,CAAC,CAAC,KAAK,GAAG,EAAE;MAC3F,IAAI;QACHC,YAAY,GAAGG,kBAAkB,CAACH,YAAY,CAAC;MAChD,CAAC,CAAC,OAAOI,EAAE,EAAE;QACZC,OAAO,CAACC,IAAI,CAAC,+DAA+D,CAAC,CAAC,CAAC;QAC/E;MACD;IACD;IACA,IAAI;MACH,OAAOC,IAAI,CAACC,KAAK,CAACR,YAAY,CAAC;IAChC,CAAC,CAAC,OAAOI,EAAE,EAAE;MACZC,OAAO,CAACC,IAAI,CAAC,uDAAuD,CAAC,CAAC,CAAC;IACxE;EACD;AACD,CAAC;;AAED,MAAMG,oBAAoB,GAAGhB,QAAQ,IAAI;EACxC,IAAIiB,SAAS;EACb,IAAIC,aAAa;EAEjB,IAAI;IACHD,SAAS,GAAGjB,QAAQ,CAACmB,IAAI,CAACC,KAAK,CAAC,2BAA2B,CAAC,CAAC,CAAC,CAAC;IAC/DF,aAAa,GAAGlB,QAAQ,CAACqB,OAAO,CAAC,CAAC,CAAC;EACpC,CAAC,CAAC,OAAOV,EAAE,EAAE;IACZC,OAAO,CAACC,IAAI,CAAC,iCAAiC,EAAEb,QAAQ,CAAC,CAAC,CAAC;IAC3D;EACD;EAEA,OAAO;IACNiB,SAAS;IACTC;EACD,CAAC;AACF,CAAC;AAED,MAAMI,qBAAqB,GAAGA,CAAA,KAAM;EACnC,MAAMnB,cAAc,GAAGhB,gBAAgB,CAAC,CAAC;EACzC,IAAI,CAACgB,cAAc,IAAIA,cAAc,KAAK,MAAM,EAAE;IACjD;EACD;EAEA,MAAMH,QAAQ,GAAGE,kBAAkB,CAACC,cAAc,CAAC;EACnD,OAAOa,oBAAoB,CAAChB,QAAQ,CAAC;AACtC,CAAC;AAED,eAAesB,qBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}