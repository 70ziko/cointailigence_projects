{"ast":null,"code":"let ponyfillTimer;\nconst ponyfillNeeded = () => !!window.CSSVarsPonyfill;\n\n/**\n * Removes the \"data-cssvars-group\" attribute for all element styles and their respective out nodes.\n * CSSVarsPonyfill has internal counters for \"group\" and \"job\" and running several instances of the ponyfill may lead to issues, since these counters are not shared\n * Therefore we remove them for our \"data-ui5-element-styles\"\n *\n * @param rootElement\n */\nconst cleanPonyfillMetadata = (rootElement = document.head) => {\n  rootElement.querySelectorAll(`style[data-ui5-element-styles][data-cssvars=\"src\"]`).forEach(tag => {\n    const group = tag.getAttribute(\"data-cssvars-group\");\n    tag.removeAttribute(\"data-cssvars-group\");\n    tag.disabled = false;\n    const outNode = rootElement.querySelector(`style[data-cssvars=\"out\"][data-cssvars-group=\"${group}\"]`);\n    if (outNode) {\n      outNode.removeAttribute(\"data-cssvars-group\");\n    }\n  });\n};\nconst runPonyfill = () => {\n  ponyfillTimer = undefined;\n  cleanPonyfillMetadata();\n  window.CSSVarsPonyfill.cssVars({\n    rootElement: document.head,\n    variables: isCompact() ? getCompactModeVars() : {},\n    silent: true\n  });\n};\nconst schedulePonyfill = () => {\n  if (!ponyfillTimer) {\n    ponyfillTimer = window.setTimeout(runPonyfill, 0);\n  }\n};\nconst isCompact = () => {\n  const b = document.body;\n  return b.hasAttribute(\"data-ui5-compact-size\") || b.classList.contains(\"ui5-content-density-compact\") || b.classList.contains(\"sapUiSizeCompact\");\n};\nconst getCompactModeVars = () => {\n  const compactVars = {};\n  [...document.querySelectorAll(`[data-ui5-theme-properties]`)].forEach(el => {\n    const cssContent = el.textContent.replace(\"\\n\", \"\");\n    let match;\n    const regExp = new RegExp(\"data-ui5-compact-size[^{]*{(.*?)}\", \"g\");\n    while ((match = regExp.exec(cssContent)) !== null) {\n      // eslint-disable-line\n      const compactCSS = match[1];\n      compactCSS.split(\";\").forEach(declaration => {\n        const pair = declaration.split(\":\");\n        compactVars[pair[0].trim()] = pair[1].trim();\n      });\n    }\n  });\n  return compactVars;\n};\nexport { ponyfillNeeded, runPonyfill, schedulePonyfill };","map":{"version":3,"names":["ponyfillTimer","ponyfillNeeded","window","CSSVarsPonyfill","cleanPonyfillMetadata","rootElement","document","head","querySelectorAll","forEach","tag","group","getAttribute","removeAttribute","disabled","outNode","querySelector","runPonyfill","undefined","cssVars","variables","isCompact","getCompactModeVars","silent","schedulePonyfill","setTimeout","b","body","hasAttribute","classList","contains","compactVars","el","cssContent","textContent","replace","match","regExp","RegExp","exec","compactCSS","split","declaration","pair","trim"],"sources":["/home/paris/projekty/haergi/feng/workspace/recipe-sharing-app/frontend/node_modules/@ui5/webcomponents-base/dist/theming/CSSVarsPonyfill.js"],"sourcesContent":["let ponyfillTimer;\n\nconst ponyfillNeeded = () => !!window.CSSVarsPonyfill;\n\n/**\n * Removes the \"data-cssvars-group\" attribute for all element styles and their respective out nodes.\n * CSSVarsPonyfill has internal counters for \"group\" and \"job\" and running several instances of the ponyfill may lead to issues, since these counters are not shared\n * Therefore we remove them for our \"data-ui5-element-styles\"\n *\n * @param rootElement\n */\nconst cleanPonyfillMetadata = (rootElement = document.head) => {\n\trootElement.querySelectorAll(`style[data-ui5-element-styles][data-cssvars=\"src\"]`).forEach(tag => {\n\t\tconst group = tag.getAttribute(\"data-cssvars-group\");\n\t\ttag.removeAttribute(\"data-cssvars-group\");\n\t\ttag.disabled = false;\n\t\tconst outNode = rootElement.querySelector(`style[data-cssvars=\"out\"][data-cssvars-group=\"${group}\"]`);\n\t\tif (outNode) {\n\t\t\toutNode.removeAttribute(\"data-cssvars-group\");\n\t\t}\n\t});\n};\n\nconst runPonyfill = () => {\n\tponyfillTimer = undefined;\n\n\tcleanPonyfillMetadata();\n\twindow.CSSVarsPonyfill.cssVars({\n\t\trootElement: document.head,\n\t\tvariables: isCompact() ? getCompactModeVars() : {},\n\t\tsilent: true,\n\t});\n};\n\nconst schedulePonyfill = () => {\n\tif (!ponyfillTimer) {\n\t\tponyfillTimer = window.setTimeout(runPonyfill, 0);\n\t}\n};\n\nconst isCompact = () => {\n\tconst b = document.body;\n\treturn b.hasAttribute(\"data-ui5-compact-size\") || b.classList.contains(\"ui5-content-density-compact\") || b.classList.contains(\"sapUiSizeCompact\");\n};\n\nconst getCompactModeVars = () => {\n\tconst compactVars = {};\n\t[...document.querySelectorAll(`[data-ui5-theme-properties]`)].forEach(el => {\n\t\tconst cssContent = el.textContent.replace(\"\\n\", \"\");\n\t\tlet match;\n\t\tconst regExp = new RegExp(\"data-ui5-compact-size[^{]*{(.*?)}\", \"g\");\n\t\twhile ((match = regExp.exec(cssContent)) !== null) { // eslint-disable-line\n\t\t\tconst compactCSS = match[1];\n\t\t\tcompactCSS.split(\";\").forEach(declaration => {\n\t\t\t\tconst pair = declaration.split(\":\");\n\t\t\t\tcompactVars[pair[0].trim()] = pair[1].trim();\n\t\t\t});\n\t\t}\n\t});\n\n\treturn compactVars;\n};\n\nexport {\n\tponyfillNeeded,\n\trunPonyfill,\n\tschedulePonyfill,\n};\n"],"mappings":"AAAA,IAAIA,aAAa;AAEjB,MAAMC,cAAc,GAAGA,CAAA,KAAM,CAAC,CAACC,MAAM,CAACC,eAAe;;AAErD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,qBAAqB,GAAGA,CAACC,WAAW,GAAGC,QAAQ,CAACC,IAAI,KAAK;EAC9DF,WAAW,CAACG,gBAAgB,CAAE,oDAAmD,CAAC,CAACC,OAAO,CAACC,GAAG,IAAI;IACjG,MAAMC,KAAK,GAAGD,GAAG,CAACE,YAAY,CAAC,oBAAoB,CAAC;IACpDF,GAAG,CAACG,eAAe,CAAC,oBAAoB,CAAC;IACzCH,GAAG,CAACI,QAAQ,GAAG,KAAK;IACpB,MAAMC,OAAO,GAAGV,WAAW,CAACW,aAAa,CAAE,iDAAgDL,KAAM,IAAG,CAAC;IACrG,IAAII,OAAO,EAAE;MACZA,OAAO,CAACF,eAAe,CAAC,oBAAoB,CAAC;IAC9C;EACD,CAAC,CAAC;AACH,CAAC;AAED,MAAMI,WAAW,GAAGA,CAAA,KAAM;EACzBjB,aAAa,GAAGkB,SAAS;EAEzBd,qBAAqB,CAAC,CAAC;EACvBF,MAAM,CAACC,eAAe,CAACgB,OAAO,CAAC;IAC9Bd,WAAW,EAAEC,QAAQ,CAACC,IAAI;IAC1Ba,SAAS,EAAEC,SAAS,CAAC,CAAC,GAAGC,kBAAkB,CAAC,CAAC,GAAG,CAAC,CAAC;IAClDC,MAAM,EAAE;EACT,CAAC,CAAC;AACH,CAAC;AAED,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EAC9B,IAAI,CAACxB,aAAa,EAAE;IACnBA,aAAa,GAAGE,MAAM,CAACuB,UAAU,CAACR,WAAW,EAAE,CAAC,CAAC;EAClD;AACD,CAAC;AAED,MAAMI,SAAS,GAAGA,CAAA,KAAM;EACvB,MAAMK,CAAC,GAAGpB,QAAQ,CAACqB,IAAI;EACvB,OAAOD,CAAC,CAACE,YAAY,CAAC,uBAAuB,CAAC,IAAIF,CAAC,CAACG,SAAS,CAACC,QAAQ,CAAC,6BAA6B,CAAC,IAAIJ,CAAC,CAACG,SAAS,CAACC,QAAQ,CAAC,kBAAkB,CAAC;AAClJ,CAAC;AAED,MAAMR,kBAAkB,GAAGA,CAAA,KAAM;EAChC,MAAMS,WAAW,GAAG,CAAC,CAAC;EACtB,CAAC,GAAGzB,QAAQ,CAACE,gBAAgB,CAAE,6BAA4B,CAAC,CAAC,CAACC,OAAO,CAACuB,EAAE,IAAI;IAC3E,MAAMC,UAAU,GAAGD,EAAE,CAACE,WAAW,CAACC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC;IACnD,IAAIC,KAAK;IACT,MAAMC,MAAM,GAAG,IAAIC,MAAM,CAAC,mCAAmC,EAAE,GAAG,CAAC;IACnE,OAAO,CAACF,KAAK,GAAGC,MAAM,CAACE,IAAI,CAACN,UAAU,CAAC,MAAM,IAAI,EAAE;MAAE;MACpD,MAAMO,UAAU,GAAGJ,KAAK,CAAC,CAAC,CAAC;MAC3BI,UAAU,CAACC,KAAK,CAAC,GAAG,CAAC,CAAChC,OAAO,CAACiC,WAAW,IAAI;QAC5C,MAAMC,IAAI,GAAGD,WAAW,CAACD,KAAK,CAAC,GAAG,CAAC;QACnCV,WAAW,CAACY,IAAI,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC,GAAGD,IAAI,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;MAC7C,CAAC,CAAC;IACH;EACD,CAAC,CAAC;EAEF,OAAOb,WAAW;AACnB,CAAC;AAED,SACC9B,cAAc,EACdgB,WAAW,EACXO,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}