{"ast":null,"code":"import _toConsumableArray from '@babel/runtime/helpers/toConsumableArray';\nimport _extends from '@babel/runtime/helpers/extends';\nimport _objectSpread from '@babel/runtime/helpers/objectSpread2';\nimport { CheckBox } from '@ui5/webcomponents-react/lib/CheckBox';\nimport { TableSelectionMode } from '@ui5/webcomponents-react/lib/TableSelectionMode';\nimport React from 'react';\nvar reOpenBracket = /\\[/g;\nvar reCloseBracket = /\\]/g;\nfunction makePathArray(obj) {\n  return flattenDeep(obj) // remove all periods in parts\n  .map(function (d) {\n    return String(d).replace('.', '_');\n  }) // join parts using period\n  .join('.') // replace brackets with periods\n  .replace(reOpenBracket, '.').replace(reCloseBracket, '') // split it back out on periods\n  .split('.');\n}\nfunction flattenDeep(arr) {\n  var newArr = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  if (!Array.isArray(arr)) {\n    newArr.push(arr);\n  } else {\n    for (var i = 0; i < arr.length; i += 1) {\n      flattenDeep(arr[i], newArr);\n    }\n  }\n  return newArr;\n} // copied from https://github.com/tannerlinsley/react-table/blob/master/src/utils.js#L169-L191 (13.Jan 2021)\n\nvar pathObjCache = new Map();\nfunction getBy(obj, path, def) {\n  if (!path) {\n    return obj;\n  }\n  var cacheKey = typeof path === 'function' ? path : JSON.stringify(path);\n  var pathObj = pathObjCache.get(cacheKey) || function () {\n    var pathObj = makePathArray(path);\n    pathObjCache.set(cacheKey, pathObj);\n    return pathObj;\n  }();\n  var val;\n  try {\n    val = pathObj.reduce(function (cursor, pathPart) {\n      return cursor[pathPart];\n    }, obj);\n  } catch (e) {// continue regardless of error\n  }\n  return typeof val !== 'undefined' ? val : def;\n}\nvar customCheckBoxStyling = {\n  verticalAlign: 'middle'\n};\nvar columns = function columns(_columns) {\n  return _columns.map(function (column) {\n    if (column.id === '__ui5wcr__internal_selection_column') {\n      return _objectSpread(_objectSpread({}, column), {}, {\n        Cell: function Cell(instance) {\n          var webComponentsReactProperties = instance.webComponentsReactProperties,\n            row = instance.row;\n          if (row.disableSelect === true) {\n            if (row.isGrouped && webComponentsReactProperties.selectionMode === TableSelectionMode.SINGLE_SELECT) {\n              return null;\n            }\n            if (webComponentsReactProperties.selectionMode === TableSelectionMode.SINGLE_SELECT) {\n              return /*#__PURE__*/React.createElement(\"div\", {\n                onClick: undefined,\n                \"data-name\": \"internal_selection_column\"\n              });\n            }\n            return /*#__PURE__*/React.createElement(CheckBox, _extends({}, row.getToggleRowSelectedProps(), {\n              disabled: true,\n              style: customCheckBoxStyling,\n              \"data-name\": \"internal_selection_column\"\n            }));\n          }\n          return column.Cell(instance);\n        },\n        Header: function Header() {\n          return null;\n        }\n      });\n    }\n    return column;\n  });\n};\n/**\n * A plugin hook for disabling row selection of specific rows.\n * __Note:__ The \"Select All\" checkbox is not available with this hook.\n *\n * @param disableRowSelection - Can be either a `string` or a `function`. `string:` Defines the key in the dataset for disabling rows. If the value of the key is `true`, then the row will not be selectable. `function:` Programmatically disable rows for selection. The function receives the current row as parameter.\n */\n\nvar useRowDisableSelection = function useRowDisableSelection(disableRowSelection) {\n  var disableRowAccessor = typeof disableRowSelection === 'function' ? disableRowSelection : function (d) {\n    return getBy(d.original, disableRowSelection, undefined);\n  };\n  var getRowProps = function getRowProps(rowProps, _ref) {\n    var row = _ref.row,\n      instance = _ref.instance;\n    var webComponentsReactProperties = instance.webComponentsReactProperties;\n    if (disableRowAccessor(row) === true) {\n      row.disableSelect = true;\n      return _objectSpread(_objectSpread({}, rowProps), {}, {\n        onClick: undefined,\n        className: webComponentsReactProperties.classes.tr\n      });\n    }\n    return rowProps;\n  };\n  var columnDeps = function columnDeps(deps) {\n    return [].concat(_toConsumableArray(deps), [disableRowSelection]);\n  };\n  var useDisableSelectionRow = function useDisableSelectionRow(hooks) {\n    hooks.getRowProps.push(getRowProps);\n    hooks.columns.push(columns);\n    hooks.columnsDeps.push(columnDeps);\n  };\n  useDisableSelectionRow.pluginName = 'useRowDisableSelection';\n  return useDisableSelectionRow;\n};\nexport { useRowDisableSelection };","map":{"version":3,"names":["reOpenBracket","reCloseBracket","makePathArray","obj","flattenDeep","map","d","String","replace","join","split","arr","newArr","arguments","length","undefined","Array","isArray","push","i","pathObjCache","Map","getBy","path","def","cacheKey","JSON","stringify","pathObj","get","set","val","reduce","cursor","pathPart","e","customCheckBoxStyling","verticalAlign","columns","_columns","column","id","_objectSpread","Cell","instance","webComponentsReactProperties","row","disableSelect","isGrouped","selectionMode","TableSelectionMode","SINGLE_SELECT","React","createElement","onClick","CheckBox","_extends","getToggleRowSelectedProps","disabled","style","Header","useRowDisableSelection","disableRowSelection","disableRowAccessor","original","getRowProps","rowProps","_ref","className","classes","tr","columnDeps","deps","concat","_toConsumableArray","useDisableSelectionRow","hooks","columnsDeps","pluginName"],"sources":["/home/paris/projekty/haergi/feng/workspace/recipe-sharing-app/frontend/node_modules/@ui5/webcomponents-react/src/components/AnalyticalTable/util/index.ts","/home/paris/projekty/haergi/feng/workspace/recipe-sharing-app/frontend/node_modules/@ui5/webcomponents-react/src/components/AnalyticalTable/pluginHooks/useRowDisableSelection.tsx"],"sourcesContent":["import { defaultOrderByFn } from 'react-table';\n\nexport const orderByFn = (rows, functions, directions) => {\n  const wrapSortFn = (sortFn, index) => {\n    const desc = directions[index] === false || directions[index] === 'desc';\n\n    return (rowA, rowB) => {\n      if (rowA.original?.emptyRow && !rowB.original?.emptyRow) {\n        return desc ? -1 : 1;\n      }\n      if (!rowA.original?.emptyRow && rowB.original?.emptyRow) {\n        return desc ? 1 : -1;\n      }\n      if (rowA.original?.emptyRow && rowB.original?.emptyRow) {\n        return 0;\n      }\n      return sortFn(rowA, rowB);\n    };\n  };\n\n  const wrappedSortfunctions = functions.map(wrapSortFn);\n\n  return defaultOrderByFn(rows, wrappedSortfunctions, directions);\n};\n\n// copied from https://github.com/tannerlinsley/react-table/blob/f97fb98509d0b27cc0bebcf3137872afe4f2809e/src/utils.js#L320-L347 (13. Jan 2021)\nconst reOpenBracket = /\\[/g;\nconst reCloseBracket = /\\]/g;\n\nfunction makePathArray(obj) {\n  return (\n    flattenDeep(obj)\n      // remove all periods in parts\n      .map((d) => String(d).replace('.', '_'))\n      // join parts using period\n      .join('.')\n      // replace brackets with periods\n      .replace(reOpenBracket, '.')\n      .replace(reCloseBracket, '')\n      // split it back out on periods\n      .split('.')\n  );\n}\n\nfunction flattenDeep(arr, newArr = []) {\n  if (!Array.isArray(arr)) {\n    newArr.push(arr);\n  } else {\n    for (let i = 0; i < arr.length; i += 1) {\n      flattenDeep(arr[i], newArr);\n    }\n  }\n  return newArr;\n}\n\n// copied from https://github.com/tannerlinsley/react-table/blob/master/src/utils.js#L169-L191 (13.Jan 2021)\nconst pathObjCache = new Map();\n\nexport function getBy(obj, path, def) {\n  if (!path) {\n    return obj;\n  }\n  const cacheKey = typeof path === 'function' ? path : JSON.stringify(path);\n\n  const pathObj =\n    pathObjCache.get(cacheKey) ||\n    (() => {\n      const pathObj = makePathArray(path);\n      pathObjCache.set(cacheKey, pathObj);\n      return pathObj;\n    })();\n  let val;\n\n  try {\n    val = pathObj.reduce((cursor, pathPart) => {\n      return cursor[pathPart];\n    }, obj);\n  } catch (e) {\n    // continue regardless of error\n  }\n  return typeof val !== 'undefined' ? val : def;\n}\n","import { CheckBox } from '@ui5/webcomponents-react/lib/CheckBox';\nimport { TableSelectionMode } from '@ui5/webcomponents-react/lib/TableSelectionMode';\nimport React from 'react';\nimport { getBy } from '../util';\n\ntype DisableRowSelectionType = string | ((row: Record<any, any>) => boolean);\n\nconst customCheckBoxStyling = {\n  verticalAlign: 'middle'\n};\nconst columns = (columns) => {\n  return columns.map((column) => {\n    if (column.id === '__ui5wcr__internal_selection_column') {\n      return {\n        ...column,\n        Cell: (instance) => {\n          const { webComponentsReactProperties, row } = instance;\n          if (row.disableSelect === true) {\n            if (row.isGrouped && webComponentsReactProperties.selectionMode === TableSelectionMode.SINGLE_SELECT) {\n              return null;\n            }\n            if (webComponentsReactProperties.selectionMode === TableSelectionMode.SINGLE_SELECT) {\n              return <div onClick={undefined} data-name=\"internal_selection_column\" />;\n            }\n            return (\n              <CheckBox\n                {...row.getToggleRowSelectedProps()}\n                disabled\n                style={customCheckBoxStyling}\n                data-name=\"internal_selection_column\"\n              />\n            );\n          }\n          return column.Cell(instance);\n        },\n        Header: () => null\n      };\n    }\n    return column;\n  });\n};\n\n/**\n * A plugin hook for disabling row selection of specific rows.\n * __Note:__ The \"Select All\" checkbox is not available with this hook.\n *\n * @param disableRowSelection - Can be either a `string` or a `function`. `string:` Defines the key in the dataset for disabling rows. If the value of the key is `true`, then the row will not be selectable. `function:` Programmatically disable rows for selection. The function receives the current row as parameter.\n */\nexport const useRowDisableSelection = (disableRowSelection: DisableRowSelectionType) => {\n  const disableRowAccessor =\n    typeof disableRowSelection === 'function'\n      ? disableRowSelection\n      : (d) => getBy(d.original, disableRowSelection, undefined);\n  const getRowProps = (rowProps, { row, instance }) => {\n    const { webComponentsReactProperties } = instance;\n    if (disableRowAccessor(row) === true) {\n      row.disableSelect = true;\n      return { ...rowProps, onClick: undefined, className: webComponentsReactProperties.classes.tr };\n    }\n    return rowProps;\n  };\n\n  const columnDeps = (deps) => {\n    return [...deps, disableRowSelection];\n  };\n\n  const useDisableSelectionRow = (hooks) => {\n    hooks.getRowProps.push(getRowProps);\n    hooks.columns.push(columns);\n    hooks.columnsDeps.push(columnDeps);\n  };\n\n  useDisableSelectionRow.pluginName = 'useRowDisableSelection';\n\n  return useDisableSelectionRow;\n};\n"],"mappings":";;;;;;AA0BA,IAAMA,aAAa,GAAG,KAAtB;AACA,IAAMC,cAAc,GAAG,KAAvB;AAEA,SAASC,aAATA,CAAuBC,GAAvB,EAA4B;EAC1B,OACEC,WAAW,CAACD,GAAD,CAAX;EAAA,CAEGE,GAFH,CAEO,UAACC,CAAD;IAAA,OAAOC,MAAM,CAACD,CAAD,CAAN,CAAUE,OAAV,CAAkB,GAAlB,EAAuB,GAAvB,CAAP;EAAA,CAFP;EAAA,CAIGC,IAJH,CAIQ,GAJR;EAAA,CAMGD,OANH,CAMWR,aANX,EAM0B,GAN1B,EAOGQ,OAPH,CAOWP,cAPX,EAO2B,EAP3B;EAAA,CASGS,KATH,CASS,GATT,CADF;AAYD;AAED,SAASN,WAATA,CAAqBO,GAArB,EAAuC;EAAA,IAAbC,MAAa,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAJ,EAAI;EACrC,IAAI,CAACG,KAAK,CAACC,OAAN,CAAcN,GAAd,CAAL,EAAyB;IACvBC,MAAM,CAACM,IAAP,CAAYP,GAAZ;EACD,CAFD,MAEO;IACL,KAAK,IAAIQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGR,GAAG,CAACG,MAAxB,EAAgCK,CAAC,IAAI,CAArC,EAAwC;MACtCf,WAAW,CAACO,GAAG,CAACQ,CAAD,CAAJ,EAASP,MAAT,CAAX;IACD;EACF;EACD,OAAOA,MAAP;AACD;;AAGD,IAAMQ,YAAY,GAAG,IAAIC,GAAJ,EAArB;AAEO,SAASC,KAATA,CAAenB,GAAf,EAAoBoB,IAApB,EAA0BC,GAA1B,EAA+B;EACpC,IAAI,CAACD,IAAL,EAAW;IACT,OAAOpB,GAAP;EACD;EACD,IAAMsB,QAAQ,GAAG,OAAOF,IAAP,KAAgB,UAAhB,GAA6BA,IAA7B,GAAoCG,IAAI,CAACC,SAAL,CAAeJ,IAAf,CAArD;EAEA,IAAMK,OAAO,GACXR,YAAY,CAACS,GAAb,CAAiBJ,QAAjB,KACC,YAAM;IACL,IAAMG,OAAO,GAAG1B,aAAa,CAACqB,IAAD,CAA7B;IACAH,YAAY,CAACU,GAAb,CAAiBL,QAAjB,EAA2BG,OAA3B;IACA,OAAOA,OAAP;EACD,CAJD,EAFF;EAOA,IAAIG,GAAJ;EAEA,IAAI;IACFA,GAAG,GAAGH,OAAO,CAACI,MAAR,CAAe,UAACC,MAAD,EAASC,QAAT,EAAsB;MACzC,OAAOD,MAAM,CAACC,QAAD,CAAb;IACD,CAFK,EAEH/B,GAFG,CAAN;EAGD,CAJD,CAIE,OAAOgC,CAAP,EAAU;EAAA;EAGZ,OAAO,OAAOJ,GAAP,KAAe,WAAf,GAA6BA,GAA7B,GAAmCP,GAA1C;AACD;AC1ED,IAAMY,qBAAqB,GAAG;EAC5BC,aAAa,EAAE;AADa,CAA9B;AAGA,IAAMC,OAAO,GAAG,SAAAA,QAACC,QAAD,EAAa;EAC3B,OAAOA,QAAO,CAAClC,GAAR,CAAY,UAACmC,MAAD,EAAY;IAC7B,IAAIA,MAAM,CAACC,EAAP,KAAc,qCAAlB,EAAyD;MACvD,OAAAC,aAAA,CAAAA,aAAA,KACKF,MADL;QAEEG,IAAI,EAAE,SAAAA,KAACC,QAAD,EAAc;UAAA,IACVC,4BADU,GAC4BD,QAD5B,CACVC,4BADU;YACoBC,GADpB,GAC4BF,QAD5B,CACoBE,GADpB;UAElB,IAAIA,GAAG,CAACC,aAAJ,KAAsB,IAA1B,EAAgC;YAC9B,IAAID,GAAG,CAACE,SAAJ,IAAiBH,4BAA4B,CAACI,aAA7B,KAA+CC,kBAAkB,CAACC,aAAvF,EAAsG;cACpG,OAAO,IAAP;YACD;YACD,IAAIN,4BAA4B,CAACI,aAA7B,KAA+CC,kBAAkB,CAACC,aAAtE,EAAqF;cACnF,oBAAOC,KAAA,CAAAC,aAAA;gBAAKC,OAAO,EAAEvC,SAAd;gBAAyB,aAAU;cAAnC,EAAP;YACD;YACD,oBACEqC,KAAA,CAAAC,aAAA,CAACE,QAAD,EAAAC,QAAA,KACMV,GAAG,CAACW,yBAAJ,EADN;cAEEC,QAAQ,MAFV;cAGEC,KAAK,EAAEvB,qBAHT;cAIE,aAAU;YAJZ,GADF;UAQD;UACD,OAAOI,MAAM,CAACG,IAAP,CAAYC,QAAZ,CAAP;QACD,CArBH;QAsBEgB,MAAM,EAAE,SAAAA,OAAA;UAAA,OAAM,IAAN;QAAA;MAtBV;IAwBD;IACD,OAAOpB,MAAP;EACD,CA5BM,CAAP;AA6BD,CA9BD;AAgCA;AACA;AACA;AACA;AACA;AACA;;IACaqB,sBAAsB,GAAG,SAAzBA,sBAAyBA,CAACC,mBAAD,EAAkD;EACtF,IAAMC,kBAAkB,GACtB,OAAOD,mBAAP,KAA+B,UAA/B,GACIA,mBADJ,GAEI,UAACxD,CAAD;IAAA,OAAOgB,KAAK,CAAChB,CAAC,CAAC0D,QAAH,EAAaF,mBAAb,EAAkC/C,SAAlC,CAAZ;EAAA,CAHN;EAIA,IAAMkD,WAAW,GAAG,SAAdA,WAAcA,CAACC,QAAD,EAAAC,IAAA,EAAiC;IAAA,IAApBrB,GAAoB,GAAAqB,IAAA,CAApBrB,GAAoB;MAAfF,QAAe,GAAAuB,IAAA,CAAfvB,QAAe;IAAA,IAC3CC,4BAD2C,GACVD,QADU,CAC3CC,4BAD2C;IAEnD,IAAIkB,kBAAkB,CAACjB,GAAD,CAAlB,KAA4B,IAAhC,EAAsC;MACpCA,GAAG,CAACC,aAAJ,GAAoB,IAApB;MACA,OAAAL,aAAA,CAAAA,aAAA,KAAYwB,QAAZ;QAAsBZ,OAAO,EAAEvC,SAA/B;QAA0CqD,SAAS,EAAEvB,4BAA4B,CAACwB,OAA7B,CAAqCC;MAA1F;IACD;IACD,OAAOJ,QAAP;EACD,CAPD;EASA,IAAMK,UAAU,GAAG,SAAbA,UAAaA,CAACC,IAAD,EAAU;IAC3B,UAAAC,MAAA,CAAAC,kBAAA,CAAWF,IAAX,IAAiBV,mBAAjB;EACD,CAFD;EAIA,IAAMa,sBAAsB,GAAG,SAAzBA,sBAAyBA,CAACC,KAAD,EAAW;IACxCA,KAAK,CAACX,WAAN,CAAkB/C,IAAlB,CAAuB+C,WAAvB;IACAW,KAAK,CAACtC,OAAN,CAAcpB,IAAd,CAAmBoB,OAAnB;IACAsC,KAAK,CAACC,WAAN,CAAkB3D,IAAlB,CAAuBqD,UAAvB;EACD,CAJD;EAMAI,sBAAsB,CAACG,UAAvB,GAAoC,wBAApC;EAEA,OAAOH,sBAAP;AACD"},"metadata":{},"sourceType":"module","externalDependencies":[]}