{"version":3,"file":"Form.js","sources":["../src/components/Form/Form.jss.ts","../src/components/Form/index.tsx"],"sourcesContent":["import { ThemingParameters } from '@ui5/webcomponents-react-base/lib/ThemingParameters';\n\nconst styles = {\n  form: {\n    display: 'grid',\n    alignItems: 'center',\n    rowGap: '0.25rem',\n    columnGap: '0.5rem',\n    gridTemplateColumns: `repeat(12, 1fr)`,\n    '--ui5wcr_form_full_span': 'span 12',\n    '--ui5wcr_form_label_text_align': 'end',\n    '&[data-columns=\"1\"]': {},\n    '&[data-columns=\"2\"]': {\n      gridTemplateColumns: `repeat(24, 1fr)`,\n      '--ui5wcr_form_full_span': 'span 24'\n    },\n    '&[data-columns=\"3\"]': {\n      gridTemplateColumns: `repeat(36, 1fr)`,\n      '--ui5wcr_form_full_span': 'span 36'\n    },\n    '&[data-columns=\"4\"]': {\n      gridTemplateColumns: `repeat(48, 1fr)`,\n      '--ui5wcr_form_full_span': 'span 48'\n    },\n    '&[data-columns=\"5\"]': {\n      gridTemplateColumns: `repeat(60, 1fr)`,\n      '--ui5wcr_form_full_span': 'span 60'\n    },\n    '&[data-columns=\"6\"]': {\n      gridTemplateColumns: `repeat(72, 1fr)`,\n      '--ui5wcr_form_full_span': 'span 72'\n    },\n    '&[data-columns=\"7\"]': {\n      gridTemplateColumns: `repeat(84, 1fr)`,\n      '--ui5wcr_form_full_span': 'span 84'\n    },\n    '&[data-columns=\"8\"]': {\n      gridTemplateColumns: `repeat(96, 1fr)`,\n      '--ui5wcr_form_full_span': 'span 96'\n    },\n    '&[data-columns=\"9\"]': {\n      gridTemplateColumns: `repeat(108, 1fr)`,\n      '--ui5wcr_form_full_span': 'span 108'\n    },\n    '&[data-columns=\"10\"]': {\n      gridTemplateColumns: `repeat(120, 1fr)`,\n      '--ui5wcr_form_full_span': 'span 120'\n    },\n    '&[data-columns=\"11\"]': {\n      gridTemplateColumns: `repeat(132, 1fr)`,\n      '--ui5wcr_form_full_span': 'span 132'\n    },\n    '&[data-columns=\"12\"]': {\n      gridTemplateColumns: `repeat(144, 1fr)`,\n      '--ui5wcr_form_full_span': 'span 144'\n    }\n  },\n  formTitle: {\n    borderBottom: `1px solid ${ThemingParameters.sapGroup_TitleBorderColor}`,\n    marginBottom: '1.75rem',\n    gridColumn: 'var(--ui5wcr_form_full_span)'\n  }\n};\n\nexport { styles };\n","import { createComponentStyles } from '@ui5/webcomponents-react-base/lib/createComponentStyles';\nimport { Device } from '@ui5/webcomponents-react-base/lib/Device';\nimport { useConsolidatedRef, usePassThroughHtmlProps } from '@ui5/webcomponents-react-base/lib/hooks';\nimport { StyleClassHelper } from '@ui5/webcomponents-react-base/lib/StyleClassHelper';\nimport { Title } from '@ui5/webcomponents-react/lib/Title';\nimport { TitleLevel } from '@ui5/webcomponents-react/lib/TitleLevel';\nimport React, {\n  Children,\n  cloneElement,\n  CSSProperties,\n  FC,\n  forwardRef,\n  ReactElement,\n  Ref,\n  useEffect,\n  useMemo,\n  useRef,\n  useState\n} from 'react';\nimport { CommonProps } from '../../interfaces/CommonProps';\nimport { styles } from './Form.jss';\n\nexport interface FormPropTypes extends CommonProps {\n  /**\n   * Components that are placed into Form. Please use only `FormGroup` and `FormItem` in order to preserve the\n   * intended design.\n   */\n  children: ReactElement | ReactElement[];\n  /**\n   * Form title\n   */\n  title?: string;\n  /**\n   * Form columns for small size.\n   * Must be a number between 1 and 12.<br />\n   * Default Value: 1\n   */\n  columnsS?: number;\n  /**\n   * Form columns for medium size. The number of columns for medium size must not be smaller than the number of columns for small size.\n   * Must be a number between 1 and 12.<br />\n   * Default Value: 1\n   */\n  columnsM?: number;\n  /**\n   * Form columns for large size. The number of columns for large size must not be smaller than the number of columns for medium size.\n   * Must be a number between 1 and 12.<br />\n   * Default Value: 1\n   */\n  columnsL?: number;\n  /**\n   * Form columns for extra large size. The number of columns for extra large size must not be smaller than the number of columns for large size.\n   * Must be a number between 1 and 12.<br />\n   * Default Value: 2\n   */\n  columnsXL?: number;\n\n  /**\n   * Default span for labels in small size.\n   * Must be a number between 1 and 12.<br />\n   * Default Value: 12\n   */\n  labelSpanS?: number;\n  /**\n   * Default span for labels in medium size.\n   * Must be a number between 1 and 12.<br />\n   * Default Value: 2\n   */\n  labelSpanM?: number;\n  /**\n   * Default span for labels in large size.\n   * Must be a number between 1 and 12.<br />\n   * Default Value: 4\n   */\n  labelSpanL?: number;\n  /**\n   * Default span for labels in extra large size.\n   * Must be a number between 1 and 12.<br />\n   * Default Value: 4\n   */\n  labelSpanXL?: number;\n}\n\nconst useStyles = createComponentStyles(styles, { name: 'Form' });\n\nconst Form: FC<FormPropTypes> = forwardRef((props: FormPropTypes, ref: Ref<HTMLDivElement>) => {\n  const {\n    title,\n    children,\n    className,\n    slot,\n    style,\n    tooltip,\n    columnsS = 1,\n    columnsM = 1,\n    columnsL = 1,\n    columnsXL = 2,\n    labelSpanS = 12,\n    labelSpanM = 2,\n    labelSpanL = 4,\n    labelSpanXL = 4\n  } = props;\n\n  const columnsMap = new Map();\n  columnsMap.set('Phone', columnsS);\n  columnsMap.set('Tablet', columnsM);\n  columnsMap.set('Desktop', columnsL);\n  columnsMap.set('LargeDesktop', columnsXL);\n\n  const labelSpanMap = new Map();\n  labelSpanMap.set('Phone', labelSpanS);\n  labelSpanMap.set('Tablet', labelSpanM);\n  labelSpanMap.set('Desktop', labelSpanL);\n  labelSpanMap.set('LargeDesktop', labelSpanXL);\n\n  const formRef = useConsolidatedRef<HTMLDivElement>(ref);\n  // use the window range set as first best guess\n  const [currentRange, setCurrentRange] = useState(Device.media.getCurrentRange('StdExt', window.innerWidth).name);\n  const lastRange = useRef(currentRange);\n\n  useEffect(() => {\n    const observer = new ResizeObserver(([form]) => {\n      const newRange = Device.media.getCurrentRange('StdExt', form.contentRect.width).name;\n      if (lastRange.current !== newRange) {\n        lastRange.current = newRange;\n        setCurrentRange(newRange);\n      }\n    });\n\n    if (formRef.current) {\n      observer.observe(formRef.current);\n    }\n\n    return () => {\n      observer.disconnect();\n    };\n  }, [formRef, setCurrentRange, lastRange]);\n\n  const classes = useStyles();\n\n  const currentNumberOfColumns = columnsMap.get(currentRange);\n  const currentLabelSpan = labelSpanMap.get(currentRange);\n\n  const [formGroups, updatedTitle] = useMemo(() => {\n    const computedFormGroups: any[] = [];\n\n    if (Children.count(children) === 1 && !title && (children as ReactElement).props.title?.length > 0) {\n      return [cloneElement(children as ReactElement, { title: null }), (children as ReactElement).props.title];\n    }\n\n    const currentColumnCount = currentNumberOfColumns;\n    if (currentColumnCount === 1) {\n      return [children, title];\n    }\n\n    const rows = [];\n    const childrenArray = Children.toArray(children);\n    const estimatedNumberOfGroupRows = childrenArray.length / currentColumnCount;\n    for (let i = 0; i < estimatedNumberOfGroupRows; i++) {\n      rows[i] = childrenArray.slice(i * currentColumnCount, i * currentColumnCount + currentColumnCount);\n    }\n\n    const maxRowsPerRow: number[] = [];\n    rows.forEach((rowGroup: ReactElement[], rowIndex) => {\n      const numberOfRowsOfEachForm = rowGroup.map((row) => {\n        if ((row.type as any).displayName === 'FormItem') {\n          return 1;\n        }\n        return Children.count(row.props.children) + (row.props?.title?.length > 0 ? 1 : 0);\n      });\n\n      maxRowsPerRow[rowIndex] = Math.max(...numberOfRowsOfEachForm);\n    });\n\n    let totalRowCount = 2;\n\n    rows.forEach((column: ReactElement[], rowIndex) => {\n      const rowsForThisRow = maxRowsPerRow[rowIndex];\n      column.forEach((cell, columnIndex) => {\n        computedFormGroups.push(\n          <Title\n            level={TitleLevel.H5}\n            style={{\n              paddingBottom: '0.75rem',\n              gridColumnEnd: 'span 12',\n              gridColumnStart: columnIndex * 12 + 1,\n              gridRowStart: totalRowCount\n            }}\n            key={`title-col-${columnIndex}-row-${totalRowCount}`}\n          >\n            {cell?.props?.title ?? ''}\n          </Title>\n        );\n\n        for (let i = 0; i < rowsForThisRow; i++) {\n          const itemToRender =\n            (cell.type as any).displayName === 'FormGroup'\n              ? Children.toArray(cell.props.children)[i]\n              : (cell.type as any).displayName === 'FormItem' && i === 0\n              ? cell\n              : null;\n\n          if (itemToRender) {\n            computedFormGroups.push(\n              cloneElement(itemToRender as ReactElement, {\n                key: `col-${columnIndex}-row-${totalRowCount + i}`,\n                columnIndex,\n                rowIndex: totalRowCount + i + 1,\n                labelSpan: currentLabelSpan\n              })\n            );\n          }\n        }\n      });\n      totalRowCount += rowsForThisRow;\n      if (rowsForThisRow === 1) {\n        totalRowCount += 1;\n      }\n    });\n\n    return [computedFormGroups, title];\n  }, [children, currentRange, title, currentNumberOfColumns, currentLabelSpan]);\n\n  const passThroughProps = usePassThroughHtmlProps(props);\n\n  const formClassNames = StyleClassHelper.of(classes.form).putIfPresent(className);\n\n  const gridStyles: CSSProperties = {};\n  gridStyles['--ui5wcr_form_content_span'] = 12 - currentLabelSpan;\n  gridStyles['--ui5wcr_form_label_span'] = currentLabelSpan;\n\n  // special case for phones or label span 12\n  if (gridStyles['--ui5wcr_form_content_span'] <= 0) {\n    gridStyles['--ui5wcr_form_content_span'] = 12;\n    gridStyles['--ui5wcr_form_label_text_align'] = 'start';\n  }\n\n  return (\n    <div\n      ref={formRef}\n      slot={slot}\n      className={formClassNames.valueOf()}\n      title={tooltip}\n      style={{\n        ...gridStyles,\n        ...(style || {})\n      }}\n      data-columns={currentNumberOfColumns}\n      {...passThroughProps}\n    >\n      {updatedTitle && (\n        <Title level={TitleLevel.H3} className={classes.formTitle}>\n          {updatedTitle}\n        </Title>\n      )}\n      {formGroups}\n    </div>\n  );\n});\n\nForm.displayName = 'Form';\n\nexport { Form };\n"],"names":["styles","form","display","alignItems","rowGap","columnGap","gridTemplateColumns","formTitle","borderBottom","ThemingParameters","sapGroup_TitleBorderColor","marginBottom","gridColumn","useStyles","createComponentStyles","name","Form","forwardRef","props","ref","title","children","className","slot","style","tooltip","columnsS","columnsM","columnsL","columnsXL","labelSpanS","labelSpanM","labelSpanL","labelSpanXL","columnsMap","Map","set","labelSpanMap","formRef","useConsolidatedRef","useState","Device","media","getCurrentRange","window","innerWidth","currentRange","setCurrentRange","lastRange","useRef","useEffect","observer","ResizeObserver","newRange","contentRect","width","current","observe","disconnect","classes","currentNumberOfColumns","get","currentLabelSpan","useMemo","computedFormGroups","Children","count","length","cloneElement","currentColumnCount","rows","childrenArray","toArray","estimatedNumberOfGroupRows","i","slice","maxRowsPerRow","forEach","rowGroup","rowIndex","numberOfRowsOfEachForm","map","row","type","displayName","Math","max","totalRowCount","column","rowsForThisRow","cell","columnIndex","push","TitleLevel","H5","paddingBottom","gridColumnEnd","gridColumnStart","gridRowStart","itemToRender","key","labelSpan","formGroups","updatedTitle","passThroughProps","usePassThroughHtmlProps","formClassNames","StyleClassHelper","of","putIfPresent","gridStyles","valueOf","H3"],"mappings":"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"}